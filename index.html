<!doctype html>
<html lang="tr" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArduMind - Arduino'yu Anlayarak Ã–ÄŸren</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- CodeMirror for Professional Editor -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/closebrackets.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/selection/active-line.min.js"></script>

  <style>
    body {
      box-sizing: border-box;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes glow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes clickEffect {
      0% { transform: scale(1); opacity: 0.5; }
      100% { transform: scale(2.5); opacity: 0; }
    }
    
    /* Ultrasonik Dalga Animasyonu */
    @keyframes waveAnimation {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(1);
        opacity: 0;
      }
    }
    
    /* CodeMirror Custom Styles */
    .CodeMirror {
      height: 100% !important;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 14px;
      background: transparent !important;
    }
    .cm-s-dracula.CodeMirror {
      background-color: transparent !important;
    }
    .CodeMirror-gutters {
      background-color: #1e293b !important;
      border-right: 1px solid #334155 !important;
    }
    .CodeMirror-linenumber {
      color: #64748b !important;
    }
    .CodeMirror-activeline-background {
      background: rgba(51, 65, 85, 0.3) !important;
    }

    textarea.code-input {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
      font-size: 14px;
      line-height: 1.6;
      tab-size: 2;
      resize: none;
    }
    
    .doc-code-block {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
      font-size: 13px;
      line-height: 1.6;
      background: #1e293b;
      border-radius: 8px;
      padding: 16px;
      overflow-x: auto;
      border: 1px solid #334155;
    }
    
    .keyword { color: #c792ea; font-weight: 500; }
    .function { color: #82aaff; }
    .number { color: #f78c6c; }
    .string { color: #c3e88d; }
    .comment { color: #546e7a; font-style: italic; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-slate-900 text-slate-100">
  <div id="app" class="h-full w-full overflow-auto"></div>
  <script>
    // ==================== STATE MANAGEMENT ====================
    const savedUsers = JSON.parse(localStorage.getItem('ardumind_users') || '[]');
    const savedCurrentUser = JSON.parse(localStorage.getItem('ardumind_current_user') || 'null');
    const savedCode = localStorage.getItem('ardumind_editor_code');

    let appState = {
      currentUser: savedCurrentUser,
      users: savedUsers,
      showAuthModal: false,
      authMode: 'login',
      currentPage: savedCurrentUser ? 'dashboard' : 'home',
      currentVideoFilter: '',
      editorWrap: false,
      editorInstance: null,
      showIntro: false,
      currentModuleView: null,
      currentDocSection: 'basics',
      collapsedTopics: {}, // AÃ§Ä±lÄ±r-kapanÄ±r bloklar iÃ§in
      editorCode: savedCode || `void setup() {
  pinMode(13, OUTPUT);
}

void loop() {
  digitalWrite(13, HIGH);
  delay(1000);
  digitalWrite(13, LOW);
  delay(1000);
}`,
      simulationRunning: false,
      simulationInterval: null,
      ledStates: {},
      motorStates: {},
      displayMotorStates: {}, // GÃ¶rselleÅŸtirme iÃ§in yumuÅŸatÄ±lmÄ±ÅŸ hÄ±z
      motorAngles: {},        // SÃ¼rekli dÃ¶nÃ¼ÅŸ iÃ§in aÃ§Ä± takibi
      lastUpdate: Date.now(),
      servoStates: {},
      potValue: 512, // 0-1023
      hcsr04Distance: 100, // 0-400 cm
      buttonStates: { 2: false },
      serialInitialized: false,
      serialOutput: [],
      userSerialOutput: [], // Sadece kullanÄ±cÄ±nÄ±n Serial.print Ã§Ä±ktÄ±larÄ±
      currentQuiz: null,
      quizAnswers: {},
      quizCompleted: false,
      quizScore: 0,
      flowchartNodes: [],
      flowchartConnections: [],
      algoDraggingNode: null,
      algoConnectingFrom: null
    };

    function updateAnimations() {
      const now = Date.now();
      const dt = (now - appState.lastUpdate) / 1000; // Saniye cinsinden fark
      appState.lastUpdate = now;

      let changed = false;

      // DC Motor YumuÅŸatma ve DÃ¶nÃ¼ÅŸ Takibi
      Object.keys(appState.motorStates).forEach(pin => {
        const targetSpeed = appState.motorStates[pin] || 0;
        const currentSpeed = appState.displayMotorStates[pin] || 0;
        
        // HÄ±z yumuÅŸatma (Lerp)
        if (Math.abs(targetSpeed - currentSpeed) > 0.1) {
          appState.displayMotorStates[pin] = currentSpeed + (targetSpeed - currentSpeed) * 0.1;
          changed = true;
        } else {
          appState.displayMotorStates[pin] = targetSpeed;
        }

        // AÃ§Ä± gÃ¼ncelleme (DÃ¶nÃ¼ÅŸ)
        const speedFactor = appState.displayMotorStates[pin] / 255;
        if (speedFactor > 0) {
          const rotationSpeed = 720 * speedFactor; // Saniyede derece (720 = 2 tur/sn max)
          appState.motorAngles[pin] = ((appState.motorAngles[pin] || 0) + rotationSpeed * dt) % 360;
          changed = true;
        }
      });

      if (changed && appState.simulationRunning) {
        updateSimulationDisplay();
      }

      requestAnimationFrame(updateAnimations);
    }
    updateAnimations();

    function saveAppState() {
      localStorage.setItem('ardumind_users', JSON.stringify(appState.users));
      localStorage.setItem('ardumind_current_user', JSON.stringify(appState.currentUser));
      localStorage.setItem('ardumind_editor_code', appState.editorCode);
    }

    function toggleTopic(topicKey) {
      appState.collapsedTopics[topicKey] = !appState.collapsedTopics[topicKey];
      renderApp();
    }

    // ==================== DATA STRUCTURES ====================
    const documentation = {
      'algoritma-temelleri': {
        title: 'Algoritma Temelleri',
        icon: 'ğŸ§ ',
        color: 'from-orange-400 to-red-500',
        topics: [
          {
            title: 'Algoritma Nedir?',
            description: 'MantÄ±ksal dÃ¼ÅŸÃ¼nme ve problem Ã§Ã¶zme',
            content: `
              <p class="mb-4">Algoritma, bir problemi Ã§Ã¶zmek veya belirli bir amaca ulaÅŸmak iÃ§in tasarlanan yoldur. Kod yazmadan Ã¶nce algoritma kurmak, hatalarÄ± Ã¶nler.</p>
              <h4 class="font-bold text-lg mb-2 text-orange-400">AlgoritmanÄ±n Ã–zellikleri</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>Girdi:</b> Ä°ÅŸlem iÃ§in gerekli veriler.</li>
                <li><b>SÄ±ralÄ±lÄ±k:</b> AdÄ±mlar belirli bir sÄ±rayla izlenir.</li>
                <li><b>Kesinlik:</b> Her adÄ±m net ve anlaÅŸÄ±lÄ±r olmalÄ±dÄ±r.</li>
                <li><b>Sonluluk:</b> Algoritma bir noktada bitmelidir.</li>
              </ul>`
          },
          {
            title: 'AkÄ±ÅŸ DiyagramlarÄ±',
            description: 'GÃ¶rselleÅŸtirme araÃ§larÄ±',
            content: `
              <p class="mb-4">AkÄ±ÅŸ diyagramlarÄ±, algoritmanÄ±n gÃ¶rsel bir temsilidir. Her ÅŸekil farklÄ± bir iÅŸlemi ifade eder:</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>Oval:</b> BaÅŸla / Bitir</li>
                <li><b>DikdÃ¶rtgen:</b> Ä°ÅŸlem / Atama</li>
                <li><b>EÅŸkenar DÃ¶rtgen:</b> Karar / KoÅŸul</li>
                <li><b>Paralelkenar:</b> Veri GiriÅŸi / Ã‡Ä±kÄ±ÅŸÄ±</li>
              </ul>`
          },
          {
            title: 'SÃ¶zde Kod (Pseudo-code)',
            description: 'YarÄ± kod, yarÄ± konuÅŸma dili',
            content: `
              <p class="mb-4">SÃ¶zde kod, programlama dili kurallarÄ±na takÄ±lmadan, algoritmayÄ± insan diline yakÄ±n bir ÅŸekilde yazmaktÄ±r.</p>
              <div class="doc-code-block mb-4">
                BAÅLA<br>
                SAYI OKU (sicaklik)<br>
                EÄER sicaklik > 30 Ä°SE<br>
                &nbsp;&nbsp;YAZ "Klima AÃ§"<br>
                DEÄÄ°LSE<br>
                &nbsp;&nbsp;YAZ "Klima Kapat"<br>
                BÄ°TÄ°R
              </div>`
          },
          {
            id: 4,
            question: 'Bir algoritmanÄ±n â€œSonlulukâ€ Ã¶zelliÄŸi neyi ifade eder?',
            options: ['Sonsuz dÃ¶ngÃ¼ iÃ§erir', 'Belirli adÄ±mlardan sonra biter', 'Girdi gerektirmez', 'Ã‡Ä±kÄ±ÅŸÄ± yoktur'],
            correct: 1,
            explanation: 'Sonluluk, algoritmanÄ±n bir noktada mutlaka sona ermesi gerektiÄŸini belirtir.'
          },
          {
            id: 5,
            question: 'AkÄ±ÅŸ diyagramÄ±nda oval ÅŸekil hangi adÄ±mÄ± temsil eder?',
            options: ['Ä°ÅŸlem', 'BaÅŸla/Bitir', 'Karar', 'GiriÅŸ/Ã‡Ä±kÄ±ÅŸ'],
            correct: 1,
            explanation: 'Oval, sÃ¼recin baÅŸlangÄ±Ã§ ve bitiÅŸini gÃ¶sterir.'
          },
          {
            id: 6,
            question: 'Bir algoritmada â€œKesinlikâ€ ne demektir?',
            options: ['AdÄ±mlarÄ±n esnek tanÄ±mlanmasÄ±', 'Her adÄ±mÄ±n net ve anlaÅŸÄ±lÄ±r olmasÄ±', 'HÄ±zlÄ± Ã§alÄ±ÅŸma', 'Az bellek kullanÄ±mÄ±'],
            correct: 1,
            explanation: 'Kesinlik, adÄ±mlarÄ±n yorumdan baÄŸÄ±msÄ±z, aÃ§Ä±k ve belirli olmasÄ±dÄ±r.'
          },
          {
            id: 7,
            question: 'GiriÅŸ ve Ã‡Ä±kÄ±ÅŸ kavramlarÄ± iÃ§in doÄŸru olanÄ± seÃ§in:',
            options: ['Algoritma yalnÄ±zca Ã§Ä±kÄ±ÅŸ Ã¼retir', 'Girdi olmadan algoritma Ã§alÄ±ÅŸmaz', 'Girdi iÅŸlem iÃ§in gereken veridir, Ã§Ä±kÄ±ÅŸ sonuÃ§tur', 'Girdi ve Ã§Ä±kÄ±ÅŸ aynÄ± ÅŸeydir'],
            correct: 2,
            explanation: 'Girdi, algoritmaya saÄŸlanan veridir; Ã§Ä±kÄ±ÅŸ ise algoritmanÄ±n Ã¼rettiÄŸi sonuÃ§tur.'
          },
          {
            id: 8,
            question: 'Karar noktalarÄ± iÃ§in en uygun akÄ±ÅŸ diyagramÄ± ÅŸekli hangisidir?',
            options: ['DikdÃ¶rtgen', 'Paralelkenar', 'EÅŸkenar dÃ¶rtgen', 'Oval'],
            correct: 2,
            explanation: 'KoÅŸul/karar yapÄ±larÄ± eÅŸkenar dÃ¶rtgen ile gÃ¶sterilir.'
          },
          {
            id: 9,
            question: 'Algoritma tasarÄ±mÄ±nda sÃ¶zde kodun avantajÄ± nedir?',
            options: ['Derleyiciye Ã¶zel olmasÄ±', 'Dile Ã¶zgÃ¼ anahtar sÃ¶zcÃ¼kler kullanmasÄ±', 'HÄ±zlÄ± prototipleme ve mantÄ±k netliÄŸi saÄŸlamasÄ±', 'Sadece matematik iÃ§in kullanÄ±lmasÄ±'],
            correct: 2,
            explanation: 'SÃ¶zde kod dil baÄŸÄ±msÄ±zdÄ±r ve dÃ¼ÅŸÃ¼nceyi dÃ¼zenlemeyi kolaylaÅŸtÄ±rÄ±r.'
          },
          {
            id: 10,
            question: 'AÅŸaÄŸÄ±daki adÄ±mlardan hangisi tipik bir problem Ã§Ã¶zme sÃ¼recinin parÃ§asÄ±dÄ±r?',
            options: ['Rastgele deneme', 'Problem tanÄ±mlama, Ã§Ã¶zÃ¼m adÄ±mlarÄ±nÄ± belirleme, test etme', 'YalnÄ±zca kod yazma', 'YalnÄ±zca test etme'],
            correct: 1,
            explanation: 'Ä°yi bir sÃ¼reÃ§ problem tanÄ±mÄ±, algoritma oluÅŸturma ve doÄŸrulamayÄ± iÃ§erir.'
          }
        ]
      },
      'temel-yazilim': {
        title: 'Temel YazÄ±lÄ±m Bilgileri',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        topics: [
          {
            title: 'Program YapÄ±sÄ± ve SÃ¶zdizimi',
            description: 'Kod yazÄ±m kurallarÄ±',
            content: `
              <p class="mb-4">Arduino programlama dili (C++ tabanlÄ±), belirli yazÄ±m kurallarÄ±na sahiptir.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Temel Kurallar</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>NoktalÄ± VirgÃ¼l (;):</b> Her komut satÄ±rÄ± ; ile bitmelidir.</li>
                <li><b>SÃ¼slÃ¼ Parantez { }:</b> Kod bloklarÄ±nÄ± (fonksiyon, dÃ¶ngÃ¼, if yapÄ±sÄ± vb.) kapsar.</li>
                <li><b>Yorum SatÄ±rlarÄ±:</b> // (tek satÄ±r) veya /* ... */ (Ã§ok satÄ±r) kullanÄ±lÄ±r. Kodun Ã§alÄ±ÅŸmasÄ±nÄ± etkilemez.</li>
              </ul>

              <h4 class="font-bold text-lg mb-2 text-purple-400">Ã–n Ä°ÅŸlemci KomutlarÄ±</h4>
              <p class="mb-3">Program derlenmeden Ã¶nce iÅŸlenen komutlardÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#define</span> LED_PIN <span class="number">13</span>       <span class="comment">// Sabit tanÄ±mlama (HafÄ±zada yer kaplamaz)</span>
<span class="directive">#include</span> &lt;<span class="string">Servo.h</span>&gt; <span class="comment">// KÃ¼tÃ¼phane dahil etme</span></div>`
          },
          {
            title: 'DeÄŸiÅŸkenler ve Veri Tipleri',
            description: 'Programda bilgi saklama',
            content: `
              <p class="mb-4">DeÄŸiÅŸkenler, programÄ±mÄ±zda sayÄ±lar, metinler veya durumlar gibi verileri saklamak iÃ§in kullanÄ±lÄ±r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>int:</b> Tam sayÄ±lar iÃ§in kullanÄ±lÄ±r (-32,768 ile 32,767 arasÄ±).</li>
                <li><b>float:</b> OndalÄ±klÄ± sayÄ±lar iÃ§in kullanÄ±lÄ±r (Ã–rn: 23.45).</li>
                <li><b>bool:</b> Sadece true (doÄŸru) veya false (yanlÄ±ÅŸ) deÄŸerini alÄ±r.</li>
                <li><b>char:</b> Tek bir karakter saklar (Ã–rn: 'A').</li>
                <li><b>String:</b> Metin dizileri iÃ§in kullanÄ±lÄ±r (Ã–rn: "ArduMind").</li>
              </ul>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Sabitler</h4>
              <p class="mb-3">Arduino'da tanÄ±mlÄ± Ã¶zel deÄŸerlerdir.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>HIGH / LOW:</b> Dijital 1 (5V) ve 0 (0V).</li>
                <li><b>INPUT / OUTPUT:</b> Pin giriÅŸ/Ã§Ä±kÄ±ÅŸ modu.</li>
              </ul>

              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">5</span>;
<span class="keyword">float</span> sicaklik = <span class="number">25.5</span>;
<span class="keyword">bool</span> islemBasarili = <span class="keyword">true</span>;</div>`
          },
          {
            title: 'Diziler (Arrays)',
            description: 'Ã‡oklu veri saklama',
            content: `
              <p class="mb-4">AynÄ± tÃ¼rdeki birden fazla veriyi tek bir deÄŸiÅŸken adÄ± altÄ±nda saklamak iÃ§in kullanÄ±lÄ±r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Dizi TanÄ±mlama ve EriÅŸim</h4>
              <div class="doc-code-block mb-4">
<span class="comment">// 5 elemanlÄ± bir dizi tanÄ±mla</span>
<span class="keyword">int</span> notlar[<span class="number">5</span>] = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>};

<span class="comment">// Ä°lk elemana eriÅŸ (Ä°ndeks 0'dan baÅŸlar)</span>
<span class="keyword">int</span> ilkNot = notlar[<span class="number">0</span>]; <span class="comment">// 10</span>

<span class="comment">// Eleman deÄŸiÅŸtirme</span>
notlar[<span class="number">2</span>] = <span class="number">100</span>; <span class="comment">// 30 -> 100 oldu</span></div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">String ve Karakter Dizileri</h4>
              <p class="mb-3">Metinleri saklamak iÃ§in iki yÃ¶ntem vardÄ±r:</p>
              
              <p class="mb-2 text-slate-300"><b>1. String Nesnesi:</b> KullanÄ±mÄ± kolaydÄ±r, hafÄ±zayÄ± dinamik kullanÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">String</span> isim = <span class="string">"ArduMind"</span>;
<span class="keyword">String</span> mesaj = isim + <span class="string">" ile Ã¶ÄŸren"</span>;</div>

              <p class="mb-2 text-slate-300"><b>2. Karakter Dizisi (char array):</b> HafÄ±za dostudur, C tabanlÄ±dÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">char</span> harfler[<span class="number">6</span>] = {'H', 'e', 'l', 'l', 'o', '\\0'};
<span class="comment">// '\\0' sonlandÄ±rÄ±cÄ± karakterdir</span></div>`
          },
          {
            title: 'KoÅŸul YapÄ±larÄ± (if-else, switch)',
            description: 'Karar verme mekanizmalarÄ±',
            content: `
              <p class="mb-4">ProgramÄ±n belirli durumlara gÃ¶re farklÄ± iÅŸlemler yapmasÄ±nÄ± saÄŸlar.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">if - else if - else</h4>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (sayac > <span class="number">10</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"BÃ¼yÃ¼k"</span>);
} <span class="keyword">else</span> {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"KÃ¼Ã§Ã¼k"</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">switch - case YapÄ±sÄ±</h4>
              <p class="mb-3">Bir deÄŸiÅŸkenin deÄŸerine gÃ¶re doÄŸrudan ilgili koda dallanÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">switch</span> (mod) {
  <span class="keyword">case</span> <span class="number">1</span>:
    <span class="comment">// Mod 1 iÅŸlemleri</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">2</span>:
    <span class="comment">// Mod 2 iÅŸlemleri</span>
    <span class="keyword">break</span>;
  <span class="keyword">default</span>:
    <span class="comment">// VarsayÄ±lan iÅŸlem</span>
    <span class="keyword">break</span>;
}</div>

              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>break:</b> Her case sonunda gerekir, aksi halde bir sonraki case'e dÃ¼ÅŸer.</li>
                <li><b>TÃ¼rler:</b> int, char veya enum kullanÄ±labilir. String kullanÄ±lamaz.</li>
                <li><b>default:</b> HiÃ§bir case eÅŸleÅŸmezse Ã§alÄ±ÅŸÄ±r.</li>
              </ul>
              
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> mod = <span class="number">0</span>;<br>
<span class="keyword">void</span> <span class="function">setup</span>() { <span class="function">pinMode</span>(<span class="number">13</span>, OUTPUT); }<br>
<span class="keyword">void</span> <span class="function">loop</span>() {<br>
  <span class="keyword">switch</span> (mod) {<br>
    <span class="keyword">case</span> <span class="number">0</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="keyword">break</span>;<br>
    <span class="keyword">case</span> <span class="number">1</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="function">delay</span>(<span class="number">500</span>); <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="function">delay</span>(<span class="number">500</span>); <span class="keyword">break</span>;<br>
    <span class="keyword">case</span> <span class="number">2</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="function">delay</span>(<span class="number">200</span>); <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="function">delay</span>(<span class="number">200</span>); <span class="keyword">break</span>;<br>
    <span class="keyword">default</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="keyword">break</span>;<br>
  }<br>
  mod = (mod + <span class="number">1</span>) % <span class="number">3</span>;<br>
  <span class="function">delay</span>(<span class="number">1000</span>);<br>
}</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">Ternary (?) OperatÃ¶rÃ¼</h4>
              <p class="mb-3">KÄ±sa if-else kullanÄ±mÄ±dÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="comment">// (KoÅŸul) ? DoÄŸruysa : YanlÄ±ÅŸsa</span>
<span class="keyword">String</span> sonuc = (puan >= <span class="number">50</span>) ? <span class="string">"GeÃ§ti"</span> : <span class="string">"KaldÄ±"</span>;</div>`
          },
          {
            title: 'DÃ¶ngÃ¼ler (Loops)',
            description: 'Tekrar eden iÅŸlemler',
            content: `
              <p class="mb-4">AynÄ± kod bloÄŸunu birden fazla kez Ã§alÄ±ÅŸtÄ±rmak iÃ§in kullanÄ±lÄ±r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">for DÃ¶ngÃ¼sÃ¼</h4>
              <p class="mb-3">Belirli bir sayÄ±da tekrar yapmak iÃ§in idealdÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="comment">// 0'dan 4'e kadar saydÄ±r (toplam 5 kez Ã§alÄ±ÅŸÄ±r)</span>
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">5</span>; i++) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(i);
  <span class="function">delay</span>(<span class="number">1000</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">while DÃ¶ngÃ¼sÃ¼</h4>
              <p class="mb-3">KoÅŸul doÄŸru olduÄŸu sÃ¼rece Ã§alÄ±ÅŸÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">0</span>;
<span class="keyword">while</span> (sayac < <span class="number">5</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(sayac);
  sayac++;
  <span class="function">delay</span>(<span class="number">1000</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">do-while DÃ¶ngÃ¼sÃ¼</h4>
              <p class="mb-3">En az bir kez Ã§alÄ±ÅŸÄ±r, sonra koÅŸulu kontrol eder.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">0</span>;
<span class="keyword">do</span> {
  <span class="keyword">Serial</span>.<span class="function">println</span>(sayac);
  sayac++;
  <span class="function">delay</span>(<span class="number">1000</span>);
} <span class="keyword">while</span> (sayac < <span class="number">5</span>);</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">DÃ¶ngÃ¼ Kontrol Ä°fadeleri</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>break:</b> DÃ¶ngÃ¼yÃ¼ anÄ±nda sonlandÄ±rÄ±r ve dÃ¶ngÃ¼den Ã§Ä±kar.</li>
                <li><b>continue:</b> DÃ¶ngÃ¼nÃ¼n o anki adÄ±mÄ±nÄ± atlar ve bir sonraki adÄ±ma geÃ§er.</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">10</span>; i++) {
  <span class="keyword">if</span> (i == <span class="number">5</span>) <span class="keyword">break</span>;      <span class="comment">// 5 olunca dÃ¶ngÃ¼ biter</span>
  <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// Ã‡ift sayÄ±larÄ± atla</span>
  <span class="keyword">Serial</span>.<span class="function">println</span>(i);
}</div>`
          },
          {
            title: 'Fonksiyonlar',
            description: 'Yeniden kullanÄ±labilir kod bloklarÄ±',
            content: `
              <p class="mb-4">Fonksiyonlar, belirli bir gÃ¶revi yerine getiren ve tekrar kullanÄ±labilen kod bloklarÄ±dÄ±r. Kodun okunabilirliÄŸini artÄ±rÄ±r ve tekrarÄ± Ã¶nler.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">1. DeÄŸer DÃ¶ndÃ¼rmeyen, Parametre Almayan (void)</h4>
              <p class="mb-3">Sadece iÃ§indeki iÅŸlemleri yapar, dÄ±ÅŸarÄ±dan bilgi almaz ve geriye sonuÃ§ vermez.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">selamla</span>() {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"Merhaba!"</span>);
}</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">2. DeÄŸer DÃ¶ndÃ¼rmeyen, Parametre Alan</h4>
              <p class="mb-3">DÄ±ÅŸarÄ±dan bilgi alÄ±r (parametre), iÅŸlem yapar ama geriye sonuÃ§ dÃ¶ndÃ¼rmez.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">ledYak</span>(<span class="keyword">int</span> pin, <span class="keyword">int</span> sure) {
  <span class="function">digitalWrite</span>(pin, HIGH);
  <span class="function">delay</span>(sure);
  <span class="function">digitalWrite</span>(pin, LOW);
}

<span class="comment">// KullanÄ±mÄ±:</span>
<span class="function">ledYak</span>(<span class="number">13</span>, <span class="number">1000</span>);</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">3. DeÄŸer DÃ¶ndÃ¼ren, Parametre Alan</h4>
              <p class="mb-3">DÄ±ÅŸarÄ±dan bilgi alÄ±r, iÅŸlem yapar ve sonucu geri dÃ¶ndÃ¼rÃ¼r (return).</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> <span class="function">kareAl</span>(<span class="keyword">int</span> sayi) {
  <span class="keyword">return</span> sayi * sayi;
}

<span class="comment">// KullanÄ±mÄ±:</span>
<span class="keyword">int</span> sonuc = <span class="function">kareAl</span>(<span class="number">5</span>); <span class="comment">// sonuc 25 olur</span></div>`
          },
          {
            title: 'MantÄ±ksal OperatÃ¶rler',
            description: 'KoÅŸullarÄ± birleÅŸtirme',
            content: `
              <p class="mb-4">MantÄ±ksal operatÃ¶rler, birden fazla koÅŸulu birleÅŸtirmek iÃ§in kullanÄ±lÄ±r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>&& (AND):</b> Ä°ki koÅŸul da doÄŸruysa sonuÃ§ doÄŸru olur.</li>
                <li><b>|| (OR):</b> Ä°ki koÅŸuldan en az biri doÄŸruysa sonuÃ§ doÄŸru olur.</li>
                <li><b>! (NOT):</b> KoÅŸulun tersini alÄ±r.</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (sicaklik > <span class="number">20</span> && sicaklik < <span class="number">30</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"MÃ¼kemmel sÄ±caklÄ±k!"</span>);
}

<span class="keyword">if</span> (havaDurumu == <span class="string">"GÃ¼neÅŸli"</span> || havaDurumu == <span class="string">"KapalÄ±"</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"DÄ±ÅŸarÄ± Ã§Ä±kabilirsin!"</span>);
}

<span class="keyword">if</span> (!isParasut) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"ParasÃ¼t aÃ§Ä±lmadÄ±!"</span>);
}</div>`
          },
          {
            id: 6,
            question: 'Switch-case yapÄ±sÄ±nda hangi tÃ¼rlerle karÅŸÄ±laÅŸtÄ±rma yapÄ±labilir?',
            options: ['String', 'double', 'int/char/enum', 'float'],
            correct: 2,
            explanation: 'C/C++â€™ta switch-case int, char ve enum ile Ã§alÄ±ÅŸÄ±r.'
          },
          {
            id: 7,
            question: 'Dizilerde ilk elemanÄ±n indeksi nedir?',
            options: ['1', '0', 'â€“1', 'Eleman sayÄ±sÄ±na baÄŸlÄ±'],
            correct: 1,
            explanation: 'Ã‡oÄŸu dilde olduÄŸu gibi C/C++â€™ta ilk indeks 0â€™dÄ±r.'
          },
          {
            id: 8,
            question: 'AÅŸaÄŸÄ±dakilerden hangisi geÃ§erli bir yorum biÃ§imidir?',
            options: ['// tek satÄ±r', '/* Ã§ok satÄ±r */', 'Her ikisi', 'Yorum desteklenmez'],
            correct: 2,
            explanation: 'Tek satÄ±r ve Ã§ok satÄ±r yorumlar desteklenir.'
          },
          {
            id: 9,
            question: 'SÃ¼slÃ¼ parantezler {} neyi belirtir?',
            options: ['SatÄ±r sonunu', 'Kod bloklarÄ±nÄ±', 'DeÄŸiÅŸken tipini', 'Derleyici direktifini'],
            correct: 1,
            explanation: 'KoÅŸullar, fonksiyonlar ve dÃ¶ngÃ¼ler iÃ§in blok sÄ±nÄ±rlarÄ±dÄ±r.'
          },
          {
            id: 10,
            question: 'Ternary (?:) operatÃ¶rÃ¼nÃ¼n karÅŸÄ±lÄ±ÄŸÄ± nedir?',
            options: ['for dÃ¶ngÃ¼sÃ¼', 'switch yapÄ±sÄ±', 'kÄ±sa if-else', 'goto'],
            correct: 2,
            explanation: 'KoÅŸula gÃ¶re iki deÄŸerden birini seÃ§en kÄ±sa bir if-else yazÄ±mÄ±dÄ±r.'
          }
        ]
      },
      basics: {
        title: 'Arduino Temelleri',
        icon: '',
        color: 'from-blue-500 to-blue-700',
        topics: [
          {
            title: 'setup() ve loop() FonksiyonlarÄ±',
            description: 'Her Arduino programÄ±nÄ±n temel yapÄ± taÅŸlarÄ±',
            content: `
              <p class="mb-4">Arduino programlarÄ± iki ana fonksiyondan oluÅŸur. Bu fonksiyonlar programÄ±n iskeletini oluÅŸturur ve biri olmadan diÄŸeri Ã§alÄ±ÅŸamaz.</p>
              
              <h4 class="font-bold text-lg mb-2 text-blue-400">setup() Fonksiyonu</h4>
              <p class="mb-3">Bu fonksiyon, Arduino'ya gÃ¼Ã§ verildiÄŸinde veya resetlendiÄŸinde <b>sadece bir kez</b> Ã§alÄ±ÅŸÄ±r. Genellikle pin modlarÄ±nÄ± ayarlamak, seri haberleÅŸmeyi baÅŸlatmak veya kÃ¼tÃ¼phaneleri ilklendirmek iÃ§in kullanÄ±lÄ±r.</p>
              
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">setup</span>() {
  <span class="function">pinMode</span>(<span class="number">13</span>, OUTPUT);    <span class="comment">// 13. pini Ã§Ä±kÄ±ÅŸ yap</span>
  <span class="keyword">Serial</span>.<span class="function">begin</span>(<span class="number">9600</span>);   <span class="comment">// HaberleÅŸmeyi baÅŸlat</span>
}</div>

              <h4 class="font-bold text-lg mb-2 text-blue-400">loop() Fonksiyonu</h4>
              <p class="mb-3">setup() fonksiyonu tamamlandÄ±ktan hemen sonra Ã§alÄ±ÅŸmaya baÅŸlar ve Arduino aÃ§Ä±k olduÄŸu sÃ¼rece <b>sonsuz bir dÃ¶ngÃ¼</b> iÃ§inde tekrar eder. Ana program mantÄ±ÄŸÄ± burada yer alÄ±r.</p>
              
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">loop</span>() {
  <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">// LED'i yak</span>
  <span class="function">delay</span>(<span class="number">1000</span>);          <span class="comment">// 1 saniye bekle</span>
  <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW);  <span class="comment">// LED'i sÃ¶ndÃ¼r</span>
  <span class="function">delay</span>(<span class="number">1000</span>);          <span class="comment">// 1 saniye bekle</span>
}</div>`
          },
          {
            title: 'DeÄŸiÅŸkenler ve Veri Tipleri',
            description: 'Verileri saklama ve yÃ¶netme',
            content: `
              <p class="mb-4">Program iÃ§erisinde sayÄ±larÄ±, metinleri veya durumlarÄ± saklamak iÃ§in deÄŸiÅŸkenler kullanÄ±lÄ±r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>int:</b> Tam sayÄ±lar iÃ§in kullanÄ±lÄ±r (-32,768 ile 32,767 arasÄ±).</li>
                <li><b>float:</b> OndalÄ±klÄ± sayÄ±lar iÃ§in kullanÄ±lÄ±r (Ã–rn: 23.45).</li>
                <li><b>bool:</b> Sadece true (doÄŸru) veya false (yanlÄ±ÅŸ) deÄŸerini alÄ±r.</li>
                <li><b>char:</b> Tek bir karakter saklar (Ã–rn: 'A').</li>
                <li><b>String:</b> Metin dizileri iÃ§in kullanÄ±lÄ±r (Ã–rn: "ArduMind").</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> ledPin = <span class="number">13</span>;
<span class="keyword">float</span> sicaklik = <span class="number">25.5</span>;
<span class="keyword">bool</span> butonBasili = <span class="keyword">false</span>;</div>`
          },
          {
            id: 4,
            question: 'AÅŸaÄŸÄ±dakilerden hangisi temel yazÄ±m kuralÄ±dÄ±r?',
            options: ['Komutlar noktalÄ± virgÃ¼lle biter', 'SÃ¼slÃ¼ parantezler ÅŸart deÄŸildir', 'Yorumlar Ã§alÄ±ÅŸmayÄ± etkiler', 'BoÅŸluklar hata Ã¼retir'],
            correct: 0,
            explanation: 'Komut satÄ±rlarÄ± ; ile sonlanÄ±r.'
          },
          {
            id: 5,
            question: 'Derleme hatalarÄ±nÄ±n tipik nedeni nedir?',
            options: ['YanlÄ±ÅŸ port seÃ§imi', 'Eksik noktalÄ± virgÃ¼l veya parantez eÅŸleÅŸmesi', 'DÃ¼ÅŸÃ¼k baud deÄŸeri', 'YanlÄ±ÅŸ kablolama'],
            correct: 1,
            explanation: 'SÃ¶zdizimi hatalarÄ± derleme sÄ±rasÄ±nda yakalanÄ±r.'
          },
          {
            id: 6,
            question: 'AÅŸaÄŸÄ±dakilerden hangisi loop iÃ§inde yapÄ±lmamalÄ±dÄ±r?',
            options: ['SÃ¼rekli Serial.begin() Ã§aÄŸÄ±rmak', 'SensÃ¶r okumak', 'LED yakÄ±p sÃ¶ndÃ¼rmek', 'DeÄŸiÅŸken gÃ¼ncellemek'],
            correct: 0,
            explanation: 'Serial.begin() genelde setup() iÃ§inde bir kez Ã§aÄŸrÄ±lmalÄ±dÄ±r.'
          }
        ]
      },
      digital: {
        title: 'Dijital Pin Kontrol',
        icon: '',
        color: 'from-yellow-500 to-orange-600',
        topics: [
          {
            title: 'pinMode() - YapÄ±landÄ±rma',
            description: 'Pinleri giriÅŸ veya Ã§Ä±kÄ±ÅŸ olarak ayarlama',
            content: `
              <p class="mb-4">Her dijital pin, kullanÄ±m amacÄ±na gÃ¶re <b>INPUT</b> (GiriÅŸ) veya <b>OUTPUT</b> (Ã‡Ä±kÄ±ÅŸ) olarak ayarlanmalÄ±dÄ±r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-yellow-400">OUTPUT Modu</h4>
              <p class="mb-3">Arduino'dan dÄ±ÅŸarÄ±ya akÄ±m gÃ¶ndermek iÃ§in kullanÄ±lÄ±r (LED yakmak, motor Ã§alÄ±ÅŸtÄ±rmak vb.).</p>
              
              <h4 class="font-bold text-lg mb-2 text-yellow-400">INPUT Modu</h4>
              <p class="mb-3">DÄ±ÅŸarÄ±dan gelen voltajÄ± okumak iÃ§in kullanÄ±lÄ±r (Buton okumak, sensÃ¶r verisi almak vb.).</p>

              <h4 class="font-bold text-lg mb-2 text-yellow-400">INPUT_PULLUP Modu</h4>
              <p class="mb-3">Dahili direnci aktif ederek butonu harici direnÃ§siz kullanmanÄ±zÄ± saÄŸlar. Buton basÄ±ldÄ±ÄŸÄ±nda 0 (LOW) dÃ¶ner.</p>`
          },
          {
            title: 'digitalWrite() ve digitalRead()',
            description: 'Pinlere yazma ve pinlerden okuma',
            content: `
              <h4 class="font-bold text-lg mb-2 text-yellow-400">digitalWrite(pin, deger)</h4>
              <p class="mb-3">Bir pine 5V (HIGH) veya 0V (LOW) gÃ¶nderir.</p>
              <div class="doc-code-block mb-4">digitalWrite(13, HIGH); <span class="comment">// 5V ver</span></div>

              <h4 class="font-bold text-lg mb-2 text-yellow-400">digitalRead(pin)</h4>
              <p class="mb-3">Bir pindeki voltajÄ±n HIGH (5V) mÄ± yoksa LOW (0V) mu olduÄŸunu okur.</p>
              <div class="doc-code-block mb-4">int durum = digitalRead(2); <span class="comment">// Pin 2'yi oku</span></div>`
          },
          {
            id: 5,
            question: 'Pull-down direnci ne amaÃ§la kullanÄ±lÄ±r?',
            options: ['Pinâ€™i varsayÄ±lan HIGH yapmak', 'Pinâ€™i varsayÄ±lan LOW yapmak', 'AkÄ±mÄ± artÄ±rmak', 'PWM Ã¼retmek'],
            correct: 1,
            explanation: 'Pull-down direnÃ§ pini basÄ±lmadÄ±ÄŸÄ±nda LOW seviyede tutar.'
          },
          {
            id: 6,
            question: 'Dijital sinyalde â€œdebounceâ€ hangi problem iÃ§in uygulanÄ±r?',
            options: ['GÃ¼rÃ¼ltÃ¼lÃ¼ analog okuma', 'Butonun mekanik titremesi', 'PWM frekansÄ±', 'ADC Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼'],
            correct: 1,
            explanation: 'Buton basÄ±ÅŸlarÄ±nda mekanik titreÅŸim yanlÄ±ÅŸ Ã§oklu okumalara yol aÃ§ar.'
          },
          {
            id: 7,
            question: 'INPUT_PULLUP modu ne saÄŸlar?',
            options: ['Harici pull-up', 'Dahili pull-up', 'PWM Ã§Ä±kÄ±ÅŸÄ±', 'Analog okuma'],
            correct: 1,
            explanation: 'Arduinoâ€™da bazÄ± pinlerde dahili pull-up aktif edilebilir.'
          }
        ]
      },
      analog: {
        title: 'Analog Ä°ÅŸlemler',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        topics: [
          {
            title: 'analogRead() ve ADC MantÄ±ÄŸÄ±',
            description: 'DeÄŸiÅŸken voltajlarÄ± dijital veriye dÃ¶nÃ¼ÅŸtÃ¼rme',
            content: `
              <p class="mb-4">Arduino Uno'da bulunan Analog-Dijital DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼ (ADC), 0V ile 5V arasÄ±ndaki voltajÄ± <b>0 ile 1023</b> arasÄ±nda bir sayÄ±ya dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sensorDegeri = <span class="function">analogRead</span>(A0);</div>
              <p class="mt-4 text-slate-300">Ã–rneÄŸin: 2.5V okunursa, fonksiyon yaklaÅŸÄ±k 512 deÄŸerini dÃ¶ndÃ¼rÃ¼r.</p>`
          },
          {
            title: 'PWM (analogWrite) ve Dimming',
            description: 'Sinyal geniÅŸlik modÃ¼lasyonu ile gÃ¼Ã§ kontrolÃ¼',
            content: `
              <p class="mb-4">Arduino tam bir analog Ã§Ä±kÄ±ÅŸ veremez, ancak <b>PWM (Pulse Width Modulation)</b> tekniÄŸi ile bunu taklit eder. Sinyali Ã§ok hÄ±zlÄ± aÃ§Ä±p kapatarak ortalama voltajÄ± deÄŸiÅŸtirir.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>0:</b> Her zaman KAPALI (0V)</li>
                <li><b>127:</b> %50 AÃ‡IK - %50 KAPALI (Ortalama 2.5V)</li>
                <li><b>255:</b> Her zaman AÃ‡IK (5V)</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="function">analogWrite</span>(<span class="number">9</span>, <span class="number">128</span>); <span class="comment">// LED'i %50 parlaklÄ±kta yak</span></div>`
          },
          {
            title: 'map() Fonksiyonu',
            description: 'DeÄŸer aralÄ±klarÄ±nÄ± dÃ¶nÃ¼ÅŸtÃ¼rme',
            content: `
              <p class="mb-4">Bir aralÄ±ktaki deÄŸeri baÅŸka bir aralÄ±ÄŸa oranlamak iÃ§in kullanÄ±lÄ±r. En yaygÄ±n kullanÄ±mÄ± 0-1023 (analog giriÅŸ) deÄŸerini 0-255 (PWM Ã§Ä±kÄ±ÅŸ) aralÄ±ÄŸÄ±na Ã§ekmektir.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> parlaklik = <span class="function">map</span>(sensorDegeri, <span class="number">0</span>, <span class="number">1023</span>, <span class="number">0</span>, <span class="number">255</span>);</div>`
          },
          {
            id: 4,
            question: 'analogWrite() iÃ§in tipik deÄŸer aralÄ±ÄŸÄ± nedir?',
            options: ['0â€“1023', '0â€“255', '0â€“1', 'â€“255â€“255'],
            correct: 1,
            explanation: 'PWM Ã§Ä±kÄ±ÅŸÄ± 0â€“255 aralÄ±ÄŸÄ±nda ayarlanÄ±r.'
          },
          {
            id: 5,
            question: 'map() fonksiyonu ne yapar?',
            options: ['Dizileri sÄ±ralar', 'DeÄŸer aralÄ±ÄŸÄ±nÄ± baÅŸka aralÄ±ÄŸa dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r', 'Pin modunu deÄŸiÅŸtirir', 'KÃ¼tÃ¼phane ekler'],
            correct: 1,
            explanation: 'Bir deÄŸeri bir aralÄ±ktan baÅŸka bir aralÄ±ÄŸa Ã¶lÃ§ekler.'
          },
          {
            id: 6,
            question: 'ADC Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ 10-bit ise kaÃ§ seviye vardÄ±r?',
            options: ['256', '512', '1024', '2048'],
            correct: 2,
            explanation: '10-bit ADC 2^10 = 1024 seviyeye sahiptir.'
          }
        ]
      },
      serial: {
        title: 'Seri HaberleÅŸme',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        topics: [
          {
            title: 'Serial.begin ve println',
            description: 'PC ile veri alÄ±ÅŸveriÅŸi',
            content: `
              <p class="mb-4">Debug ve telemetri iÃ§in seri haberleÅŸme kullanÄ±lÄ±r. Arduino, USB kablosu Ã¼zerinden bilgisayarÄ±nÄ±za metin gÃ¶nderebilir.</p>
              <div class="doc-code-block mb-4">Serial.begin(9600);<br>Serial.println("Hata AyÄ±klama BaÅŸladÄ±...");</div>
              <p class="text-slate-300"><b>Ã–nemli:</b> Baud hÄ±zÄ±nÄ± (9600) Seri MonitÃ¶r ekranÄ± ile aynÄ± yapmalÄ±sÄ±nÄ±z.</p>`
          },
          {
            title: 'Serial.available() ve Read()',
            description: 'Bilgisayardan veri alma',
            content: `
              <p class="mb-4">Bilgisayardan Arduino'ya komut gÃ¶ndermek iÃ§in kullanÄ±lÄ±r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (<span class="keyword">Serial</span>.<span class="function">available</span>() > <span class="number">0</span>) {
  <span class="keyword">char</span> gelenVeri = <span class="keyword">Serial</span>.<span class="function">read</span>();
}</div>`
          },
          {
            id: 4,
            question: 'Servo motorlar iÃ§in doÄŸru gÃ¼Ã§ beslemesi neden Ã¶nemlidir?',
            options: ['YalnÄ±zca LED parlaklÄ±ÄŸÄ± iÃ§in', 'AÅŸÄ±rÄ± akÄ±m Ã§ekebilirler', 'Seri portu etkiler', 'PWMâ€™i kapatÄ±r'],
            correct: 1,
            explanation: 'Servo motorlar akÄ±m Ã§eker; Arduino 5V hattÄ± yetersiz olabilir, harici besleme Ã¶nerilir.'
          },
          {
            id: 5,
            question: 'attach(pin) fonksiyonu ne yapar?',
            options: ['Seri portu baÅŸlatÄ±r', 'Servo sinyal pinini baÄŸlar', 'PWMâ€™i kapatÄ±r', 'ADCâ€™yi baÅŸlatÄ±r'],
            correct: 1,
            explanation: 'Servo nesnesini belirtilen pin ile iliÅŸkilendirir.'
          }
        ]
      },
      interrupts: {
        title: 'Kesme (Interrupt)',
        icon: '',
        color: 'from-red-500 to-orange-600',
        topics: [
          {
            title: 'attachInterrupt Temelleri',
            description: 'DÄ±ÅŸ tetikleyiciye hÄ±zlÄ± tepki',
            content: `
              <p class="mb-4">Interrupt'lar (Kesmeler), ana program ne yaparsa yapsÄ±n, Ã¶nemli bir olay olduÄŸunda (bir butona basÄ±lmasÄ± gibi) programÄ± durdurup Ã¶zel bir fonksiyonu Ã§alÄ±ÅŸtÄ±rÄ±r.</p>
              <div class="doc-code-block mb-4">attachInterrupt(digitalPinToInterrupt(2), isr, RISING);</div>
              <p class="text-slate-300"><b>RISING:</b> Voltaj 0'dan 5V'a Ã§Ä±ktÄ±ÄŸÄ±nda tetiklenir.</p>`
          },
          {
            id: 3,
            question: '9600 nedir?',
            options: ['PWM frekansÄ±', 'ADC Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼', 'Baud (saniyedeki bit) deÄŸeri', 'Pin numarasÄ±'],
            correct: 2,
            explanation: 'Seri haberleÅŸme hÄ±zÄ± baud cinsinden belirtilir.'
          },
          {
            id: 4,
            question: 'Serial.print ve Serial.println arasÄ±ndaki fark nedir?',
            options: ['HiÃ§ fark yok', 'println satÄ±r sonu ekler', 'print daha hÄ±zlÄ±dÄ±r', 'println yalnÄ±zca sayÄ±larÄ± yazar'],
            correct: 1,
            explanation: 'println veri sonuna newline ekler.'
          }
        ]
      },
      timing: {
        title: 'Zamanlama',
        icon: '',
        color: 'from-slate-500 to-slate-700',
        topics: [
          {
            title: 'delay vs millis',
            description: 'Engelleyici olmayan yaklaÅŸÄ±m',
            content: `
              <p class="mb-4"><b>delay():</b> Arduino'yu tamamen durdurur (bloklar). Bu sÄ±rada hiÃ§bir sensÃ¶r okunamaz.</p>
              <p class="mb-4"><b>millis():</b> Arduino aÃ§Ä±ldÄ±ÄŸÄ±ndan beri geÃ§en milisaniyeyi dÃ¶ndÃ¼rÃ¼r. ZamanlayÄ±cÄ±lar oluÅŸturmak iÃ§in idealdir.</p>
              
              <h4 class="font-bold text-lg mb-2 text-slate-400">millis() ile LED YakÄ±p SÃ¶ndÃ¼rme (BloklamasÄ±z)</h4>
              <div class="doc-code-block mb-4">
<span class="keyword">unsigned long</span> eskiZaman = <span class="number">0</span>;
<span class="keyword">const long</span> aralik = <span class="number">1000</span>; <span class="comment">// 1 saniye</span>

<span class="keyword">void</span> <span class="function">loop</span>() {
  <span class="keyword">unsigned long</span> yeniZaman = <span class="function">millis</span>();
  
  <span class="keyword">if</span> (yeniZaman - eskiZaman >= aralik) {
    eskiZaman = yeniZaman;
    <span class="comment">// Ä°ÅŸlem yap (Ã–rn: LED durumunu deÄŸiÅŸtir)</span>
  }
}</div>`
          },
          {
            id: 3,
            question: 'HC-SR04 iÃ§in tipik trig ve echo pinleri nereye baÄŸlanÄ±r?',
            options: ['Trig GND, Echo 5V', 'Trig dijital Ã§Ä±kÄ±ÅŸ, Echo dijital giriÅŸ', 'Trig analog giriÅŸ, Echo PWM', 'Her ikisi 5V'],
            correct: 1,
            explanation: 'Trig Ã§Ä±kÄ±ÅŸ sinyali Ã¼retir, Echo giriÅŸte yankÄ± sÃ¼resi Ã¶lÃ§Ã¼lÃ¼r.'
          },
          {
            id: 4,
            question: 'PIR hareket sensÃ¶rÃ¼ nasÄ±l Ã§alÄ±ÅŸÄ±r?',
            options: ['Manyetik alan Ã¶lÃ§er', 'IÅŸÄ±k ÅŸiddeti Ã¶lÃ§er', 'KÄ±zÄ±lÃ¶tesi deÄŸiÅŸimi algÄ±lar', 'Ses Ã¶lÃ§er'],
            correct: 2,
            explanation: 'PIR, ortamdaki kÄ±zÄ±lÃ¶tesi deÄŸiÅŸimlere duyarlÄ±dÄ±r.'
          }
        ]
      },
      libraries: {
        title: 'KÃ¼tÃ¼phaneler ve Protokoller',
        icon: '',
        color: 'from-indigo-500 to-indigo-700',
        topics: [
          {
            title: 'Servo KÃ¼tÃ¼phanesi',
            description: 'AÃ§Ä± kontrolÃ¼',
            content: `
              <p class="mb-4">Servo motorlarÄ± kolayca kontrol etmek iÃ§in kullanÄ±lÄ±r. 0 ile 180 derece arasÄ± hassas kontrol saÄŸlar.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#include</span> &lt;<span class="string">Servo.h</span>&gt;
<span class="keyword">Servo</span> motor;
motor.<span class="function">attach</span>(<span class="number">9</span>);
motor.<span class="function">write</span>(<span class="number">90</span>);</div>`
          },
          {
            title: 'I2C ProtokolÃ¼ (Wire)',
            description: 'Ä°ki kablo ile haberleÅŸme',
            content: `
              <p class="mb-4">LCD ekranlar, ivmeÃ¶lÃ§erler ve birÃ§ok sensÃ¶r I2C kullanÄ±r. Sadece <b>SDA</b> ve <b>SCL</b> pinleri Ã¼zerinden onlarca cihazla konuÅŸabilirsiniz.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#include</span> &lt;<span class="string">Wire.h</span>&gt;
<span class="keyword">Wire</span>.<span class="function">begin</span>(); <span class="comment">// Master olarak baÅŸlat</span></div>`
          },
          {
            title: 'SPI ProtokolÃ¼',
            description: 'YÃ¼ksek hÄ±zlÄ± haberleÅŸme',
            content: `
              <p class="mb-4">SD kart modÃ¼lleri ve RFID okuyucular gibi yÃ¼ksek hÄ±z gerektiren donanÄ±mlar iÃ§in kullanÄ±lÄ±r.</p>
              <ul class="list-disc ml-6 space-y-1">
                <li><b>MOSI:</b> Veri Ã§Ä±kÄ±ÅŸÄ±</li>
                <li><b>MISO:</b> Veri giriÅŸi</li>
                <li><b>SCK:</b> Saat sinyali</li>
              </ul>`
          }
        ]
      },
      best: {
        title: 'Ä°yi Uygulamalar',
        icon: '',
        color: 'from-teal-500 to-teal-700',
        topics: [
          {
            title: 'Temiz Kod Prensipleri',
            description: 'Okunabilirlik ve bakÄ±m',
            content: `
              <p class="mb-4">Kodunuzun baÅŸkalarÄ± tarafÄ±ndan anlaÅŸÄ±lmasÄ± iÃ§in ÅŸu kurallara uyun:</p>
              <ul class="list-disc ml-6 space-y-2">
                <li>AnlamlÄ± deÄŸiÅŸken isimleri seÃ§in (Ã–rn: <code>int x</code> yerine <code>int sensorDegeri</code>).</li>
                <li>Bol bol yorum satÄ±rÄ± ekleyin.</li>
                <li>SÄ±k kullanÄ±lan iÅŸlemleri fonksiyonlara bÃ¶lÃ¼n.</li>
              </ul>`
          }
        ]
      }
    };
    
    const modules = [
      {
        id: 'algoritma-temelleri',
        title: 'Algoritma Temelleri',
        description: 'Problem Ã§Ã¶zme mantÄ±ÄŸÄ±, akÄ±ÅŸ diyagramlarÄ± ve sÃ¶zde kod',
        icon: 'ğŸ§ ',
        color: 'from-orange-400 to-red-500',
        xpReward: 100,
        lessons: [
          { id: 'algoritma-nedir', title: 'Algoritma Nedir?', duration: '5 dk' },
          { id: 'akis-diyagramlari', title: 'AkÄ±ÅŸ DiyagramlarÄ±', duration: '10 dk' },
          { id: 'sozde-kod', title: 'SÃ¶zde Kod (Pseudo-code)', duration: '10 dk' },
          { id: 'mantik-operatÃ¶rleri', title: 'MantÄ±ksal OperatÃ¶rler', duration: '8 dk' }
        ]
      },
      {
        id: 'temel-yazilim',
        title: 'Temel YazÄ±lÄ±m Bilgileri',
        description: 'DeÄŸiÅŸkenler, koÅŸullar, dÃ¶ngÃ¼ler ve fonksiyonlar',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        xpReward: 80,
        lessons: [
          { id: 'degiskenler', title: 'DeÄŸiÅŸkenler ve Veri Tipleri', duration: '10 dk' },
          { id: 'kosullar', title: 'KoÅŸul YapÄ±larÄ± (if-else)', duration: '12 dk' },
          { id: 'donguler', title: 'DÃ¶ngÃ¼ler (for, while)', duration: '15 dk' },
          { id: 'fonksiyonlar', title: 'Fonksiyonlar ve Parametreler', duration: '15 dk' }
        ]
      },
      {
        id: 'arduino-basics',
        title: 'Arduino Temelleri',
        description: 'Digital Pin KullanÄ±mÄ±',
        icon: '',
        color: 'from-blue-500 to-purple-600',
        xpReward: 100,
        lessons: [
          { id: 'setup-loop', title: 'setup() ve loop() FonksiyonlarÄ±', duration: '10 dk' },
          { id: 'pinmode', title: 'pinMode() ile Pin YapÄ±landÄ±rma', duration: '15 dk' },
          { id: 'digitalwrite', title: 'digitalWrite() KullanÄ±mÄ±', duration: '12 dk' }
        ]
      },
      {
        id: 'led-projects',
        title: 'LED Kontrol Projeleri',
        description: 'YanÄ±p SÃ¶nen LED',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        xpReward: 150,
        lessons: [
          { id: 'blink', title: 'LED YakÄ±p SÃ¶ndÃ¼rme', duration: '8 dk' },
          { id: 'multiple-leds', title: 'Ã‡oklu LED KontrolÃ¼', duration: '15 dk' },
          { id: 'led-pwm', title: 'PWM ile LED ParlaklÄ±ÄŸÄ± KontrolÃ¼', duration: '12 dk' },
          { id: 'led-seviyesi', title: 'LED Seviyesi GÃ¶sterimi', duration: '15 dk' }
        ]
      },
      {
        id: 'button-control',
        title: 'Buton ve SensÃ¶rler',
        description: 'Dijital GiriÅŸ Ä°ÅŸlemleri',
        icon: '',
        color: 'from-orange-500 to-red-600',
        xpReward: 120,
        lessons: [
          { id: 'button-read', title: 'Buton Okuma Temelleri', duration: '12 dk' },
          { id: 'button-led', title: 'Buton ile LED KontrolÃ¼', duration: '15 dk' },
          { id: 'pull-up-down', title: 'Pull-up ve Pull-down DirenÃ§ler', duration: '10 dk' },
          { id: 'button-state', title: 'Buton Durum YÃ¶netimi', duration: '12 dk' }
        ]
      },
      {
        id: 'analog-operations',
        title: 'Analog Ä°ÅŸlemler',
        description: 'Analog GiriÅŸ ve PWM Ã‡Ä±kÄ±ÅŸ',
        icon: '',
        color: 'from-teal-500 to-cyan-600',
        xpReward: 180,
        lessons: [
          { id: 'analog-read', title: 'analogRead() ve ADC MantÄ±ÄŸÄ±', duration: '15 dk' },
          { id: 'analog-write', title: 'analogWrite() ve PWM', duration: '12 dk' },
          { id: 'potentiometer', title: 'Potansiyometre KullanÄ±mÄ±', duration: '15 dk' },
          { id: 'map-func', title: 'map() Fonksiyonu ile DeÄŸer DÃ¶nÃ¼ÅŸtÃ¼rme', duration: '10 dk' }
        ]
      },
      {
        id: 'serial-communication',
        title: 'Seri HaberleÅŸme',
        description: 'PC ile Veri AlÄ±ÅŸveriÅŸi',
        icon: '',
        color: 'from-indigo-500 to-purple-600',
        xpReward: 150,
        lessons: [
          { id: 'serial-begin', title: 'Serial.begin() ve BaÄŸlantÄ± Kurma', duration: '10 dk' },
          { id: 'serial-print', title: 'Serial.print() ile Veri GÃ¶nderme', duration: '12 dk' },
          { id: 'serial-read', title: 'Serial.read() ile Veri Alma', duration: '15 dk' },
          { id: 'serial-monitor', title: 'Seri MonitÃ¶r KullanÄ±mÄ±', duration: '8 dk' }
        ]
      },
      {
        id: 'motor-control',
        title: 'Motor Kontrol',
        description: 'DC Motor ve Servo KontrolÃ¼',
        icon: '',
        color: 'from-amber-500 to-orange-600',
        xpReward: 200,
        lessons: [
          { id: 'dc-motor', title: 'DC Motor Temelleri', duration: '15 dk' },
          { id: 'l298n-driver', title: 'L298N Motor SÃ¼rÃ¼cÃ¼ KullanÄ±mÄ±', duration: '18 dk' },
          { id: 'servo-basics', title: 'Servo Motor Temelleri', duration: '15 dk' },
          { id: 'servo-control', title: 'Servo Motor AÃ§Ä± KontrolÃ¼', duration: '12 dk' }
        ]
      },
      {
        id: 'sensors-advanced',
        title: 'GeliÅŸmiÅŸ SensÃ¶rler',
        description: 'Mesafe, Ses ve Hareket SensÃ¶rleri',
        icon: '',
        color: 'from-rose-500 to-red-600',
        xpReward: 220,
        lessons: [
          { id: 'hc-sr04', title: 'HC-SR04 Ultrasonik Mesafe SensÃ¶rÃ¼', duration: '18 dk' },
          { id: 'pir-sensor', title: 'PIR Hareket SensÃ¶rÃ¼', duration: '15 dk' },
          { id: 'sound-sensor', title: 'Ses SensÃ¶rÃ¼ KullanÄ±mÄ±', duration: '12 dk' },
          { id: 'temperature', title: 'SÄ±caklÄ±k SensÃ¶rÃ¼ (DS18B20)', duration: '20 dk' }
        ]
      },
      {
        id: 'libraries',
        title: 'KÃ¼tÃ¼phaneler',
        description: 'DÄ±ÅŸ KÃ¼tÃ¼phanelerin KullanÄ±mÄ±',
        icon: '',
        color: 'from-violet-500 to-fuchsia-600',
        xpReward: 160,
        lessons: [
          { id: 'library-basics', title: 'KÃ¼tÃ¼phane Temelleri', duration: '10 dk' },
          { id: 'servo-library', title: 'Servo KÃ¼tÃ¼phanesi', duration: '12 dk' },
          { id: 'wire-library', title: 'Wire (I2C) KÃ¼tÃ¼phanesi', duration: '15 dk' },
          { id: 'spi-library', title: 'SPI KÃ¼tÃ¼phanesi', duration: '15 dk' }
        ]
      },
      {
        id: 'timing-interrupts',
        title: 'Zamanlama ve Kesmeler',
        description: 'Engelleyici Olmayan Zamanlama',
        icon: '',
        color: 'from-slate-500 to-gray-600',
        xpReward: 190,
        lessons: [
          { id: 'delay-vs-millis', title: 'delay() vs millis()', duration: '15 dk' },
          { id: 'millis-timer', title: 'millis() ile ZamanlayÄ±cÄ±', duration: '18 dk' },
          { id: 'interrupts-basics', title: 'Kesmeler (Interrupts) Temelleri', duration: '15 dk' },
          { id: 'attach-interrupt', title: 'attachInterrupt() KullanÄ±mÄ±', duration: '12 dk' }
        ]
      }
    ];

    const videoLessons = [
      { id: 'getting-started', title: 'Arduino BaÅŸlangÄ±Ã§: Kurulum ve Blink', duration: '12 dk', url: 'https://www.youtube.com/results?search_query=arduino+blink+turkce', topic: 'Temeller' },
      { id: 'digital-write', title: 'digitalWrite ile LED Kontrol', duration: '10 dk', url: 'https://www.youtube.com/results?search_query=digitalWrite+arduino+turkce', topic: 'Dijital' },
      { id: 'button', title: 'Buton Okuma ve Pull-down', duration: '14 dk', url: 'https://www.youtube.com/results?search_query=arduino+buton+pull+down+turkce', topic: 'Dijital' },
      { id: 'analog', title: 'AnalogRead ve Potansiyometre', duration: '15 dk', url: 'https://www.youtube.com/results?search_query=arduino+analogRead+potansiyometre+turkce', topic: 'Analog' },
      { id: 'servo', title: 'Servo Motor KontrolÃ¼', duration: '13 dk', url: 'https://www.youtube.com/results?search_query=arduino+servo+turkce', topic: 'Servo' },
      { id: 'motor', title: 'PWM ve DC Motor', duration: '16 dk', url: 'https://www.youtube.com/results?search_query=arduino+pwm+dc+motor+turkce', topic: 'PWM' }
    ];

    const learningPath = [
      { 
        id: 'step-algorithm', 
        title: 'Algoritma EÄŸitimi', 
        description: 'Kod yazmaya baÅŸlamadan Ã¶nce dÃ¼ÅŸÃ¼nme biÃ§imimizi geliÅŸtirelim. Algoritma, bir problemi Ã§Ã¶zmek iÃ§in izlenen yol haritasÄ±dÄ±r.',
        docKey: 'algoritma-temelleri', 
        videoId: 'getting-started',
        quizId: 'algoritma-temelleri',
        algoBuilder: true,
        algorithm: 'BAÅLA -> Problemi TanÄ±mla -> AdÄ±mlarÄ± Belirle -> KoÅŸullarÄ± Kontrol Et -> Ã‡Ã¶zÃ¼me UlaÅŸ -> BÄ°TÄ°R',
        circuit: 'Sadece kaÄŸÄ±t, kalem ve zihniniz yeterli!'
      },
      { 
        id: 'step-0', 
        title: 'Temel YazÄ±lÄ±m Bilgileri', 
        description: 'Arduino ile Ã§alÄ±ÅŸmadan Ã¶nce temel programlama kavramlarÄ±nÄ± Ã¶ÄŸrenelim: deÄŸiÅŸkenler, koÅŸullar, dÃ¶ngÃ¼ler ve fonksiyonlar.',
        docKey: 'temel-yazilim', 
        videoId: 'getting-started',
        quizId: 'temel-yazilim',
        algorithm: 'Ã–ÄREN -> DeÄŸiÅŸkenler -> KoÅŸullar (if-else) -> DÃ¶ngÃ¼ler -> Fonksiyonlar -> PRATÄ°K ET',
        circuit: 'Bilgisayar ve internet baÄŸlantÄ±sÄ± yeterlidir.'
      },
      { 
        id: 'step-1', 
        title: 'Kurulum ve Blink', 
        description: 'Arduino dÃ¼nyasÄ±na ilk adÄ±m! YazÄ±lÄ±mÄ± kuracaÄŸÄ±z ve dahili LED\'i yakÄ±p sÃ¶ndÃ¼receÄŸiz.',
        docKey: 'basics', 
        videoId: 'getting-started',
        quizId: 'basics',
        algorithm: 'BAÅLA -> Pin 13 Ã‡Ä±kÄ±ÅŸ Yap -> DÃ–NGÃœ: LED Yak -> 1sn Bekle -> LED SÃ¶ndÃ¼r -> 1sn Bekle -> DÃ–NGÃœ BAÅI',
        circuit: 'Arduino Uno -> USB Kablosu -> Dahili LED (Pin 13)'
      },
      { 
        id: 'step-2', 
        title: 'Dijital Ã‡Ä±kÄ±ÅŸ: LED', 
        description: 'Harici bir LED baÄŸlayarak direnÃ§ kullanÄ±mÄ±nÄ± ve dijital sinyalleri Ã¶ÄŸreneceÄŸiz.',
        docKey: 'digital', 
        videoId: 'digital-write',
        quizId: 'digital',
        algorithm: 'BAÅLA -> Pin 9 Ã‡Ä±kÄ±ÅŸ Yap -> DÃ–NGÃœ: Pin 9 HIGH -> Bekle -> Pin 9 LOW -> Bekle -> DÃ–NGÃœ BAÅI',
        circuit: 'Arduino Pin 9 -> 220 Ohm DirenÃ§ -> LED (+) | LED (-) -> GND'
      },
      { 
        id: 'step-3', 
        title: 'Dijital GiriÅŸ: Buton', 
        description: 'Butonlar ile dÄ±ÅŸ dÃ¼nyadan veri almayÄ± ve karar yapÄ±larÄ±nÄ± (if-else) keÅŸfedeceÄŸiz.',
        docKey: 'digital', 
        videoId: 'button',
        quizId: 'digital',
        algorithm: 'BAÅLA -> Pin 2 GiriÅŸ, Pin 13 Ã‡Ä±kÄ±ÅŸ -> DÃ–NGÃœ: Pin 2 OKU -> EÄER BasÄ±lÄ±ysa LED Yak DEÄÄ°LSE SÃ¶ndÃ¼r -> DÃ–NGÃœ BAÅI',
        circuit: '5V -> Buton -> Pin 2 (10k Pull-down direnÃ§ ile GND\'ye baÄŸlÄ±)'
      },
      { 
        id: 'step-switch', 
        title: 'Switch-Case ile Mod KontrolÃ¼', 
        description: 'Birden fazla durumu dÃ¼zenli ve okunaklÄ± ÅŸekilde yÃ¶netmeyi Ã¶ÄŸren.',
        docKey: 'temel-yazilim', 
        videoId: 'getting-started',
        quizId: 'temel-yazilim',
        algorithm: 'BAÅLA -> Mod Oku -> SWITCH(mod): 0 KapalÄ±, 1 YavaÅŸ, 2 HÄ±zlÄ± -> LED Kontrol -> DÃ–NGÃœ BAÅI',
        circuit: 'Arduino Pin 13 -> Dahili LED veya harici LED'
      },
      { 
        id: 'step-4', 
        title: 'Analog GiriÅŸ: Potansiyometre', 
        description: 'SÄ±fÄ±r ve birin Ã¶tesine geÃ§iyoruz! DeÄŸiÅŸken voltaj deÄŸerlerini okuyacaÄŸÄ±z.',
        docKey: 'basics', 
        videoId: 'analog',
        quizId: 'analog',
        algorithm: 'BAÅLA -> Pin A0 Analog GiriÅŸ -> DÃ–NGÃœ: A0 OKU -> DeÄŸeri Seri Porta Yaz -> Bekle -> DÃ–NGÃœ BAÅI',
        circuit: 'Potansiyometre: Sol Pin (GND), Orta Pin (A0), SaÄŸ Pin (5V)'
      },
      { 
        id: 'step-5', 
        title: 'Servo ve Hareket', 
        description: 'Harekete geÃ§me vakti! Servo motoru istediÄŸimiz aÃ§Ä±ya dÃ¶ndÃ¼receÄŸiz.',
        docKey: 'basics', 
        videoId: 'servo',
        quizId: 'servo',
        algorithm: 'BAÅLA -> Servo KÃ¼tÃ¼phanesi Ekle -> Pin 9 Servo SeÃ§ -> DÃ–NGÃœ: 0 Dereceye Git -> Bekle -> 180 Dereceye Git -> Bekle',
        circuit: 'Servo: Kahverengi (GND), KÄ±rmÄ±zÄ± (5V), Turuncu (Pin 9)'
      },
      { 
        id: 'step-6', 
        title: 'PWM ve LED ParlaklÄ±ÄŸÄ±', 
        description: 'LED\'lerin parlaklÄ±ÄŸÄ±nÄ± kademeli olarak deÄŸiÅŸtirmeyi (Dimming) Ã¶ÄŸreneceÄŸiz.',
        docKey: 'analog', 
        videoId: 'motor',
        quizId: 'analog',
        algorithm: 'BAÅLA -> Pin 9 (PWM) Ã‡Ä±kÄ±ÅŸ -> DÃ–NGÃœ: 0\'dan 255\'e kadar PARLAKLIK ARTTIR -> Bekle -> 255\'ten 0\'a PARLAKLIK AZALT',
        circuit: 'Arduino Pin 9 (PWM) -> 220 Ohm DirenÃ§ -> LED (+) | LED (-) -> GND'
      },
      { 
        id: 'step-7', 
        title: 'Seri HaberleÅŸme', 
        description: 'Arduino ile bilgisayar arasÄ±nda veri alÄ±ÅŸveriÅŸi yaparak sensÃ¶r deÄŸerlerini ekranda gÃ¶receÄŸiz.',
        docKey: 'basics', 
        videoId: 'getting-started',
        quizId: 'serial',
        algorithm: 'BAÅLA -> Seri HaberleÅŸme BaÅŸlat (9600 baud) -> DÃ–NGÃœ: "Merhaba DÃ¼nya" Yaz -> 1sn Bekle',
        circuit: 'Arduino -> USB Kablosu -> Bilgisayar (Seri Port EkranÄ±)'
      },
      { 
        id: 'step-8', 
        title: 'Mesafe SensÃ¶rÃ¼ (HC-SR04)', 
        description: 'Ses dalgalarÄ±yla engel tespiti yapmayÄ± Ã¶ÄŸreneceÄŸiz.',
        docKey: 'basics', 
        videoId: 'ultrasonic',
        quizId: 'sensors',
        algorithm: 'BAÅLA -> Trig Pin Ã‡Ä±kÄ±ÅŸ, Echo Pin GiriÅŸ -> DÃ–NGÃœ: Sinyal GÃ¶nder -> SÃ¼re Ã–lÃ§ -> Mesafeye Ã‡evir -> Seri Porta Yaz',
        circuit: 'Trig: Pin 12, Echo: Pin 11, VCC: 5V, GND: GND'
      }
    ];

    const codeExamples = {
      blink: {
        name: "YanÄ±p SÃ¶nen LED",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(13, HIGH);\n  delay(1000);\n  digitalWrite(13, LOW);\n  delay(1000);\n}`
      },
      button: {
        name: "Buton KontrolÃ¼",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n  pinMode(2, INPUT);\n}\n\nvoid loop() {\n  int buttonState = digitalRead(2);\n  if (buttonState == HIGH) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n}`
      },
      motor: {
        name: "Motor KontrolÃ¼",
        code: `void setup() {\n  pinMode(9, OUTPUT);\n  pinMode(8, OUTPUT);\n  pinMode(7, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(8, HIGH);\n  digitalWrite(7, LOW);\n  analogWrite(9, 191);\n  delay(2000);\n  analogWrite(9, 0);\n  delay(1000);\n}`
      },
      servo: {
        name: "Servo Motor",
        code: `#include <Servo.h>\nServo servo;\n\nvoid setup() {\n  servo.attach(9);\n}\n\nvoid loop() {\n  servo.write(0);\n  delay(1000);\n  servo.write(90);\n  delay(1000);\n  servo.write(180);\n  delay(1000);\n}`
      },
      potentiometer: {
        name: "Potansiyometre ve LED",
        code: `void setup() {\n  pinMode(9, OUTPUT);\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  int deger = analogRead(A0);\n  int parlaklik = map(deger, 0, 1023, 0, 255);\n  analogWrite(9, parlaklik);\n  Serial.print("Pot: ");\n  Serial.print(deger);\n  Serial.print(" -> Parlaklik: ");\n  Serial.println(parlaklik);\n  delay(50);\n}`
      },
      ultrasonic: {
        name: "HC-SR04 Mesafe SensÃ¶rÃ¼",
        code: `void setup() {\n  pinMode(12, OUTPUT); // Trig\n  pinMode(11, INPUT);  // Echo\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  digitalWrite(12, LOW);\n  delayMicroseconds(2);\n  digitalWrite(12, HIGH);\n  delayMicroseconds(10);\n  digitalWrite(12, LOW);\n\n  long sure = pulseIn(11, HIGH);\n  int mesafe = (sure * 0.034) / 2;\n\n  Serial.print("Mesafe: ");\n  Serial.print(mesafe);\n  Serial.println(" cm");\n  \n  if (mesafe < 20) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n  delay(200);\n}`
      },
      switch_modes: {
        name: "Switch-Case ile Modlar",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n}\n\nint mod = 0;\n\nvoid loop() {\n  switch (mod) {\n    case 0:\n      digitalWrite(13, LOW);\n      break;\n    case 1:\n      digitalWrite(13, HIGH);\n      delay(500);\n      digitalWrite(13, LOW);\n      delay(500);\n      break;\n    case 2:\n      digitalWrite(13, HIGH);\n      delay(200);\n      digitalWrite(13, LOW);\n      delay(200);\n      break;\n    default:\n      digitalWrite(13, LOW);\n      break;\n  }\n  mod = (mod + 1) % 3;\n  delay(1000);\n}`
      }
    };

    const quizzes = [
      {
        id: 'algoritma-temelleri',
        title: 'Algoritma Temelleri',
        description: 'Problem Ã§Ã¶zme, akÄ±ÅŸ diyagramlarÄ± ve mantÄ±ksal dÃ¼ÅŸÃ¼nme',
        difficulty: 'Kolay',
        icon: 'ğŸ§ ',
        color: 'from-orange-400 to-red-500',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Algoritma nedir?',
            options: [
              'Bir problemin Ã§Ã¶zÃ¼mÃ¼ iÃ§in izlenen adÄ±mlar',
              'Bir bilgisayar markasÄ±',
              'Sadece matematik problemleridir',
              'Bir programlama dilidir'
            ],
            correct: 0,
            explanation: 'Algoritma, belirli bir iÅŸi yapmak veya bir problemi Ã§Ã¶zmek iÃ§in tasarlanan mantÄ±ksal adÄ±mlar bÃ¼tÃ¼nÃ¼dÃ¼r.'
          },
          {
            id: 2,
            question: 'AkÄ±ÅŸ diyagramÄ±nda "EÅŸkenar DÃ¶rtgen" neyi ifade eder?',
            options: ['BaÅŸlangÄ±Ã§', 'Ä°ÅŸlem', 'Karar/KoÅŸul', 'BitiÅŸ'],
            correct: 2,
            explanation: 'AkÄ±ÅŸ diyagramlarÄ±nda eÅŸkenar dÃ¶rtgen (baklava dilimi), bir koÅŸulun kontrol edildiÄŸi karar mekanizmalarÄ±nÄ± temsil eder.'
          },
          {
            id: 3,
            question: 'SÃ¶zde kod (Pseudo-code) yazmanÄ±n temel amacÄ± nedir?',
            options: [
              'Bilgisayarda Ã§alÄ±ÅŸtÄ±rmak',
              'AlgoritmayÄ± daha iyi anlamak ve planlamak',
              'Kodun hÄ±zÄ±nÄ± artÄ±rmak',
              'Bellek tasarrufu saÄŸlamak'
            ],
            correct: 1,
            explanation: 'SÃ¶zde kod, programlama diline geÃ§meden Ã¶nce algoritmanÄ±n mantÄ±ÄŸÄ±nÄ± netleÅŸtirmek iÃ§in kullanÄ±lan bir ara adÄ±mdÄ±r.'
          }
        ]
      },
      {
        id: 'temel-yazilim',
        title: 'Temel YazÄ±lÄ±m Bilgileri',
        description: 'DeÄŸiÅŸkenler, koÅŸullar, dÃ¶ngÃ¼ler ve fonksiyonlar',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Bir tam sayÄ±yÄ± saklamak iÃ§in hangi veri tipi kullanÄ±lÄ±r?',
            options: ['float', 'int', 'bool', 'char'],
            correct: 1,
            explanation: 'int (integer - tam sayÄ±) veri tipi -32,768 ile 32,767 arasÄ±nda tam sayÄ±lar saklamak iÃ§in kullanÄ±lÄ±r.'
          },
          {
            id: 2,
            question: 'if-else yapÄ±sÄ± ne iÃ§in kullanÄ±lÄ±r?',
            options: ['Tekrar eden iÅŸlemler', 'Karar verme', 'Veriler saklama', 'Fonksiyon tanÄ±mlama'],
            correct: 1,
            explanation: 'if-else yapÄ±larÄ±, programÄ±n farklÄ± koÅŸullara gÃ¶re farklÄ± davranmasÄ±nÄ± saÄŸlar.'
          },
          {
            id: 3,
            question: 'Belirli sayÄ±da tekrar yapmak iÃ§in en uygun dÃ¶ngÃ¼ tipi hangisidir?',
            options: ['while', 'do-while', 'for', 'loop'],
            correct: 2,
            explanation: 'for dÃ¶ngÃ¼sÃ¼, baÅŸlangÄ±Ã§, bitiÅŸ ve artÄ±ÅŸ deÄŸerleri belirli olduÄŸu durumlarda en uygun olanÄ±dÄ±r.'
          },
          {
            id: 4,
            question: 'Fonksiyonlar neden kullanÄ±lÄ±r?',
            options: ['Kodun tekrar kullanÄ±labilirliÄŸini artÄ±rÄ±r', 'Sadece karmaÅŸÄ±k iÅŸlemler iÃ§in', 'Bellek kullanÄ±mÄ±nÄ± artÄ±rÄ±r', 'ProgramÄ± yavaÅŸlatÄ±r'],
            correct: 0,
            explanation: 'Fonksiyonlar, aynÄ± kod bloÄŸunu birden fazla kez kullanmamÄ±zÄ± saÄŸlar ve kodu daha organize hale getirir.'
          },
          {
            id: 5,
            question: '&& operatÃ¶rÃ¼ ne anlama gelir?',
            options: ['OR (veya)', 'AND (ve)', 'NOT (deÄŸil)', 'BÃ¶lme'],
            correct: 1,
            explanation: '&& (AND) operatÃ¶rÃ¼, iki koÅŸul da doÄŸru olduÄŸu durumda sonucu true yapar.'
          }
        ]
      },
      {
        id: 'basics',
        title: 'Arduino Temelleri',
        description: 'setup(), loop() ve temel kavramlar',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-blue-500 to-blue-700',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Arduino programÄ±nda setup() fonksiyonu kaÃ§ kez Ã§alÄ±ÅŸÄ±r?',
            options: ['Her loop dÃ¶ngÃ¼sÃ¼nde', 'Sadece bir kez', 'Ä°ki kez', 'HiÃ§ Ã§alÄ±ÅŸmaz'],
            correct: 1,
            explanation: 'setup() fonksiyonu program baÅŸladÄ±ÄŸÄ±nda sadece bir kez Ã§alÄ±ÅŸÄ±r ve baÅŸlangÄ±Ã§ ayarlarÄ±nÄ± yapar.'
          },
          {
            id: 2,
            question: 'loop() fonksiyonu ne zaman Ã§alÄ±ÅŸÄ±r?',
            options: ['Sadece baÅŸlangÄ±Ã§ta', 'Setup\'tan sonra sÃ¼rekli tekrar eder', 'Manuel olarak Ã§aÄŸÄ±rÄ±lÄ±nca', 'HiÃ§ Ã§alÄ±ÅŸmaz'],
            correct: 1,
            explanation: 'loop() fonksiyonu setup() bittikten sonra sÃ¼rekli olarak tekrar eder. Bu Arduino\'nun ana Ã§alÄ±ÅŸma prensibidir.'
          },
          {
            id: 3,
            question: 'pinMode(13, OUTPUT) komutu ne iÅŸe yarar?',
            options: ['13 numaralÄ± pini okur', '13 numaralÄ± pini Ã§Ä±kÄ±ÅŸ olarak ayarlar', '13 numaralÄ± pini siler', 'LED yakar'],
            correct: 1,
            explanation: 'pinMode() fonksiyonu bir pini INPUT (giriÅŸ) veya OUTPUT (Ã§Ä±kÄ±ÅŸ) olarak yapÄ±landÄ±rÄ±r.'
          }
        ]
      },
      {
        id: 'digital',
        title: 'Dijital Pin KontrolÃ¼',
        description: 'digitalWrite, digitalRead kullanÄ±mÄ±',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-yellow-500 to-orange-600',
        xpReward: 75,
        questions: [
          {
            id: 1,
            question: 'digitalWrite(13, HIGH) komutu ne yapar?',
            options: ['13 numaralÄ± pini kapatÄ±r', '13 numaralÄ± pini aÃ§ar (5V)', 'Pin 13\'Ã¼ okur', 'HiÃ§bir ÅŸey yapmaz'],
            correct: 1,
            explanation: 'digitalWrite(pin, HIGH) komutu belirtilen pine 5V voltaj uygular, LED gibi cihazlarÄ± aÃ§mak iÃ§in kullanÄ±lÄ±r.'
          },
          {
            id: 2,
            question: 'LED yakmak iÃ§in hangi komut kullanÄ±lÄ±r?',
            options: ['analogWrite()', 'digitalRead()', 'digitalWrite()', 'pinMode()'],
            correct: 2,
            explanation: 'digitalWrite() komutu dijital pinleri HIGH veya LOW yapmak iÃ§in kullanÄ±lÄ±r. LED yakmak iÃ§in HIGH deÄŸeri kullanÄ±lÄ±r.'
          },
          {
            id: 3,
            question: 'delay(1000) komutu ne iÅŸe yarar?',
            options: ['1 saniye bekler', '1 milisaniye bekler', '1000 saniye bekler', 'ProgramÄ± durdurur'],
            correct: 0,
            explanation: 'delay() fonksiyonu milisaniye cinsinden bekleme yapar. delay(1000) = 1 saniye bekler.'
          },
          {
            id: 4,
            question: 'Buton durumunu okumak iÃ§in hangi komut kullanÄ±lÄ±r?',
            options: ['digitalWrite()', 'pinMode()', 'digitalRead()', 'analogRead()'],
            correct: 2,
            explanation: 'digitalRead() fonksiyonu dijital pinlerin durumunu (HIGH veya LOW) okumak iÃ§in kullanÄ±lÄ±r.'
          }
        ]
      },
      {
        id: 'analog',
        title: 'Analog DÃ¼nyasÄ±',
        description: 'analogRead, analogWrite ve SensÃ¶rler',
        difficulty: 'Orta',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        xpReward: 100,
        questions: [
          {
            id: 1,
            question: 'analogRead() fonksiyonu hangi deÄŸer aralÄ±ÄŸÄ±nda sonuÃ§ dÃ¶ndÃ¼rÃ¼r?',
            options: ['0 - 1', '0 - 255', '0 - 1023', '0 - 5000'],
            correct: 2,
            explanation: 'Arduino\'nun 10-bit ADC\'si sayesinde analogRead() 0 ile 1023 arasÄ±nda bir deÄŸer dÃ¶ndÃ¼rÃ¼r.'
          },
          {
            id: 2,
            question: 'PWM sinyali oluÅŸturmak iÃ§in hangi fonksiyon kullanÄ±lÄ±r?',
            options: ['analogRead()', 'digitalWrite()', 'analogWrite()', 'pwmWrite()'],
            correct: 2,
            explanation: 'analogWrite() fonksiyonu PWM destekleyen pinlerde analog benzeri bir Ã§Ä±kÄ±ÅŸ (0-255) oluÅŸturmak iÃ§in kullanÄ±lÄ±r.'
          },
          {
            id: 3,
            question: 'Potansiyometre Arduino\'nun hangi pinlerine baÄŸlanmalÄ±dÄ±r?',
            options: ['Dijital Pinler', 'Analog Pinler (A0-A5)', 'Sadece GND ve 5V', 'Seri Port Pinleri'],
            correct: 1,
            explanation: 'Potansiyometre gibi deÄŸiÅŸken voltaj Ã¼reten elemanlar analog giriÅŸ (A0-A5) pinlerine baÄŸlanÄ±r.'
          }
        ]
      },
      {
        id: 'servo',
        title: 'Hareket ve Servolar',
        description: 'Servo kÃ¼tÃ¼phanesi ve aÃ§Ä± kontrolÃ¼',
        difficulty: 'Orta',
        icon: '',
        color: 'from-purple-500 to-indigo-600',
        xpReward: 120,
        questions: [
          {
            id: 1,
            question: 'Servo motoru kontrol etmek iÃ§in hangi kÃ¼tÃ¼phane eklenmelidir?',
            options: ['#include <Motor.h>', '#include <Servo.h>', '#include <Wire.h>', '#include <SPI.h>'],
            correct: 1,
            explanation: 'Arduino\'da standart servo motorlarÄ± kontrol etmek iÃ§in Servo.h kÃ¼tÃ¼phanesi kullanÄ±lÄ±r.'
          },
          {
            id: 2,
            question: 'servo.write(90) komutu ne yapar?',
            options: ['Motoru 90 hÄ±zÄ±nda dÃ¶ndÃ¼rÃ¼r', 'Motoru 90 derece aÃ§Ä±sÄ±na getirir', 'Motoru 90 saniye Ã§alÄ±ÅŸtÄ±rÄ±r', '90 numaralÄ± pini aÃ§ar'],
            correct: 1,
            explanation: 'write() fonksiyonu servo motoru belirtilen dereceye (0-180 arasÄ±) konumlandÄ±rÄ±r.'
          },
          {
            id: 3,
            question: 'Servo motorun turuncu kablosu genellikle nereye baÄŸlanÄ±r?',
            options: ['GND', '5V', 'Sinyal (PWM) Pini', 'Vin'],
            correct: 2,
            explanation: 'Servolarda genellikle Kahverengi/Siyah: GND, KÄ±rmÄ±zÄ±: 5V, Turuncu/SarÄ±: Sinyal pinidir.'
          }
        ]
      },
      {
        id: 'serial',
        title: 'Seri HaberleÅŸme',
        description: 'Bilgisayar ile veri alÄ±ÅŸveriÅŸi',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-orange-500 to-red-600',
        xpReward: 80,
        questions: [
          {
            id: 1,
            question: 'Seri haberleÅŸmeyi baÅŸlatmak iÃ§in setup() iÃ§inde hangi komut kullanÄ±lÄ±r?',
            options: ['Serial.begin(9600)', 'Serial.start()', 'Serial.open()', 'Serial.init()'],
            correct: 0,
            explanation: 'Serial.begin(baudrate) komutu seri haberleÅŸmeyi belirtilen hÄ±zda baÅŸlatÄ±r.'
          },
          {
            id: 2,
            question: 'Ekrana bir satÄ±r yazÄ± yazÄ±p alt satÄ±ra geÃ§mek iÃ§in hangi komut kullanÄ±lÄ±r?',
            options: ['Serial.print()', 'Serial.write()', 'Serial.println()', 'Serial.send()'],
            correct: 2,
            explanation: 'println() komutu veriyi yazar ve ardÄ±ndan yeni bir satÄ±ra geÃ§er.'
          }
        ]
      },
      {
        id: 'sensors',
        title: 'SensÃ¶r Teknolojileri',
        description: 'Mesafe, sÄ±caklÄ±k ve Ä±ÅŸÄ±k sensÃ¶rleri',
        difficulty: 'Zor',
        icon: '',
        color: 'from-pink-500 to-rose-600',
        xpReward: 150,
        questions: [
          {
            id: 1,
            question: 'HC-SR04 mesafe sensÃ¶rÃ¼ hangi prensiple Ã§alÄ±ÅŸÄ±r?',
            options: ['Lazer', 'KÄ±zÄ±lÃ¶tesi', 'Ultrasonik (Ses)', 'Radyo DalgalarÄ±'],
            correct: 2,
            explanation: 'HC-SR04 ses dalgalarÄ± gÃ¶nderip yankÄ±sÄ±nÄ± alarak mesafe Ã¶lÃ§er (Ultrasonik).'
          },
          {
            id: 2,
            question: 'LDR (IÅŸÄ±ÄŸa BaÄŸÄ±mlÄ± DirenÃ§) karanlÄ±kta nasÄ±l bir direnÃ§ gÃ¶sterir?',
            options: ['DÃ¼ÅŸÃ¼k DirenÃ§', 'YÃ¼ksek DirenÃ§', 'DirenÃ§ GÃ¶stermez', 'Sabit DirenÃ§'],
            correct: 1,
            explanation: 'LDR\'nin direnci Ã¼zerindeki Ä±ÅŸÄ±k miktarÄ± azaldÄ±kÃ§a (karanlÄ±kta) artar.'
          }
        ]
      }
    ];

    // ==================== HELPER FUNCTIONS ====================
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      const colors = {
        success: '#10B981',
        error: '#EF4444',
        info: '#3B82F6'
      };
      
      toast.innerHTML = message;
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: ${colors[type]};
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        z-index: 10000;
        font-weight: 500;
        animation: slideIn 0.3s ease-out;
      `;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease-out';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    function handleStart() {
      if (appState.currentUser) {
        navigateTo('dashboard');
      } else {
        appState.showAuthModal = true;
        appState.authMode = 'register';
        renderApp();
      }
    }

    function handleModuleClick(moduleId, isCompleted) {
      if (!isCompleted) {
        appState.currentModuleView = moduleId;
        renderApp();
      }
    }

    function handleAuthSubmit(event, form) {
      event.preventDefault();
      if (appState.authMode === 'login') {
        handleLogin(form.email.value, form.password.value);
      } else {
        handleRegister(
          form.name.value, 
          form.email.value, 
          form.password.value, 
          form.level.value, 
          form.goal.value
        );
      }
    }

    function handleQuizStart(quizId) {
      if (appState.currentUser) {
        startQuiz(quizId);
      } else {
        appState.showAuthModal = true;
        appState.authMode = 'register';
        renderApp();
      }
    }

    function handleAboutCTA() {
      navigateTo(appState.currentUser ? 'dashboard' : 'home');
    }

    function navigateTo(page) {
      const change = () => {
        appState.currentPage = page;
        if (page !== 'editor' && appState.simulationRunning) {
          stopSimulation();
        }
        renderApp();
      };
      if (document.startViewTransition) {
        document.startViewTransition(change);
      } else {
        change();
      }
    }

    function addActivity(text, icon, color) {
      if (!appState.currentUser) return;
      
      appState.currentUser.activities.unshift({
        text,
        icon,
        color,
        timestamp: new Date().toISOString()
      });
      
      if (appState.currentUser.activities.length > 20) {
        appState.currentUser.activities = appState.currentUser.activities.slice(0, 20);
      }
      saveAppState();
    }

    function addXP(amount, reason) {
      if (!appState.currentUser) return;
      
      appState.currentUser.xp += amount;
      
      const today = new Date().toISOString().split('T')[0];
      if (!appState.currentUser.dailyXP) appState.currentUser.dailyXP = {};
      appState.currentUser.dailyXP[today] = (appState.currentUser.dailyXP[today] || 0) + amount;
      
      addActivity(`${amount} XP kazandÄ±n! ${reason}`, '', 'blue');
      showToast(`+${amount} XP kazandÄ±n!`, 'success');
      saveAppState();
    }

    function getWeeklyProgress() {
      if (!appState.currentUser || !appState.currentUser.dailyXP) return [0, 0, 0, 0, 0, 0, 0];
      
      const today = new Date();
      const progress = [];
      
      for (let i = 6; i >= 0; i--) {
        const date = new Date(today);
        date.setDate(date.getDate() - i);
        const dateStr = date.toISOString().split('T')[0];
        const xp = appState.currentUser.dailyXP[dateStr] || 0;
        progress.push(xp);
      }
      
      return progress;
    }

    function getModuleProgress(moduleId) {
      if (!appState.currentUser) return 0;
      const completed = appState.currentUser.completedModules.find(m => m.moduleId === moduleId);
      return completed ? 100 : 0;
    }

    // ==================== AUTH FUNCTIONS ====================
    function handleLogin(email, password) {
      const user = appState.users.find(u => u.email === email && u.password === password);
      
      if (user) {
        appState.currentUser = user;
        appState.showAuthModal = false;
        appState.currentPage = 'dashboard';
        saveAppState();
        renderApp();
        showToast('BaÅŸarÄ±yla giriÅŸ yaptÄ±nÄ±z!', 'success');
      } else {
        showToast('E-posta veya ÅŸifre hatalÄ±!', 'error');
      }
    }

    function handleRegister(name, email, password, level, goal) {
      if (appState.users.find(u => u.email === email)) {
        showToast('Bu e-posta adresi zaten kayÄ±tlÄ±!', 'error');
        return;
      }

      const newUser = {
        id: Date.now().toString(),
        name,
        email,
        password,
        level,
        goal,
        xp: 0,
        completedModules: [],
        activities: [],
        badges: [],
        dailyXP: {},
        createdAt: new Date().toISOString()
      };

      appState.users.push(newUser);
      appState.currentUser = newUser;
      appState.showAuthModal = false;
      appState.currentPage = 'dashboard';
      saveAppState();
      renderApp();
      showToast('HoÅŸ geldin! Arduino serÃ¼venine baÅŸlayalÄ±m', 'success');
    }

    function logout() {
      appState.currentUser = null;
      appState.currentPage = 'home';
      saveAppState();
      renderApp();
    }

    // ==================== QUIZ FUNCTIONS ====================
    function startQuiz(quizId) {
      appState.currentQuiz = quizId;
      appState.quizAnswers = {};
      appState.quizCompleted = false;
      appState.quizScore = 0;
      renderApp();
    }

    function selectAnswer(questionId, answerIndex) {
      appState.quizAnswers[questionId] = answerIndex;
      renderApp();
    }

    function submitQuiz() {
      const quiz = quizzes.find(q => q.id === appState.currentQuiz);
      if (!quiz) return;
      
      let correctCount = 0;
      quiz.questions.forEach(question => {
        if (appState.quizAnswers[question.id] === question.correct) {
          correctCount++;
        }
      });
      
      appState.quizScore = correctCount;
      appState.quizCompleted = true;
      
      if (appState.currentUser) {
        const percentage = (correctCount / quiz.questions.length) * 100;
        if (percentage >= 70) {
          const xpEarned = Math.floor(quiz.xpReward * (percentage / 100));
          addXP(xpEarned, `"${quiz.title}" testi tamamlandÄ±`);
          addActivity(`"${quiz.title}" testini tamamladÄ±n! %${percentage.toFixed(0)} baÅŸarÄ±`, '', 'green');
        }
      }
      
      renderApp();
    }

    function resetQuiz() {
      appState.currentQuiz = null;
      appState.quizAnswers = {};
      appState.quizCompleted = false;
      appState.quizScore = 0;
      renderApp();
    }

    // ==================== MODULE FUNCTIONS ====================
    function completeModule(moduleId) {
      if (!appState.currentUser) return;
      
      const module = modules.find(m => m.id === moduleId);
      if (!module) return;
      
      const alreadyCompleted = appState.currentUser.completedModules.some(m => m.moduleId === moduleId);
      if (alreadyCompleted) {
        showToast('Bu modÃ¼lÃ¼ zaten tamamladÄ±n!', 'info');
        return;
      }
      
      appState.currentUser.completedModules.push({
        moduleId,
        completedAt: new Date().toISOString(),
        xpEarned: module.xpReward
      });
      
      addXP(module.xpReward, `"${module.title}" tamamlandÄ±`);
      addActivity(`"${module.title}" modÃ¼lÃ¼nÃ¼ tamamladÄ±n!`, '', 'green');
      
      appState.currentModuleView = null;
      renderApp();
    }

    // ==================== EDITOR FUNCTIONS ====================
    function loadExample(exampleKey) {
      if (codeExamples[exampleKey]) {
        appState.editorCode = codeExamples[exampleKey].code;
        if (appState.editorInstance) {
          appState.editorInstance.setValue(appState.editorCode);
        }
        stopSimulation();
        renderApp();
      }
    }
    
    function saveEditorCode() {
      try {
        saveAppState();
        showToast('Kodunuz basariyla kaydedildi!', 'success');
      } catch (e) {
        showToast('Gecerli kodu kaydetme islemi gerceklestirilemedi. Sorun ', 'error');
      }
    }
    
    function loadSavedEditorCode() {
      const saved = localStorage.getItem('ardumind_editor_code');
      if (saved !== null) {
        appState.editorCode = saved;
        if (appState.editorInstance) {
          appState.editorInstance.setValue(appState.editorCode);
        }
        stopSimulation();
        renderApp();
        showToast('KayÄ±tlÄ± kod yÃ¼klendi', 'info');
      } else {
        showToast('KayÄ±tlÄ± kod bulunamadÄ±', 'error');
      }
    }
    
    function copyEditorCode() {
      if (navigator.clipboard && window.isSecureContext !== false) {
        navigator.clipboard.writeText(appState.editorCode)
          .then(() => showToast('Kod panoya kopyalandÄ±', 'success'))
          .catch(() => showToast('Kopyalama baÅŸarÄ±sÄ±z!', 'error'));
      } else {
        showToast('Kopyalama desteklenmiyor', 'error');
      }
    }
    
    function toggleEditorWrap() {
      appState.editorWrap = !appState.editorWrap;
      if (appState.editorInstance) {
        appState.editorInstance.setOption('lineWrapping', appState.editorWrap);
      }
      renderApp();
    }
    
    function handleEditorKeydown(e) {
      // ArtÄ±k CodeMirror kullanÄ±yoruz, bu fonksiyona gerek kalmayabilir
    }

    function initEditor() {
      const container = document.getElementById('editorContainer');
      if (!container) return;

      if (appState.editorInstance) {
        // EÄŸer editÃ¶r hala DOM iÃ§indeyse sadece yenile ve Ã§Ä±k
        if (document.body.contains(appState.editorInstance.getWrapperElement())) {
          appState.editorInstance.refresh();
          return;
        }
        // EÄŸer DOM'dan kopmuÅŸsa (re-render), instance'Ä± temizle
        appState.editorInstance = null;
      }

      appState.editorInstance = CodeMirror(container, {
        value: appState.editorCode,
        mode: 'text/x-c++src',
        theme: 'dracula',
        lineNumbers: true,
        autoCloseBrackets: true,
        styleActiveLine: true,
        tabSize: 2,
        indentUnit: 2,
        lineWrapping: appState.editorWrap
      });

      appState.editorInstance.on('change', (cm) => {
        appState.editorCode = cm.getValue();
        saveAppState();
      });

      // Font boyutunu ve tipini CSS ile ayarladÄ±k ama burada da zorlayabiliriz
      appState.editorInstance.refresh();
    }

    function parseArduinoCode(code) {
      const lines = code.split('\n');
      const commands = [];
      
      for (let line of lines) {
        line = line.trim();
        
        const pinModeMatch = line.match(/pinMode\s*\(\s*(\d+)\s*,\s*(OUTPUT|INPUT)\s*\)/);
        if (pinModeMatch) {
          commands.push({ type: 'pinMode', pin: parseInt(pinModeMatch[1]), mode: pinModeMatch[2] });
        }
        
        const digitalWriteMatch = line.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
        if (digitalWriteMatch) {
          commands.push({ type: 'digitalWrite', pin: parseInt(digitalWriteMatch[1]), value: digitalWriteMatch[2] });
        }
        
        const analogWriteMatch = line.match(/analogWrite\s*\(\s*(\d+)\s*,\s*(\d+|\w+)\s*\)/);
        if (analogWriteMatch) {
          commands.push({ type: 'analogWrite', pin: parseInt(analogWriteMatch[1]), value: analogWriteMatch[2] });
        }

        const analogReadMatch = line.match(/(?:int\s+)?(\w+)\s*=\s*analogRead\s*\(\s*(A\d|\d+)\s*\)/);
        if (analogReadMatch) {
          commands.push({ type: 'analogRead', varName: analogReadMatch[1], pin: analogReadMatch[2] });
        }

        const pulseInMatch = line.match(/(?:long\s+)?(\w+)\s*=\s*pulseIn\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
        if (pulseInMatch) {
          commands.push({ type: 'pulseIn', varName: pulseInMatch[1], pin: parseInt(pulseInMatch[2]) });
        }

        const serialPrintlnMatch = line.match(/Serial\.println\s*\(\s*(.*)\s*\)/);
        if (serialPrintlnMatch) {
          commands.push({ type: 'serialPrintln', value: serialPrintlnMatch[1].trim() });
        }

        const serialPrintMatch = line.match(/Serial\.print\s*\(\s*(.*)\s*\)/);
        if (serialPrintMatch && !line.includes('println')) {
          commands.push({ type: 'serialPrintln', value: serialPrintMatch[1].trim() });
        }

        const serialBeginMatch = line.match(/Serial\.begin\s*\(\s*(\d+)\s*\)/);
        if (serialBeginMatch) {
          commands.push({ type: 'serialBegin', baud: parseInt(serialBeginMatch[1]) });
        }
        
        const servoWriteMatch = line.match(/servo\.write\s*\(\s*(\d+)\s*\)/);
        if (servoWriteMatch) {
          commands.push({ type: 'servoWrite', angle: parseInt(servoWriteMatch[1]) });
        }
        
        const delayMatch = line.match(/delay\s*\(\s*(\d+)\s*\)/);
        if (delayMatch) {
          commands.push({ type: 'delay', ms: parseInt(delayMatch[1]) });
        }

        const delayUsMatch = line.match(/delayMicroseconds\s*\(\s*(\d+)\s*\)/);
        if (delayUsMatch) {
          commands.push({ type: 'delay', ms: 1 }); // SimÃ¼lasyonda mikro saniyeyi 1ms yapalÄ±m
        }

        const mapMatch = line.match(/(?:int\s+)?(\w+)\s*=\s*map\s*\(\s*([^,]+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);
        if (mapMatch) {
          commands.push({ 
            type: 'map', 
            varName: mapMatch[1], 
            value: mapMatch[2].trim(),
            inMin: mapMatch[3], 
            inMax: mapMatch[4], 
            outMin: mapMatch[5], 
            outMax: mapMatch[6] 
          });
        }

        // Genel matematiksel atamalar: int x = y * 0.034 / 2;
        const mathMatch = line.match(/^(?:int|long|float|double)\s+(\w+)\s*=\s*([^;]+);/);
        if (mathMatch && !line.includes('analogRead') && !line.includes('digitalRead') && !line.includes('pulseIn') && !line.includes('map') && !line.includes('millis')) {
          commands.push({
            type: 'math',
            varName: mathMatch[1],
            expression: mathMatch[2].trim()
          });
        }
      }
      
      return commands;
    }
    
    function parseConditionalWrites(lines) {
      const commands = [];
      const varPinMap = {};
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        const assignMatch = line.match(/^(?:int|long|float)\s+(\w+)\s*=\s*(?:digitalRead|analogRead|pulseIn|map)\s*\(/) || line.match(/^(?:int|long|float)\s+(\w+)\s*=\s*.*;/);
        if (assignMatch) {
          // DeÄŸiÅŸken tanÄ±mlamalarÄ±nÄ± takip etmiyoruz, sadece if iÃ§indeki deÄŸiÅŸken adÄ±nÄ± kullanacaÄŸÄ±z
          continue;
        }
        
        // SayÄ±sal karÅŸÄ±laÅŸtÄ±rmalar (if (mesafe < 20)) veya Buton (if (buttonState == HIGH))
        const ifMatch = line.match(/^if\s*\(\s*(\w+)\s*(<|>|==|<=|>=|!=)\s*(\d+|HIGH|LOW)\s*\)\s*\{/);
        
        if (ifMatch) {
          const varName = ifMatch[1];
          const operator = ifMatch[2];
          const thresholdVal = ifMatch[3];
          
          let threshold = 0;
          if (thresholdVal === 'HIGH') threshold = 1;
          else if (thresholdVal === 'LOW') threshold = 0;
          else threshold = parseInt(thresholdVal);

          let j = i + 1;
          let braceDepth = 1;
          let pinIf = null, valIf = null;
          for (; j < lines.length; j++) {
            const l = lines[j].trim();
            if (l.includes('{')) braceDepth++;
            if (l.includes('}')) {
              braceDepth--;
              if (braceDepth === 0) { j++; break; }
            } else {
              const dw = l.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
              if (dw && pinIf === null) { pinIf = parseInt(dw[1]); valIf = dw[2]; }
            }
          }
          
          let pinElse = null, valElse = null;
          if (j < lines.length && lines[j] && lines[j].trim().startsWith('else')) {
            let k = j + 1;
            braceDepth = 0;
            if (lines[k] && lines[k].includes('{')) { braceDepth = 1; k++; }
            for (; k < lines.length; k++) {
              const l = lines[k].trim();
              if (l.includes('{')) braceDepth++;
              if (l.includes('}')) {
                braceDepth--;
                if (braceDepth === 0) { break; }
              } else {
                const dw = l.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
                if (dw && pinElse === null) { pinElse = parseInt(dw[1]); valElse = dw[2]; }
              }
            }
          }
          
          const targetPin = pinIf ?? pinElse;
          if (targetPin != null) {
            // EÄŸer deÄŸiÅŸken bir pin ile iliÅŸkiliyse (digitalRead), conditionPin kullan
            // DeÄŸilse (mesafe gibi), varName ve threshold kullan
            commands.push({ 
              type: 'conditionalWrite', 
              varName: varName,
              operator: operator,
              threshold: threshold,
              targetPin, 
              trueValue: valIf || 'LOW', 
              falseValue: valElse || 'LOW' 
            });
          }
        }
      }
      return commands;
    }

    function updateSimulationDisplay() {
      const arduinoBoard = document.getElementById('arduinoBoard');
      const serialMonitor = document.getElementById('serialMonitor');
      
      if (arduinoBoard) {
        arduinoBoard.innerHTML = renderArduinoBoard();
      }
      
      if (serialMonitor) {
        const scrollAtBottom = serialMonitor.scrollHeight - serialMonitor.scrollTop <= serialMonitor.clientHeight + 50;
        
        // Sadece kullanÄ±cÄ± Ã§Ä±ktÄ±larÄ±nÄ± gÃ¶sterelim (Serial.print)
        const displayLogs = appState.userSerialOutput.length > 0 ? appState.userSerialOutput : appState.serialOutput;
        
        serialMonitor.innerHTML = displayLogs.length === 0 
          ? `<div class="text-slate-500 text-center py-8">Kodu Ã§alÄ±ÅŸtÄ±rÄ±n...</div>` 
          : displayLogs.map(output => `
              <div class="mb-1 flex space-x-2">
                <span class="text-slate-600 text-[10px] mt-1">${output.timestamp || ''}</span>
                <span class="${output.type === 'error' ? 'text-red-400' : output.type === 'info' ? 'text-blue-400' : 'text-green-400'}">${output.text}</span>
              </div>
            `).join('');
        
        if (scrollAtBottom) {
          serialMonitor.scrollTop = serialMonitor.scrollHeight;
        }
      }
    }

    function renderArduinoBoard() {
      const hasServo = Object.keys(appState.servoStates).length > 0;
      const hasMotor = Object.keys(appState.motorStates).length > 0;
      
      return `
        <div class="grid grid-cols-4 sm:grid-cols-7 gap-3 mb-8">
          ${[13, 11, 10, 9, 6, 5, 3].map(pin => {
            const state = appState.ledStates[pin];
            const isOn = state === 'HIGH' || (typeof state === 'number' && state > 0);
            let intensity = 0;
            if (typeof state === 'number') {
              intensity = Math.min(Math.max(state / 255, 0), 1);
            } else if (state === 'HIGH') {
              intensity = 1;
            }
            
            // ParlaklÄ±k etkisini daha belirgin hale getirelim
            const glowSize = 5 + (intensity * 35);
            const glowOpacity = 0.2 + (intensity * 0.8);
            const ledOpacity = 0.3 + (intensity * 0.7);
            
            return `
              <div class="text-center group">
                <div 
                  class="w-10 h-10 rounded-full mx-auto mb-2 transition-all duration-150 relative border-2 ${isOn ? 'bg-yellow-400 border-yellow-300' : 'bg-slate-700 border-slate-600'}"
                  style="${isOn ? `box-shadow: 0 0 ${glowSize}px rgba(250,204,21,${glowOpacity}); opacity: ${ledOpacity}; transform: scale(${0.9 + intensity * 0.2});` : 'opacity: 0.4;'}"
                >
                  ${isOn ? `<div class="absolute inset-0 rounded-full animate-pulse bg-yellow-200 opacity-20"></div>` : ''}
                </div>
                <span class="text-[10px] font-bold ${isOn ? 'text-yellow-400' : 'text-slate-500'}">D${pin}${ [11, 10, 9, 6, 5, 3].includes(pin) ? '~' : '' }</span>
              </div>
            `;
          }).join('')}
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-6">
            <!-- Potansiyometre -->
            <div class="bg-gradient-to-br from-slate-800/40 to-slate-900/40 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm hover:border-blue-500/30 transition-all duration-300 shadow-[0_0_30px_rgba(0,0,0,0.3)]">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-3">
                  <div class="w-3 h-3 rounded-full bg-blue-500 shadow-[0_0_12px_rgba(59,130,246,0.8)] animate-pulse"></div>
                  <span class="text-sm font-semibold text-slate-200">Potansiyometre (A0)</span>
                </div>
                <div class="bg-blue-500/15 px-3 py-1.5 rounded-full border border-blue-500/40 backdrop-blur-sm">
                  <span class="text-[11px] font-mono font-bold text-blue-300">${appState.potValue}</span>
                  <span class="text-[10px] text-blue-500/70 ml-1">/ 1023</span>
                </div>
              </div>
              
              <!-- GerÃ§ekÃ§i Potansiyometre GÃ¶rseli -->
              <div class="flex flex-col items-center space-y-6">
                <!-- Potansiyometre DÃ¶nme BÃ¶lÃ¼mÃ¼ -->
                <div class="relative w-48 h-28 flex items-center justify-center">
                  <!-- Taban -->
                  <div class="absolute inset-0 bg-gradient-to-br from-slate-700 to-slate-900 rounded-2xl border-2 border-slate-600 shadow-lg shadow-inner">
                    <!-- Elektronik Alt Katman -->
                    <div class="absolute inset-3 bg-slate-800 rounded-lg border border-slate-700"></div>
                  </div>
                  
                  <!-- BaÄŸlantÄ± Pimleri -->
                  <div class="absolute bottom-0 left-0 right-0 flex justify-around pb-4">
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                  </div>
                  
                  <!-- Rotor (DÃ¶nen KÄ±sÄ±m) -->
                  <div class="relative w-32 h-32">
                    <!-- DÃ¶nen Disk -->
                    <div 
                      class="absolute inset-0 flex items-center justify-center" 
                      style="transform: rotate(${(appState.potValue/1023)*270}deg); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    >
                      <!-- DÃ¶nen Kutu -->
                      <div class="w-24 h-8 bg-gradient-to-r from-slate-500 to-slate-700 rounded-xl border-2 border-slate-400 shadow-inner shadow-[inset_0_0_10px_rgba(0,0,0,0.5)]"></div>
                      <!-- DÃ¶nme Kolu -->
                      <div class="absolute w-1.5 h-14 bg-gradient-to-b from-blue-400 to-blue-600 shadow-[0_0_15px_rgba(59,130,246,0.9)] rounded-full -top-14 z-10"></div>
                    </div>
                    <!-- Merkez Nokta -->
                    <div class="absolute inset-0 flex items-center justify-center">
                      <div class="w-8 h-8 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full border-2 border-slate-300 shadow-lg z-20">
                        <div class="absolute inset-1.5 bg-slate-800 rounded-full border border-slate-500"></div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- DeÄŸer BarÄ± -->
                <div class="w-full space-y-2">
                  <div class="relative h-5 bg-slate-800/60 rounded-full overflow-hidden border-2 border-slate-700 shadow-inner">
                    <div 
                      class="h-full bg-gradient-to-r from-blue-300 via-blue-500 to-blue-700 shadow-[0_0_12px_rgba(59,130,246,0.7)] transition-all duration-200"
                      style="width: ${(appState.potValue/1023)*100}%"
                    ></div>
                    <!-- YÃ¼zey AydÄ±nlÄ±ÄŸÄ± -->
                    <div class="absolute top-0 left-0 w-full h-1.5 bg-white/30"></div>
                    <!-- DeÄŸer Ä°ndikatÃ¶rÃ¼ -->
                    <div 
                      class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]" 
                      style="left: ${(appState.potValue/1023)*100 - 0.375}%; transition: left 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    ></div>
                  </div>
                  <div class="flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-wider">
                    <span>0V</span>
                    <span class="text-blue-400 font-bold">${((appState.potValue/1023)*5).toFixed(1)}V</span>
                    <span>5V</span>
                  </div>
                </div>
                
                <!-- AkÄ±ÅŸ Kontrol -->
                <input 
                  type="range" min="0" max="1023" value="${appState.potValue}" 
                  class="w-full h-2 bg-transparent appearance-none cursor-pointer accent-blue-500"
                  oninput="appState.potValue = parseInt(this.value); updateSimulationDisplay();"
                  style="
                    background: linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(appState.potValue/1023)*100}%, #475569 ${(appState.potValue/1023)*100}%, #475569 100%);
                    border-radius: 9999px;
                    border: 1px solid #334155;
                  "
                >
              </div>
            </div>

            <!-- HC-SR04 SensÃ¶r -->
            <div class="bg-gradient-to-br from-slate-800/40 to-slate-900/40 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm hover:border-emerald-500/30 transition-all duration-300 shadow-[0_0_30px_rgba(0,0,0,0.3)]">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-3">
                  <div class="w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.8)] animate-pulse"></div>
                  <span class="text-sm font-semibold text-slate-200">HC-SR04 Mesafe SensÃ¶rÃ¼</span>
                </div>
                <div class="bg-emerald-500/15 px-3 py-1.5 rounded-full border border-emerald-500/40 backdrop-blur-sm">
                  <span class="text-[11px] font-mono font-bold text-emerald-300">${appState.hcsr04Distance} cm</span>
                </div>
              </div>
              
              <!-- HC-SR04 GÃ¶rseli -->
              <div class="flex flex-col items-center space-y-6">
                <!-- SensÃ¶r GÃ¶sterimi -->
                <div class="relative w-72 h-40">
                  <!-- HC-SR04 CihazÄ± -->
                  <div class="absolute left-1/2 -translate-x-1/2 w-56 h-20 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl border-2 border-slate-600 shadow-xl shadow-inner">
                    <!-- SensÃ¶r YÃ¼zÃ¼ -->
                    <div class="absolute inset-2 bg-slate-800 rounded-lg flex items-center justify-around">
                      <!-- Ultrasonik TransdÃ¼serler -->
                      <div class="w-12 h-12 bg-gradient-to-br from-slate-900 to-slate-800 rounded-full border-2 border-slate-600 flex items-center justify-center shadow-inner">
                        <div class="w-7 h-7 bg-slate-700 rounded-full border border-slate-600 shadow-[inset_0_0_6px_rgba(0,0,0,0.8)]"></div>
                        <!-- TransdÃ¼ser AydÄ±nlÄ±ÄŸÄ± -->
                        <div class="absolute inset-0 rounded-full bg-emerald-500/10 animate-pulse"></div>
                      </div>
                      <div class="w-12 h-12 bg-gradient-to-br from-slate-900 to-slate-800 rounded-full border-2 border-slate-600 flex items-center justify-center shadow-inner">
                        <div class="w-7 h-7 bg-slate-700 rounded-full border border-slate-600 shadow-[inset_0_0_6px_rgba(0,0,0,0.8)]"></div>
                        <!-- TransdÃ¼ser AydÄ±nlÄ±ÄŸÄ± -->
                        <div class="absolute inset-0 rounded-full bg-emerald-500/10 animate-pulse"></div>
                      </div>
                      <!-- SensÃ¶r Etiketi -->
                      <div class="absolute bottom-3 left-1/2 -translate-x-1/2 text-[9px] font-bold text-slate-500">HC-SR04</div>
                    </div>
                    
                    <!-- BaÄŸlantÄ± Pimleri -->
                    <div class="absolute right-0 top-1/2 -translate-y-1/2 flex flex-col space-y-2 mr-3">
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                    </div>
                  </div>
                  
                  <!-- Ultrasonik Dalga Animasyonu -->
                  <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none">
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-40" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-30" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.2s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-20" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.4s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-10" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.6s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                  </div>
                  
                  <!-- Hedef Nokta -->
                  <div class="absolute right-8 top-1/2 -translate-y-1/2 w-8 h-8 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full shadow-[0_0_15px_rgba(16,185,129,0.9)] flex items-center justify-center border-2 border-emerald-300">
                    <div class="w-3 h-3 bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.9)]"></div>
                    <!-- Hedef Etiketi -->
                    <div class="absolute bottom-[-16px] left-1/2 -translate-x-1/2 text-[9px] font-bold text-emerald-300">Hedef</div>
                  </div>
                </div>
                
                <!-- Mesafe BarÄ± -->
                <div class="w-full space-y-2">
                  <div class="relative h-5 bg-slate-800/60 rounded-full overflow-hidden border-2 border-slate-700 shadow-inner">
                    <div 
                      class="h-full bg-gradient-to-r from-emerald-300 via-emerald-500 to-emerald-700 shadow-[0_0_12px_rgba(16,185,129,0.7)] transition-all duration-200"
                      style="width: ${(appState.hcsr04Distance/400)*100}%"
                    ></div>
                    <!-- YÃ¼zey AydÄ±nlÄ±ÄŸÄ± -->
                    <div class="absolute top-0 left-0 w-full h-1.5 bg-white/30"></div>
                    <!-- Hedef Ä°ÅŸareti -->
                    <div 
                      class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]" 
                      style="left: ${(appState.hcsr04Distance/400)*100 - 0.375}%; transition: left 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    ></div>
                  </div>
                  <div class="flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-wider">
                    <span>2 cm</span>
                    <span class="text-emerald-400 font-bold">${appState.hcsr04Distance} cm</span>
                    <span>400 cm</span>
                  </div>
                </div>
                
                <!-- AkÄ±ÅŸ Kontrol -->
                <input 
                  type="range" min="2" max="400" value="${appState.hcsr04Distance}" 
                  class="w-full h-2 bg-transparent appearance-none cursor-pointer accent-emerald-500"
                  oninput="appState.hcsr04Distance = parseInt(this.value); updateSimulationDisplay();"
                  style="
                    background: linear-gradient(to right, #10b981 0%, #10b981 ${(appState.hcsr04Distance/400)*100}%, #475569 ${(appState.hcsr04Distance/400)*100}%, #475569 100%);
                    border-radius: 9999px;
                    border: 1px solid #334155;
                  "
                >
              </div>
            </div>

            <!-- Butonlar -->
            <div class="flex gap-4">
              <button 
                onclick="toggleButton(2)"
                class="flex-1 group relative overflow-hidden py-3 px-4 rounded-2xl border transition-all duration-300 ${appState.buttonStates[2] ? 'bg-indigo-500/20 border-indigo-500/50 text-indigo-300 shadow-[0_0_20px_rgba(99,102,241,0.15)]' : 'bg-slate-800/40 border-slate-700/50 text-slate-400 hover:bg-slate-700/60'}"
              >
                <div class="relative z-10 flex items-center justify-center space-x-3">
                  <div class="w-2 h-2 rounded-full transition-all duration-300 ${appState.buttonStates[2] ? 'bg-indigo-400 shadow-[0_0_8px_rgba(129,140,248,0.8)]' : 'bg-slate-600'}"></div>
                  <span class="text-sm font-bold uppercase tracking-wide">Buton (Pin 2)</span>
                </div>
                ${appState.buttonStates[2] ? '<div class="absolute inset-0 bg-indigo-500/10 animate-pulse"></div>' : ''}
              </button>
            </div>
          </div>

          <div class="space-y-6">
            ${hasMotor ? `
              <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700/50 backdrop-blur-sm shadow-xl">
                <div class="flex items-center justify-between mb-6">
                  <div class="flex items-center space-x-3">
                    <div class="w-2.5 h-2.5 rounded-full bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.6)] animate-pulse"></div>
                    <span class="text-sm font-bold text-slate-200 tracking-wide uppercase">DC Motor KontrolÃ¼</span>
                  </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  ${Object.entries(appState.motorStates).map(([pin, _]) => {
                    const speed = Math.min((appState.displayMotorStates[pin] || 0) / 255, 1);
                    const rpm = Math.round(speed * 12000);
                    const angle = appState.motorAngles[pin] || 0;
                    const isRunning = speed > 0.01;
                    
                    return `
                      <div class="bg-slate-900/60 p-5 rounded-2xl border border-slate-700/40 text-center transition-all duration-300 hover:border-amber-500/30 group">
                        <div class="relative w-20 h-20 mx-auto mb-4">
                          <!-- Motor DÄ±ÅŸ Kasa -->
                          <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-slate-700 to-slate-800 border-2 border-slate-600 shadow-lg"></div>
                          <!-- Motor Ã–n Kapak -->
                          <div class="absolute inset-2 rounded-full bg-slate-800 border border-slate-700 shadow-inner flex items-center justify-center">
                            <!-- Mil -->
                            <div class="w-4 h-4 rounded-full bg-slate-600 border-2 border-slate-500 z-20"></div>
                            
                            <!-- Pervane (Minimal) -->
                            <div 
                              class="absolute inset-0 flex items-center justify-center" 
                              style="transform: rotate(${angle}deg); filter: ${speed > 0.7 ? 'blur(1px)' : 'none'};"
                            >
                              <div class="w-[85%] h-1.5 bg-gradient-to-r from-transparent via-slate-400 to-transparent rounded-full opacity-90"></div>
                              <div class="w-1.5 h-[85%] bg-gradient-to-b from-transparent via-slate-400 to-transparent rounded-full absolute opacity-90"></div>
                            </div>
                          </div>
                        </div>
                        
                        <div class="space-y-1">
                          <div class="text-[10px] font-black text-slate-500 tracking-[0.2em] uppercase">PÄ°N ${pin}</div>
                          <div class="flex items-center justify-center space-x-2">
                            <div class="text-xl font-mono font-black ${isRunning ? 'text-amber-400' : 'text-slate-600'} transition-colors duration-300">
                              ${rpm} <span class="text-[10px] text-slate-500">RPM</span>
                            </div>
                          </div>
                          <!-- HÄ±z BarÄ± -->
                          <div class="w-full h-1 bg-slate-800 rounded-full mt-2 overflow-hidden">
                            <div class="h-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]" style="width: ${speed * 100}%; transition: width 0.1s linear;"></div>
                          </div>
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            ` : ''}

            ${hasServo ? `
              <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700/50 backdrop-blur-sm shadow-xl">
                <div class="flex items-center justify-between mb-6">
                  <div class="flex items-center space-x-3">
                    <div class="w-2.5 h-2.5 rounded-full bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.6)] animate-pulse"></div>
                    <span class="text-sm font-bold text-slate-200 tracking-wide uppercase">Servo KontrolÃ¼</span>
                  </div>
                </div>
                <div class="space-y-6">
                  ${Object.entries(appState.servoStates).map(([pin, angle]) => `
                    <div class="bg-slate-900/60 p-6 rounded-2xl border border-slate-700/40 flex items-center space-x-8 transition-all duration-300 hover:border-rose-500/30">
                      <div class="relative w-24 h-24 flex-shrink-0 group">
                        <!-- Servo Alt GÃ¶vde -->
                        <div class="absolute inset-x-2 bottom-0 h-16 bg-slate-800 rounded-lg border-2 border-slate-700 shadow-lg"></div>
                        <!-- Servo Ãœst Kapak -->
                        <div class="absolute top-4 left-1/2 -translate-x-1/2 w-16 h-16 bg-slate-700 rounded-full border-2 border-slate-600 shadow-md flex items-center justify-center">
                          <div class="w-12 h-12 bg-slate-800 rounded-full border border-slate-700 shadow-inner"></div>
                        </div>
                        
                        <!-- Horn (Minimal & Modern) -->
                        <div 
                          class="absolute top-1/2 left-1/2 w-1.5 h-20 bg-gradient-to-b from-slate-200 to-slate-400 origin-center transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) z-10 rounded-full shadow-md"
                          style="transform: translate(-50%, -50%) rotate(${angle}deg);"
                        >
                          <div class="absolute top-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rounded-full border-2 border-slate-300 shadow-sm"></div>
                          <div class="absolute bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rounded-full border-2 border-slate-300 shadow-sm"></div>
                        </div>
                        
                        <!-- Merkez VidasÄ± -->
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-slate-600 rounded-full border-2 border-slate-500 z-20 shadow-lg flex items-center justify-center">
                          <div class="w-1 h-3 bg-slate-400 rounded-full rotate-45"></div>
                          <div class="w-1 h-3 bg-slate-400 rounded-full -rotate-45 absolute"></div>
                        </div>
                      </div>
                      
                      <div class="flex-1 space-y-3">
                        <div class="flex items-end justify-between">
                          <div>
                            <div class="text-[10px] font-black text-slate-500 tracking-[0.2em] uppercase mb-1">PÄ°N ${pin} POZÄ°SYON</div>
                            <div class="text-4xl font-black text-rose-500 font-mono tracking-tighter leading-none">${angle}<span class="text-xl ml-1 text-rose-500/50">Â°</span></div>
                          </div>
                          <div class="text-[10px] font-bold text-slate-400 bg-slate-800 px-3 py-1 rounded-full border border-slate-700">
                            ${angle < 60 ? 'SOL' : angle > 120 ? 'SAÄ' : 'MERKEZ'}
                          </div>
                        </div>
                        
                        <!-- AÃ§Ä± GÃ¶stergesi -->
                        <div class="relative pt-4">
                          <div class="w-full h-2 bg-slate-800 rounded-full overflow-hidden border border-slate-700/50">
                            <div class="h-full bg-gradient-to-r from-rose-600 to-rose-400 transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) shadow-[0_0_12px_rgba(244,63,94,0.4)]" style="width: ${(angle/180)*100}%"></div>
                          </div>
                          <div class="flex justify-between mt-2 text-[9px] font-black text-slate-600 tracking-widest">
                            <span>0Â°</span>
                            <span>90Â°</span>
                            <span>180Â°</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            ` : ''}
          </div>
        </div>
      `;
    }

    function logToSerial(text, type = 'info', isUser = false) {
      const log = { type, text, timestamp: new Date().toLocaleTimeString().split(' ')[0] };
      appState.serialOutput.push(log);
      if (isUser) {
        appState.userSerialOutput.push(log);
      }
      updateSimulationDisplay();
    }

    function validateCode(code) {
      if (!code || code.trim() === '') {
        return { valid: false, message: 'Kod boÅŸ olamaz!' };
      }
      
      if (!code.includes('void setup()')) {
        return { valid: false, message: 'setup() fonksiyonu eksik!' };
      }
      
      if (!code.includes('void loop()')) {
        return { valid: false, message: 'loop() fonksiyonu eksik!' };
      }
      
      // Temel parantez kontrolÃ¼
      const openBraces = (code.match(/\{/g) || []).length;
      const closeBraces = (code.match(/\}/g) || []).length;
      if (openBraces !== closeBraces) {
        return { valid: false, message: 'Eksik veya fazla sÃ¼slÃ¼ parantez { } hatasÄ±!' };
      }
      
      return { valid: true };
    }

    function runSimulation() {
      if (appState.simulationRunning) {
        stopSimulation();
        return;
      }
      
      const validation = validateCode(appState.editorCode);
      if (!validation.valid) {
        showToast(validation.message, 'error');
        appState.serialOutput = [{ type: 'error', text: validation.message }];
        updateSimulationDisplay();
        return;
      }

      appState.simulationRunning = true;
      appState.ledStates = {};
      appState.motorStates = {};
      appState.displayMotorStates = {};
      appState.motorAngles = {};
      appState.servoStates = {};
      appState.serialInitialized = false;
      appState.serialOutput = [];
      appState.userSerialOutput = [];
      
      try {
        const commands = parseArduinoCode(appState.editorCode);
        
        if (commands.length === 0) {
          logToSerial('Ã‡alÄ±ÅŸtÄ±rÄ±labilir komut bulunamadÄ±!', 'error');
          appState.simulationRunning = false;
          return;
        }
        
        logToSerial('SimÃ¼lasyon baÅŸlatÄ±ldÄ±...', 'info');
        
        const variables = {
          'HIGH': 1,
          'LOW': 0
        };

        commands.filter(c => c.type === 'pinMode').forEach(cmd => {
          if (cmd.mode === 'OUTPUT') {
            appState.ledStates[cmd.pin] = 'LOW';
          }
        });

        // setup() iÃ§indeki Serial.begin ve diÄŸer komutlarÄ± Ã§alÄ±ÅŸtÄ±r
        let setupCommands = [];
        let inSetup = false;
        appState.editorCode.split('\n').forEach(line => {
          if (line.includes('void setup()')) inSetup = true;
          else if (inSetup && line.includes('}')) inSetup = false;
          else if (inSetup) setupCommands.push(line);
        });

        const setupParsed = parseArduinoCode(setupCommands.join('\n'));
        setupParsed.forEach(cmd => {
          if (cmd.type === 'serialBegin') {
            appState.serialInitialized = true;
            logToSerial(`Seri haberleÅŸme ${cmd.baud} baud hÄ±zÄ±nda baÅŸlatÄ±ldÄ±.`, 'info');
          } else if (cmd.type === 'digitalWrite') {
            appState.ledStates[cmd.pin] = cmd.value;
          } else if (cmd.type === 'analogWrite') {
            appState.ledStates[cmd.pin] = parseInt(cmd.value) || 0;
          }
        });
        
        let loopCommands = [];
        let inLoop = false;
        
        appState.editorCode.split('\n').forEach(line => {
          if (line.includes('void loop()')) inLoop = true;
          else if (inLoop && line.includes('}')) inLoop = false;
          else if (inLoop) loopCommands.push(line);
        });
        
        let commandIndex = 0;
        const loopText = loopCommands.join('\n');
        let loopParsed = parseArduinoCode(loopText);
        const condWrites = parseConditionalWrites(loopCommands);
        if (condWrites.length > 0) {
          loopParsed = loopParsed.filter(c => c.type !== 'digitalWrite');
          loopParsed = condWrites.concat(loopParsed);
        }
        
        function executeNextCommand() {
          if (!appState.simulationRunning) return;
          
          if (commandIndex >= loopParsed.length) {
            commandIndex = 0;
          }
          
          const cmd = loopParsed[commandIndex];
        if (!cmd) {
          commandIndex = 0;
          appState.simulationInterval = setTimeout(executeNextCommand, 20);
          return;
        }

        if (cmd.type === 'map') {
          let val = cmd.value;
          if (variables[val] !== undefined) val = variables[val];
          else val = parseInt(val) || 0;

          const inMin = parseInt(cmd.inMin);
          const inMax = parseInt(cmd.inMax);
          const outMin = parseInt(cmd.outMin);
          const outMax = parseInt(cmd.outMax);

          const result = Math.round((val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin);
          variables[cmd.varName] = result;
          logToSerial(`Map: ${val} -> ${result}`, 'info');
        } else if (cmd.type === 'math') {
          let expression = cmd.expression || `${cmd.left} ${cmd.op} ${cmd.right}`;
          
          // DeÄŸiÅŸkenleri gerÃ§ek deÄŸerlerle deÄŸiÅŸtir
          for (const [varName, varValue] of Object.entries(variables)) {
            const regex = new RegExp(`\\b${varName}\\b`, 'g');
            expression = expression.replace(regex, varValue);
          }
          
          try {
            // Basit hesaplamalar iÃ§in gÃ¼venli deÄŸerlendirme
            // Sadece sayÄ±lar, operatÃ¶rler ve basit matematiksel fonksiyonlar
            const safeExpr = expression.replace(/[^0-9+\-*/(). ]/g, '');
            const result = Math.round(eval(safeExpr));
            variables[cmd.varName] = result;
            logToSerial(`Math: ${expression} -> ${result}`, 'info');
          } catch (error) {
            logToSerial(`Math HatasÄ±: ${expression}`, 'error');
          }
        } else if (cmd.type === 'digitalWrite') {
            appState.ledStates[cmd.pin] = cmd.value;
            logToSerial(`Pin ${cmd.pin}: ${cmd.value}`, 'info');
          } else if (cmd.type === 'analogWrite') {
            let val = cmd.value;
            if (variables[val] !== undefined) val = variables[val];
            else val = parseInt(val) || 0;
            
            appState.ledStates[cmd.pin] = val; // LED parlaklÄ±ÄŸÄ± iÃ§in kullanacaÄŸÄ±z
            appState.motorStates[cmd.pin] = val;
            logToSerial(`Analog Write Pin ${cmd.pin}: ${val}`, 'info');
          } else if (cmd.type === 'analogRead') {
            const val = appState.potValue;
            variables[cmd.varName] = val;
            logToSerial(`Analog Read Pin ${cmd.pin}: ${val}`, 'info');
          } else if (cmd.type === 'pulseIn') {
            // HC-SR04 Mesafe hesaplama: mesafe = (sÃ¼re * 0.034) / 2
            // Tersine: sÃ¼re = (mesafe * 2) / 0.034
            const duration = Math.round((appState.hcsr04Distance * 2) / 0.034);
            variables[cmd.varName] = duration;
            logToSerial(`PulseIn Pin ${cmd.pin}: ${duration} us`, 'info');
          } else if (cmd.type === 'serialBegin') {
            appState.serialInitialized = true;
            logToSerial(`Seri haberleÅŸme ${cmd.baud} baud hÄ±zÄ±nda baÅŸlatÄ±ldÄ±.`, 'info');
          } else if (cmd.type === 'serialPrintln') {
            // Serial.begin olmadan da Ã§Ä±ktÄ± verelim, gerÃ§ek Arduino'da bÃ¶yle olmayacak ama kullanÄ±cÄ± deneyimi iÃ§in daha iyi
            let val = cmd.value;
            // DeÄŸiÅŸken mi yoksa string mi kontrol et
            if (val.startsWith('"') && val.endsWith('"')) {
              val = val.substring(1, val.length - 1);
            } else {
              // DeÄŸiÅŸkenleri deÄŸerlerle deÄŸiÅŸtir
              for (const [varName, varValue] of Object.entries(variables)) {
                const regex = new RegExp(`\\b${varName}\\b`, 'g');
                val = val.replace(regex, varValue);
              }
              // EÄŸer hala deÄŸiÅŸken varsa deÄŸerini al
              if (variables[val] !== undefined) {
                val = variables[val];
              }
            }
            logToSerial(val, 'success', true);
          } else if (cmd.type === 'servoWrite') {
            appState.servoStates[9] = cmd.angle;
            logToSerial(`Servo AÃ§Ä±: ${cmd.angle}Â°`, 'info');
          } else if (cmd.type === 'digitalReadAssign') {
            const val = appState.buttonStates[cmd.pin] ? 1 : 0;
            variables[cmd.varName] = val;
            logToSerial(`Read Pin ${cmd.pin}: ${val ? 'HIGH' : 'LOW'}`, 'info');
          } else if (cmd.type === 'conditionalWrite') {
            let conditionMet = false;
            if (cmd.conditionPin) {
              // Buton koÅŸulu
              const pressed = !!appState.buttonStates[cmd.conditionPin];
              conditionMet = pressed;
            } else if (cmd.varName && variables[cmd.varName] !== undefined) {
              // Mesafe veya diÄŸer deÄŸiÅŸken koÅŸulu
              const varValue = variables[cmd.varName];
              const threshold = cmd.threshold || 0;
              const operator = cmd.operator || '==';
              
              switch (operator) {
                case '<': conditionMet = varValue < threshold; break;
                case '>': conditionMet = varValue > threshold; break;
                case '==': conditionMet = varValue == threshold; break;
                case '<=': conditionMet = varValue <= threshold; break;
                case '>=': conditionMet = varValue >= threshold; break;
                case '!=': conditionMet = varValue != threshold; break;
              }
            }
            
            const value = conditionMet ? cmd.trueValue : cmd.falseValue;
            appState.ledStates[cmd.targetPin] = value;
            logToSerial(`${cmd.varName || 'Buton'} ${cmd.operator || '=='} ${cmd.threshold || (cmd.conditionPin ? 'HIGH' : 'LOW')}: ${conditionMet} - Pin ${cmd.targetPin}: ${value}`, 'info');
          }
          
          commandIndex++;
          
          const nextCmd = loopParsed[commandIndex];
          const delay = (nextCmd && nextCmd.type === 'delay') ? nextCmd.ms : 20;
          
          if (nextCmd && nextCmd.type === 'delay') {
            commandIndex++;
          }
          
          appState.simulationInterval = setTimeout(executeNextCommand, delay);
        }
        
        executeNextCommand();
        
      } catch (error) {
        logToSerial('Hata: ' + error.message, 'error');
        appState.simulationRunning = false;
      }
      
      updateSimulationDisplay();
      const runBtn = document.querySelector('button[onclick="runSimulation()"]');
      if (runBtn) {
        runBtn.className = `px-4 py-1 rounded-lg font-medium bg-red-500 hover:bg-red-600 text-white transition-all text-sm`;
        runBtn.textContent = 'Durdur';
      }
    }

    function clearSerial() {
      appState.serialOutput = [];
      updateSimulationDisplay();
    }

    function resetSimulation() {
      stopSimulation();
      appState.ledStates = {};
      appState.motorStates = {};
      appState.servoStates = {};
      appState.serialOutput = [];
      updateSimulationDisplay();
      showToast('SimÃ¼lasyon sÄ±fÄ±rlandÄ±', 'info');
    }

    function stopSimulation() {
      appState.simulationRunning = false;
      if (appState.simulationInterval) {
        clearTimeout(appState.simulationInterval);
        appState.simulationInterval = null;
      }
      appState.ledStates = {};
      appState.motorStates = {};
      appState.displayMotorStates = {};
      appState.motorAngles = {};
      appState.servoStates = {};
      appState.serialOutput.push({ type: 'info', text: 'SimÃ¼lasyon durduruldu.' });
      
      renderApp();
    }

    function toggleButton(pin) {
      appState.buttonStates[pin] = !appState.buttonStates[pin];
      updateSimulationDisplay();
    }

    // ==================== ALGORITMA TASARIMCISI ====================
    function addAlgoNode(type) {
      const nodeTypes = {
        start: { label: 'BAÅLA', color: 'from-green-500 to-green-600', shape: 'rounded-full' },
        process: { label: 'Ä°ÅLEM', color: 'from-blue-500 to-blue-600', shape: 'rounded-lg' },
        decision: { label: 'KARAR', color: 'from-orange-500 to-orange-600', shape: 'rounded-2xl rotate-45' },
        switch: { label: 'SWITCH', color: 'from-yellow-500 to-yellow-600', shape: 'rounded-lg border-2 border-dashed' },
        input: { label: 'GÄ°RÄ°Å', color: 'from-purple-500 to-purple-600', shape: 'rounded-lg skew-x-12' },
        output: { label: 'Ã‡IKIÅ', color: 'from-indigo-500 to-indigo-600', shape: 'rounded-lg skew-x-12' },
        end: { label: 'BÄ°TÄ°R', color: 'from-red-500 to-red-600', shape: 'rounded-full' }
      };

      const newNode = {
        id: Date.now(),
        type: type,
        text: nodeTypes[type].label,
        x: 100,
        y: 100 + (appState.flowchartNodes.length * 80),
        ...nodeTypes[type]
      };
      
      appState.flowchartNodes.push(newNode);
      renderApp();
    }

    function removeAlgoNode(id) {
      appState.flowchartNodes = appState.flowchartNodes.filter(n => n.id !== id);
      appState.flowchartConnections = appState.flowchartConnections.filter(c => c.from !== id && c.to !== id);
      renderApp();
    }

    function startAlgoConnection(id) {
      appState.algoConnectingFrom = id;
      renderApp();
    }

    function endAlgoConnection(id) {
      if (appState.algoConnectingFrom && appState.algoConnectingFrom !== id) {
        // AynÄ± baÄŸlantÄ±dan varsa ekleme
        const exists = appState.flowchartConnections.find(c => c.from === appState.algoConnectingFrom && c.to === id);
        if (!exists) {
          appState.flowchartConnections.push({
            id: Date.now(),
            from: appState.algoConnectingFrom,
            to: id
          });
        }
      }
      appState.algoConnectingFrom = null;
      renderApp();
    }

    function removeAlgoConnection(id) {
      appState.flowchartConnections = appState.flowchartConnections.filter(c => c.id !== id);
      renderApp();
    }

    function updateAlgoNodeText(id, text) {
      const node = appState.flowchartNodes.find(n => n.id === id);
      if (node) node.text = text;
      // renderApp Ã§aÄŸÄ±rmÄ±yoruz ki input odaÄŸÄ±nÄ± kaybetmesin
    }

    function renderAlgoBuilder() {
      return `
        ${renderNavbar()}
        <div class="h-[calc(100vh-4rem)] flex overflow-hidden">
          <!-- Sol Panel: Åekiller -->
          <div class="w-64 bg-slate-800 border-r border-slate-700 p-6 space-y-6 overflow-y-auto">
            <h2 class="text-xl font-bold text-white mb-4">Åekiller</h2>
            <div class="space-y-4">
              <button onclick="addAlgoNode('start')" class="w-full p-4 bg-gradient-to-r from-green-500 to-green-600 rounded-full text-xs font-bold hover:scale-105 transition-all shadow-lg">BAÅLAT</button>
              <button onclick="addAlgoNode('process')" class="w-full p-4 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-xs font-bold hover:scale-105 transition-all shadow-lg">Ä°ÅLEM / ATAMA</button>
              <button onclick="addAlgoNode('decision')" class="w-full p-4 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl text-xs font-bold hover:scale-105 transition-all shadow-lg">KARAR (IF)</button>
              <button onclick="addAlgoNode('switch')" class="w-full p-4 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg border-2 border-dashed text-xs font-bold hover:scale-105 transition-all shadow-lg">SWITCH - CASE</button>
              <button onclick="addAlgoNode('input')" class="w-full p-4 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg skew-x-12 text-xs font-bold hover:scale-105 transition-all shadow-lg">VERÄ° GÄ°RÄ°ÅÄ°</button>
              <button onclick="addAlgoNode('output')" class="w-full p-4 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg skew-x-12 text-xs font-bold hover:scale-105 transition-all shadow-lg">VERÄ° Ã‡IKIÅI</button>
              <button onclick="addAlgoNode('end')" class="w-full p-4 bg-gradient-to-r from-red-500 to-red-600 rounded-full text-xs font-bold hover:scale-105 transition-all shadow-lg">DURDUR / BÄ°TÄ°R</button>
            </div>
            
            <div class="pt-8 border-t border-slate-700">
              <h3 class="text-sm font-bold text-slate-400 mb-4 uppercase tracking-wider">BaÄŸlantÄ±lar</h3>
              <div class="space-y-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar">
                ${appState.flowchartConnections.length === 0 ? '<p class="text-xs text-slate-500 italic">HenÃ¼z baÄŸlantÄ± yok</p>' : ''}
                ${appState.flowchartConnections.map(conn => {
                  const from = appState.flowchartNodes.find(n => n.id === conn.from);
                  const to = appState.flowchartNodes.find(n => n.id === conn.to);
                  return `
                    <div class="flex items-center justify-between bg-slate-700/50 p-2 rounded text-[10px] text-slate-300 group">
                      <span class="truncate w-32">${from?.text || '...'} â†’ ${to?.text || '...'}</span>
                      <button onclick="removeAlgoConnection(${conn.id})" class="text-red-400 opacity-0 group-hover:opacity-100 transition-opacity">âœ•</button>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>

            <div class="pt-8 border-t border-slate-700">
              <h3 class="text-sm font-bold text-slate-400 mb-4 uppercase tracking-wider">YardÄ±m</h3>
              <ul class="text-xs text-slate-500 space-y-2">
                <li>â€¢ Åekilleri sÃ¼rÃ¼kleyerek yerlerini deÄŸiÅŸtirebilirsiniz.</li>
                <li>â€¢ Ãœzerlerine tÄ±klayarak metni gÃ¼ncelleyebilirsiniz.</li>
                <li>â€¢ SaÄŸ Ã¼stteki 'X' ile silebilirsiniz.</li>
              </ul>
            </div>
          </div>

          <!-- Ana Panel: Ã‡alÄ±ÅŸma AlanÄ± -->
          <div class="flex-1 bg-slate-900 relative overflow-hidden" id="algoCanvas" 
               onmousemove="if(appState.algoDraggingNode) { 
                 const node = appState.flowchartNodes.find(n => n.id === appState.algoDraggingNode);
                 if(node) {
                   node.x = event.clientX - 320; 
                   node.y = event.clientY - 100;
                   const el = document.getElementById('node-' + node.id);
                   if(el) { el.style.left = node.x + 'px'; el.style.top = node.y + 'px'; }
                   // BaÄŸlantÄ±larÄ± gÃ¼ncelle
                   renderConnectionsSVG();
                 }
               }"
               onmouseup="appState.algoDraggingNode = null;">
            
            <!-- Izgara ArkaplanÄ± -->
            <div class="absolute inset-0 opacity-10 pointer-events-none" 
                 style="background-image: radial-gradient(#64748b 1px, transparent 1px); background-size: 30px 30px;"></div>
            
            <!-- SVG BaÄŸlantÄ± KatmanÄ± -->
            <svg id="algoSVG" class="absolute inset-0 w-full h-full pointer-events-none" style="z-index: 10;">
              <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                  <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
                </marker>
              </defs>
              <g id="connectionsGroup"></g>
            </svg>

            <div class="absolute top-6 left-6 z-10">
              <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">Algoritma TasarÄ±mcÄ±sÄ±</h1>
              <p class="text-slate-500 text-sm">MantÄ±ksal adÄ±mlarÄ±nÄ±zÄ± gÃ¶rselleÅŸtirin</p>
            </div>

            <div class="absolute top-6 right-6 z-10 flex space-x-3">
              <button onclick="appState.flowchartNodes = []; appState.flowchartConnections = []; renderApp();" class="px-4 py-2 bg-slate-800 text-slate-300 rounded-lg text-sm border border-slate-700 hover:bg-slate-700 transition-all">Temizle</button>
              <button onclick="window.print()" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all">Kaydet / YazdÄ±r</button>
            </div>

            <!-- DÃ¼ÄŸÃ¼mler -->
            ${appState.flowchartNodes.map(node => {
              const isConnecting = appState.algoConnectingFrom === node.id;
              return `
              <div 
                id="node-${node.id}"
                class="absolute cursor-move group transition-shadow hover:shadow-2xl"
                style="left: ${node.x}px; top: ${node.y}px; z-index: 20;"
                onmousedown="appState.algoDraggingNode = ${node.id}; event.stopPropagation();"
              >
                <!-- BaÄŸlantÄ± NoktalarÄ± -->
                <!-- Ãœst Nokta: Buraya BaÄŸla (Hedef) -->
                <div 
                  onclick="event.stopPropagation(); endAlgoConnection(${node.id})"
                  class="absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-700 border-2 border-slate-600 rounded-full cursor-crosshair hover:bg-green-500 hover:border-green-400 transition-all z-30 flex items-center justify-center"
                  title="Buraya BaÄŸla"
                >
                  <div class="w-1 h-1 bg-white rounded-full"></div>
                </div>

                <!-- Alt Nokta: BaÄŸlantÄ± BaÅŸlat (Kaynak) -->
                <div 
                  onclick="event.stopPropagation(); startAlgoConnection(${node.id})"
                  class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-700 border-2 border-slate-600 rounded-full cursor-crosshair hover:bg-blue-500 hover:border-blue-400 transition-all z-30 flex items-center justify-center ${isConnecting ? 'bg-blue-500 border-blue-400 animate-pulse' : ''}"
                  title="BaÄŸlantÄ± BaÅŸlat"
                >
                  <div class="w-1 h-1 bg-white rounded-full"></div>
                </div>

                <div class="relative w-40 h-16 flex items-center justify-center">
                  <div class="absolute inset-0 bg-gradient-to-br ${node.color} ${node.shape} shadow-xl border border-white/20"></div>
                  
                  <!-- Metin AlanÄ± -->
                  <input 
                    type="text" 
                    value="${node.text}" 
                    oninput="updateAlgoNodeText(${node.id}, this.value)"
                    class="relative z-10 w-32 bg-transparent text-center text-white font-bold text-xs focus:outline-none placeholder-white/50"
                    placeholder="AdÄ±m yaz..."
                    onmousedown="event.stopPropagation();"
                  />

                  <!-- Silme Butonu -->
                  <button 
                    onclick="removeAlgoNode(${node.id})"
                    class="absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20"
                  >âœ•</button>
                </div>
              </div>
            `}).join('')}
          </div>
        </div>
      `;
    }

    function renderConnectionsSVG() {
      const g = document.getElementById('connectionsGroup');
      if (!g) return;
      
      let html = '';
      appState.flowchartConnections.forEach(conn => {
        const fromNode = appState.flowchartNodes.find(n => n.id === conn.from);
        const toNode = appState.flowchartNodes.find(n => n.id === conn.to);
        
        if (fromNode && toNode) {
          const x1 = fromNode.x + 80; // 160/2
          const y1 = fromNode.y + 64; // Alt nokta
          const x2 = toNode.x + 80;
          const y2 = toNode.y;       // Ãœst nokta
          
          // YumuÅŸak kavisli Ã§izgi (BÃ©zier)
          const midY = (y1 + y2) / 2;
          const path = `M ${x1} ${y1} C ${x1} ${midY}, ${x2} ${midY}, ${x2} ${y2}`;
          
          html += `
            <g class="connection-group" onclick="event.stopPropagation();">
              <path d="${path}" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)" class="hover:stroke-red-500 transition-colors cursor-pointer" onclick="removeAlgoConnection(${conn.id})" />
            </g>
          `;
        }
      });
      g.innerHTML = html;
    }

    // ==================== RENDER FUNCTIONS ====================
    function renderNavbar() {
      return `
        <nav class="sticky top-0 z-50 backdrop-blur-sm bg-slate-800 bg-opacity-90 border-b border-slate-700">
          <div class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
              <!-- Sol: Logo ve Ä°sim -->
              <div class="flex items-center space-x-2 cursor-pointer flex-shrink-0" onclick="navigateTo('home')">
                <img src="images/logo.png" alt="ArduMind" class="w-9 h-9 rounded-xl object-contain shadow-md" />
                <span class="text-xl font-bold tracking-tight">ArduMind</span>
              </div>

              <!-- Orta: Navigasyon Sekmeleri -->
              <div class="hidden xl:flex flex-1 justify-center items-center px-4">
                <div class="flex items-center space-x-5 text-sm font-medium">
                  <a href="#" onclick="navigateTo('home')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'home' ? 'text-blue-400' : ''}">KeÅŸfet</a>
                  <a href="#" onclick="navigateTo('components')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'components' ? 'text-blue-400' : ''}">Elemanlar</a>
                  <a href="#" onclick="navigateTo('docs')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'docs' ? 'text-blue-400' : ''}">DokÃ¼mantasyon</a>
                  <a href="#" onclick="navigateTo('videos')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'videos' ? 'text-blue-400' : ''}">Videolar</a>
                  <a href="#" onclick="navigateTo('algo-builder')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'algo-builder' ? 'text-blue-400' : ''}">Algoritma</a>
                  <a href="#" onclick="navigateTo('path')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'path' ? 'text-blue-400' : ''}">Ã–ÄŸrenme Yolu</a>
                  <a href="#" onclick="navigateTo('arduino')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'arduino' ? 'text-blue-400' : ''}">Arduino</a>
                  <a href="#" onclick="navigateTo('quiz')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'quiz' ? 'text-blue-400' : ''}">Testler</a>
                  <a href="#" onclick="navigateTo('about')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'about' ? 'text-blue-400' : ''}">HakkÄ±nda</a>
                  ${appState.currentUser ? `
                    <a href="#" onclick="navigateTo('dashboard')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'dashboard' ? 'text-blue-400' : ''}">EÄŸitimim</a>
                    <a href="#" onclick="navigateTo('editor')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'editor' ? 'text-blue-400' : ''}">EditÃ¶r</a>
                  ` : ''}
                </div>
              </div>

              <!-- SaÄŸ: Profil ve Ã‡Ä±kÄ±ÅŸ -->
              <div class="flex items-center space-x-4 flex-shrink-0">
                ${appState.currentUser ? `
                  <button onclick="navigateTo('profile')" class="flex items-center space-x-2 text-slate-200 hover:text-white transition-colors">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-bold shadow-lg">
                      ${appState.currentUser.name.charAt(0).toUpperCase()}
                    </div>
                    <span class="text-sm font-semibold hidden sm:inline">${appState.currentUser.name.split(' ')[0]}</span>
                  </button>
                  <button onclick="logout()" class="px-4 py-1.5 rounded-lg font-bold bg-slate-700/50 border border-slate-600/50 text-slate-300 hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/50 transition-all text-xs">
                    Ã‡Ä±kÄ±ÅŸ
                  </button>
                ` : `
                  <button onclick="appState.showAuthModal = true; appState.authMode = 'login'; renderApp();" class="px-5 py-2 rounded-full font-bold bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 hover:shadow-xl transition-all text-sm">
                    GiriÅŸ Yap
                  </button>
                `}
              </div>
            </div>
          </div>
        </nav>
      `;
    }

    function renderIntro() {
      return `
        <div class="fixed inset-0 z-[60] flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-950 to-blue-900 overflow-hidden">
          <div class="absolute inset-0 opacity-40 bg-[radial-gradient(circle_at_top,_#22d3ee_0,_transparent_55%),radial-gradient(circle_at_bottom,_#3b82f6_0,_transparent_55%)] animate-[introBackground_1.2s_ease-out_forwards]"></div>
          <div class="relative z-10 text-center px-6 max-w-xl animate-[introZoom_0.9s_ease-out_forwards]">
            <div class="inline-flex items-center justify-center mb-6">
              <div class="w-16 h-16 rounded-2xl bg-slate-900 bg-opacity-70 flex items-center justify-center border border-blue-500 border-opacity-40 shadow-xl mr-3">
                <img src="images/logo.png" alt="ArduMind" class="w-12 h-12 object-contain" />
              </div>
              <div class="text-left">
                <div class="text-sm uppercase tracking-[0.35em] text-slate-400">Arduino Studio</div>
                <div class="text-3xl font-extrabold tracking-tight">ArduMind</div>
              </div>
            </div>
            <p class="text-slate-300 text-lg mb-6">Arduino kodunu sadece yazmak deÄŸil, hissetmek iÃ§in sinematik bir Ã¶ÄŸrenme deneyimi.</p>
            <button onclick="appState.showIntro = false; renderApp();" class="px-10 py-3 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold tracking-wide shadow-2xl shadow-blue-500/40 transition transform hover:scale-105">BaÅŸla</button>
          </div>
        </div>
      `;
    }

    function renderVideos() {
      const topics = Array.from(new Set(videoLessons.map(v => v.topic)));
      const list = appState.currentVideoFilter ? videoLessons.filter(v => v.topic === appState.currentVideoFilter) : videoLessons;
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Videolu EÄŸitim</h1>
            <p class="text-slate-400">Konulara gÃ¶re seÃ§ilmiÅŸ video dersler</p>
          </div>
          
          <div class="flex flex-wrap gap-2 mb-6">
            <button onclick="appState.currentVideoFilter=''; renderApp();" class="px-4 py-2 rounded-full text-sm ${appState.currentVideoFilter === '' ? 'bg-blue-600 text-white' : 'bg-slate-700 text-slate-200'}">TÃ¼mÃ¼</button>
            ${topics.map(t => `
              <button onclick="appState.currentVideoFilter='${t}'; renderApp();" class="px-4 py-2 rounded-full text-sm ${appState.currentVideoFilter === t ? 'bg-blue-600 text-white' : 'bg-slate-700 text-slate-200'}">${t}</button>
            `).join('')}
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            ${list.map(v => `
              <div class="bg-slate-800 rounded-2xl overflow-hidden hover:scale-105 transition-all">
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 h-32 flex items-center justify-center">
                  <svg class="w-12 h-12 text-white" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
                <div class="p-6">
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="font-bold">${v.title}</h3>
                    <span class="text-xs bg-slate-700 px-2 py-1 rounded">${v.duration}</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-slate-400 text-sm">${v.topic}</span>
                    <a href="${v.url}" target="_blank" rel="noopener" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700">Ä°zle</a>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderLearningPath() {
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div class="text-center mb-16">
            <h1 class="text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">
              Ã–ÄŸrenme YolculuÄŸu
            </h1>
            <p class="text-xl text-slate-400 max-w-2xl mx-auto">
              SÄ±fÄ±rdan baÅŸlayarak uzmanlÄ±ÄŸa giden yolda adÄ±m adÄ±m ilerle. Her adÄ±mda teori, uygulama ve gÃ¶rsel destek seni bekliyor.
            </p>
          </div>
          
          <div class="relative">
            <!-- Central Line -->
            <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-blue-500 via-purple-500 to-blue-500 rounded-full opacity-20 hidden md:block"></div>
            
            <div class="space-y-12 md:space-y-24">
              ${learningPath.map((step, index) => {
                const isEven = index % 2 === 0;
                const v = videoLessons.find(v => v.id === step.videoId);
                
                return `
                  <div class="relative flex flex-col md:flex-row items-center ${isEven ? 'md:flex-row-reverse' : ''}">
                    <!-- Step Indicator -->
                    <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-slate-900 border-4 border-blue-500 flex items-center justify-center font-bold text-xl z-10 shadow-[0_0_20px_rgba(59,130,246,0.5)] hidden md:flex">
                      ${index + 1}
                    </div>
                    
                    <!-- Content Card -->
                    <div class="w-full md:w-5/12 group">
                      <div class="bg-slate-800 rounded-3xl p-8 shadow-2xl border border-slate-700 hover:border-blue-500/50 transition-all duration-500 hover:scale-[1.02]">
                        <div class="flex items-center space-x-4 mb-4">
                          <div class="md:hidden w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center font-bold text-lg">
                            ${index + 1}
                          </div>
                          <h3 class="text-2xl font-bold text-white group-hover:text-blue-400 transition-colors">${step.title}</h3>
                        </div>
                        
                        <p class="text-slate-400 mb-6 leading-relaxed">
                          ${step.description}
                        </p>
                        
                        <div class="grid grid-cols-1 gap-4 mb-8">
                          <!-- Algorithm Box -->
                          <div class="bg-slate-900/50 rounded-2xl p-4 border border-slate-700/50">
                            <div class="flex items-center space-x-2 mb-2 text-blue-400">
                              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                              </svg>
                              <span class="text-xs font-bold uppercase tracking-wider">Algoritma MantÄ±ÄŸÄ±</span>
                            </div>
                            <div class="text-sm text-slate-300 font-mono bg-slate-950 p-3 rounded-xl border border-slate-800">
                              ${step.algorithm}
                            </div>
                          </div>
                          
                          <!-- Circuit Box -->
                          <div class="bg-slate-900/50 rounded-2xl p-4 border border-slate-700/50">
                            <div class="flex items-center space-x-2 mb-2 text-purple-400">
                              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                              </svg>
                              <span class="text-xs font-bold uppercase tracking-wider">Devre ÅemasÄ± (Proteus)</span>
                            </div>
                            <div class="text-sm text-slate-300 italic">
                              ${step.circuit}
                            </div>
                          </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-3">
                          <button onclick="appState.currentDocSection='${step.docKey}'; navigateTo('docs');" 
                            class="flex-1 px-4 py-2.5 bg-slate-700 hover:bg-slate-600 rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2">
                            <span>Ders NotlarÄ±</span>
                          </button>
                          ${v ? `
                            <a href="${v.url}" target="_blank" rel="noopener" 
                              class="flex-1 px-4 py-2.5 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 border border-blue-500/30 rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2">
                              <span>Video Ä°zle</span>
                            </a>
                          ` : ''}
                          ${step.quizId ? `
                            <button onclick="appState.currentQuizId='${step.quizId}'; navigateTo('quiz');" 
                              class="w-full px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2 shadow-lg shadow-emerald-900/20">
                              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                              </svg>
                              <span>Bilgi Testini Ã‡Ã¶z</span>
                            </button>
                          ` : ''}
                        </div>
                      </div>
                    </div>
                    
                    <!-- Spacer for Desktop -->
                    <div class="hidden md:block md:w-2/12"></div>
                    <div class="hidden md:block md:w-5/12"></div>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
          
          <!-- Final Step -->
          <div class="mt-24 text-center">
            <div class="inline-block p-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 mb-6">
              <div class="px-8 py-3 rounded-full bg-slate-900 text-xl font-bold">
                Tebrikler!
              </div>
            </div>
            <h2 class="text-3xl font-bold mb-4">Temel Seviyeyi TamamladÄ±n</h2>
            <p class="text-slate-400 mb-8">ArtÄ±k kendi projelerini Ã¼retmeye hazÄ±rsÄ±n. EditÃ¶re gidip hayallerini kodla!</p>
            <button onclick="navigateTo('editor')" class="px-10 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-bold shadow-xl shadow-blue-500/20 transition-all hover:scale-105">
              Kod EditÃ¶rÃ¼ne Git
            </button>
          </div>
        </div>
      `;
    }

    function renderHomePage() {
      return `
        ${renderNavbar()}
        
        <section class="relative overflow-hidden py-20">
          <div class="absolute inset-0 opacity-10">
            <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
              <defs>
                <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#1E3A8A;stop-opacity:1" />
                </linearGradient>
              </defs>
              <circle cx="10" cy="10" r="30" fill="url(#grad)"/>
              <circle cx="90" cy="90" r="40" fill="url(#grad)"/>
            </svg>
          </div>
          
          <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-8">
              <svg class="w-20 h-20 mx-auto text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
              </svg>
            </div>
            
            <h1 class="text-5xl font-bold mb-6 leading-tight">Arduino'yu ezberleyerek deÄŸil, anlayarak Ã¶ÄŸren.</h1>
            <p class="text-xl mb-8 max-w-3xl mx-auto text-slate-300">Yapay zeka destekli, kiÅŸiye Ã¶zel Ã¶ÄŸrenme ve hata analizi sistemi</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
              <button onclick="handleStart()" class="px-8 py-4 rounded-full font-semibold bg-blue-500 text-white hover:bg-blue-600 hover:scale-105 hover:shadow-xl transition-all w-full sm:w-auto">
                ${appState.currentUser ? 'Ã–ÄŸrenmeye Devam Et' : 'Ãœcretsiz BaÅŸla'}
              </button>
              <button onclick="navigateTo('docs')" class="px-8 py-4 rounded-full font-semibold bg-slate-800 text-slate-100 border-2 border-blue-500 hover:scale-105 transition-all w-full sm:w-auto">
                DokÃ¼mantasyon
              </button>
            </div>
          </div>
        </section>

        <section class="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">KiÅŸiye Ã–zel Ã–ÄŸrenme</h3>
              <p class="text-slate-300 leading-relaxed">Yapay zeka senin Ã¶ÄŸrenme hÄ±zÄ±na gÃ¶re yol haritasÄ± oluÅŸturur</p>
            </div>
            
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">AkÄ±llÄ± Hata Analizi</h3>
              <p class="text-slate-300 leading-relaxed">HatalarÄ±nÄ± analiz eder ve anlaÅŸÄ±lÄ±r dille aÃ§Ä±klar</p>
            </div>
            
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">Proje TabanlÄ± EÄŸitim</h3>
              <p class="text-slate-300 leading-relaxed">GerÃ§ek projeler yaparak Arduino'yu Ã¶ÄŸren</p>
            </div>
          </div>
        </section>
        
        <section class="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="bg-gradient-to-r from-blue-500 to-blue-900 rounded-3xl p-12 text-center">
            <h2 class="text-4xl font-bold mb-4 text-white">Arduino serÃ¼venine baÅŸlamaya hazÄ±r mÄ±sÄ±n?</h2>
            <p class="text-xl mb-8 text-white opacity-90">Binlerce Ã¶ÄŸrenci gibi sen de bugÃ¼n baÅŸla, yapay zeka rehberliÄŸinde Ã¶ÄŸren.</p>
            <button onclick="handleStart()" class="px-8 py-4 rounded-full font-semibold bg-white text-blue-600 hover:scale-105 hover:shadow-xl transition-all">
              Hemen Ãœcretsiz BaÅŸla
            </button>
          </div>
        </section>
      `;
    }

    function renderDashboard() {
      if (!appState.currentUser) {
        navigateTo('home');
        return '';
      }

      const weeklyProgress = getWeeklyProgress();
      const days = ['Pzt', 'Sal', 'Ã‡ar', 'Per', 'Cum', 'Cmt', 'Paz'];
      const maxXP = Math.max(...weeklyProgress, 1);

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 fade-in">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">HoÅŸ geldin, ${appState.currentUser.name.split(' ')[0]}!</h1>
            <p class="text-slate-400">Arduino yolculuÄŸuna devam etmeye hazÄ±r mÄ±sÄ±n?</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl p-6">
              <div class="text-3xl font-bold text-white">${appState.currentUser.xp || 0}</div>
              <div class="text-blue-100 text-xs mt-1">Toplam XP</div>
            </div>
            <div class="bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl p-6">
              <div class="text-3xl font-bold text-white">${appState.currentUser.completedModules.length}</div>
              <div class="text-purple-100 text-xs mt-1">${modules.length} modÃ¼lden</div>
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-6">
              <div class="bg-slate-800 rounded-2xl p-6">
                <h2 class="text-2xl font-bold mb-4">Ã–ÄŸrenmeye Devam Et</h2>
                <div class="space-y-4">
                  ${modules.map(module => {
                    const progress = getModuleProgress(module.id);
                    const isCompleted = progress === 100;
                    return `
                      <div onclick="handleModuleClick('${module.id}', ${isCompleted})" class="bg-slate-700 rounded-xl p-4 hover:bg-slate-600 transition-all ${isCompleted ? 'opacity-60' : 'cursor-pointer'}">
                        <div class="flex items-center justify-between mb-3">
                          <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-lg bg-gradient-to-br ${module.color} flex items-center justify-center text-2xl">
                              ${module.icon}
                            </div>
                            <div>
                              <h3 class="font-semibold">${module.title}</h3>
                              <p class="text-sm text-slate-400">${module.description}</p>
                            </div>
                          </div>
                          ${isCompleted ? '<span class="px-3 py-1 bg-green-500 text-white text-xs rounded-full font-medium">TamamlandÄ±</span>' : `<span class="text-blue-400 text-sm font-medium">%${progress}</span>`}
                        </div>
                        <div class="w-full bg-slate-600 rounded-full h-2">
                          <div class="bg-gradient-to-r ${module.color} h-2 rounded-full transition-all" style="width: 0%; /* dynamic width */"></div>
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>
                <button onclick="navigateTo('editor')" class="w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-4 rounded-xl font-semibold transition-all">Kod EditÃ¶rÃ¼'nÃ¼ AÃ§</button>
              </div>

              <div class="bg-slate-800 rounded-2xl p-6">
                <h2 class="text-2xl font-bold mb-4">HaftalÄ±k Ä°lerleme</h2>
                <div class="flex items-end justify-between h-48 space-x-2">
                  ${weeklyProgress.map((xp, index) => {
                    const height = (xp / maxXP) * 100;
                    return `
                      <div class="flex-1 flex flex-col items-center space-y-2">
                        <div class="w-full bg-slate-700 rounded-t-lg relative flex items-end justify-center" style="height: 0%; /* dynamic height */ min-height: 0%; /* dynamic min-height */">
                          <div class="absolute inset-0 bg-gradient-to-t from-blue-500 to-purple-500 rounded-t-lg"></div>
                          ${xp > 0 ? `<span class="relative text-xs font-bold text-white mb-1">${xp}</span>` : ''}
                        </div>
                        <span class="text-xs text-slate-400">${days[index]}</span>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            </div>

            <div class="space-y-6">
              <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-6">
                <div class="text-center mb-4">
                  <div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-3xl font-bold mx-auto mb-3">
                    ${appState.currentUser.name.charAt(0).toUpperCase()}
                  </div>
                  <h3 class="font-bold text-lg">${appState.currentUser.name}</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderModuleDetail() {
      const module = modules.find(m => m.id === appState.currentModuleView);
      if (!module) {
        appState.currentModuleView = null;
        return renderDashboard();
      }

      const isCompleted = appState.currentUser.completedModules.some(m => m.moduleId === module.id);

      return `
        ${renderNavbar()}
        
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <button onclick="appState.currentModuleView = null; renderApp();" class="flex items-center space-x-2 text-slate-400 hover:text-white mb-6 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>Geri DÃ¶n</span>
          </button>

          <div class="bg-slate-800 rounded-2xl p-8">
            <div class="flex items-center space-x-4 mb-6">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br ${module.color} flex items-center justify-center text-3xl">
                ${module.icon}
              </div>
              <div class="flex-1">
                <h1 class="text-3xl font-bold mb-2">${module.title}</h1>
                <p class="text-slate-400">${module.description}</p>
              </div>
            </div>

            <div class="space-y-4 mb-8">
              <h2 class="text-xl font-bold mb-4">Dersler</h2>
              ${module.lessons.map((lesson, index) => `
                <div class="bg-slate-700 rounded-xl p-4 flex items-center space-x-4">
                  <div class="w-10 h-10 rounded-lg bg-gradient-to-br ${module.color} flex items-center justify-center font-bold flex-shrink-0">
                    ${index + 1}
                  </div>
                  <div class="flex-1">
                    <h3 class="font-semibold">${lesson.title}</h3>
                    <p class="text-sm text-slate-400">${lesson.duration}</p>
                  </div>
                </div>
              `).join('')}
            </div>

            ${!isCompleted ? `
              <button onclick="completeModule('${module.id}')" class="w-full bg-gradient-to-r ${module.color} text-white py-4 rounded-xl font-bold hover:scale-105 transition-all">
                ModÃ¼lÃ¼ Tamamla ve ${module.xpReward} XP Kazan
              </button>
            ` : `
              <div class="bg-green-500 bg-opacity-20 border-2 border-green-500 rounded-xl p-6 text-center">
                <h3 class="text-xl font-bold mb-2">Tebrikler!</h3>
                <p class="text-slate-300">Bu modÃ¼lÃ¼ tamamladÄ±n!</p>
              </div>
            `}
          </div>
        </div>
      `;
    }

    function renderEditor() {
      return `
        ${renderNavbar()}
        
        <div class="h-[calc(100vh-4rem)] flex">
          <div class="w-1/2 border-r border-slate-700 flex flex-col">
            <div class="bg-slate-800 border-b border-slate-700 px-4 py-3 flex items-center justify-between">
              <h2 class="font-bold">Kod EditÃ¶rÃ¼</h2>
              <div class="flex items-center space-x-2">
                <select onchange="loadExample(this.value); this.value='';" class="bg-slate-700 text-sm px-3 py-1 rounded-lg border border-slate-600">
                  <option value="">Ã–rnek YÃ¼kle</option>
                  ${Object.entries(codeExamples).map(([key, ex]) => `<option value="${key}">${ex.name}</option>`).join('')}
                </select>
                <button onclick="runSimulation()" class="px-4 py-1 rounded-lg font-medium ${appState.simulationRunning ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'} text-white transition-all text-sm">
                  ${appState.simulationRunning ? 'Durdur' : 'Ã‡alÄ±ÅŸtÄ±r'}
                </button>
                <button onclick="saveEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">Kaydet</button>
                <button onclick="loadSavedEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">YÃ¼kle</button>
                <button onclick="copyEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">Kopyala</button>
                <button onclick="toggleEditorWrap()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">${appState.editorWrap ? 'SatÄ±r KÄ±rmayÄ± Kapat' : 'SatÄ±r KÄ±rmayÄ± AÃ§'}</button>
              </div>
            </div>
            <div class="flex-1 overflow-hidden bg-slate-900">
              <div id="editorContainer" class="w-full h-full"></div>
            </div>
          </div>

          <div class="w-1/2 flex flex-col">
            <div class="h-[60%] bg-slate-800 p-6 overflow-auto">
              <div class="flex items-center justify-between mb-4">
                <h3 class="font-bold">Arduino SimÃ¼lasyonu</h3>
                <button onclick="resetSimulation()" class="px-3 py-1 rounded-lg bg-slate-700 hover:bg-slate-600 text-xs transition-all border border-slate-600">SÄ±fÄ±rla</button>
              </div>
              
              <div class="bg-gradient-to-br from-blue-900 to-blue-700 rounded-xl p-6 mb-6">
                <div class="text-center mb-4">
                  <div class="inline-block bg-slate-800 px-4 py-2 rounded-lg">
                    <span class="font-bold text-blue-400">Arduino UNO</span>
                  </div>
                </div>

                <div id="arduinoBoard"></div>
              </div>
            </div>

            <div class="h-[40%] border-t border-slate-700 bg-slate-900 flex flex-col">
              <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 flex items-center justify-between">
                <span class="font-bold text-sm text-slate-400 uppercase tracking-wider">Seri MonitÃ¶r</span>
                <button onclick="clearSerial()" class="text-xs text-blue-400 hover:text-blue-300">Temizle</button>
              </div>
              <div id="serialMonitor" class="flex-1 overflow-auto p-4 font-mono text-sm">
                ${appState.serialOutput.length === 0 ? `<div class="text-slate-500 text-center py-8">Kodu Ã§alÄ±ÅŸtÄ±rÄ±n...</div>` : appState.serialOutput.map(output => `<div class="mb-1 ${output.type === 'error' ? 'text-red-400' : output.type === 'info' ? 'text-blue-400' : 'text-green-400'}">${output.text}</div>`).join('')}
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderAuthModal() {
      return `
        <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onclick="if(event.target === this) { appState.showAuthModal = false; renderApp(); }">
          <div class="bg-slate-800 rounded-2xl p-8 max-w-md w-full" onclick="event.stopPropagation()">
            <div class="text-center mb-6">
              <h2 class="text-2xl font-bold mb-2">${appState.authMode === 'login' ? 'GiriÅŸ Yap' : 'KayÄ±t Ol'}</h2>
              <p class="text-slate-400">${appState.authMode === 'login' ? 'Arduino serÃ¼venine devam et' : 'Yeni bir serÃ¼vene baÅŸla'}</p>
            </div>

            <form onsubmit="handleAuthSubmit(event, this)" class="space-y-4">
              ${appState.authMode === 'register' ? `
                <div>
                  <label class="block text-sm font-medium mb-2">Ä°sim Soyisim</label>
                  <input type="text" name="name" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              ` : ''}

              <div>
                <label class="block text-sm font-medium mb-2">E-posta</label>
                <input type="email" name="email" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>

              <div>
                <label class="block text-sm font-medium mb-2">Åifre</label>
                <input type="password" name="password" required minlength="6" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>

              ${appState.authMode === 'register' ? `
                <div>
                  <label class="block text-sm font-medium mb-2">Seviyem</label>
                  <select name="level" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="beginner">BaÅŸlangÄ±Ã§ - HiÃ§ bilgim yok</option>
                    <option value="basic">Temel - Biraz bilgim var</option>
                    <option value="intermediate">Orta - Proje yapabilirim</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Hedefim</label>
                  <select name="goal" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="learn">Arduino Ã¶ÄŸrenmek</option>
                    <option value="project">Proje yapmak</option>
                  </select>
                </div>
              ` : ''}

              <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-bold transition-all">
                ${appState.authMode === 'login' ? 'GiriÅŸ Yap' : 'KayÄ±t Ol'}
              </button>
            </form>

            <div class="mt-6 text-center">
              <button onclick="appState.authMode = appState.authMode === 'login' ? 'register' : 'login'; renderApp();" class="text-blue-400 hover:text-blue-300 text-sm">
                ${appState.authMode === 'login' ? 'HesabÄ±n yok mu? KayÄ±t ol' : 'Zaten hesabÄ±n var mÄ±? GiriÅŸ yap'}
              </button>
            </div>
          </div>
        </div>
      `;
    }

    function renderDocumentation() {
      const sections = Object.entries(documentation);
      const currentSection = documentation[appState.currentDocSection];
      
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino DokÃ¼mantasyon</h1>
            <p class="text-slate-400">Arduino yazÄ±lÄ±m dilini Ã¶rneklerle Ã¶ÄŸrenin</p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1">
              <div class="bg-slate-800 rounded-2xl p-4 sticky top-24">
                <h3 class="text-sm font-bold text-slate-400 uppercase mb-3">Kategoriler</h3>
                <div class="space-y-2">
                  ${sections.map(([key, section]) => `
                    <button 
                      onclick="appState.currentDocSection = '${key}'; renderApp();"
                      class="w-full text-left px-4 py-3 rounded-xl transition-all ${
                        appState.currentDocSection === key 
                          ? `bg-gradient-to-r ${section.color} text-white shadow-lg` 
                          : 'bg-slate-700 hover:bg-slate-600 text-slate-300'
                      }"
                    >
                      <div class="flex items-center space-x-3">
                        <span class="text-2xl">${section.icon}</span>
                        <span class="font-medium text-sm">${section.title}</span>
                      </div>
                    </button>
                  `).join('')}
                </div>
              </div>
            </div>

            <div class="lg:col-span-3">
              <div class="bg-slate-800 rounded-2xl p-8">
                <div class="flex items-center space-x-4 mb-6">
                  <div class="w-16 h-16 rounded-2xl bg-gradient-to-br ${currentSection.color} flex items-center justify-center text-3xl">
                    ${currentSection.icon}
                  </div>
                  <div>
                    <h2 class="text-3xl font-bold">${currentSection.title}</h2>
                    <p class="text-slate-400">${currentSection.topics.length} konu</p>
                  </div>
                </div>

                <div class="space-y-4">
                  ${currentSection.topics.map((topic, index) => {
                    const topicKey = `${appState.currentDocSection}-${index}`;
                    const isCollapsed = appState.collapsedTopics[topicKey] || false;
                    return `
                    <div class="border border-slate-700 rounded-xl overflow-hidden transition-all">
                      <button onclick="toggleTopic('${topicKey}')" class="w-full flex items-center justify-between p-6 text-left bg-slate-800 hover:bg-slate-750 transition-all">
                        <div class="flex items-center space-x-4">
                          <div class="w-10 h-10 rounded-lg bg-gradient-to-br ${currentSection.color} flex items-center justify-center text-white font-bold flex-shrink-0">
                            ${index + 1}
                          </div>
                          <div class="flex-1">
                            <h3 class="text-2xl font-bold">${topic.title}</h3>
                            <p class="text-slate-400 mt-1">${topic.description}</p>
                          </div>
                        </div>
                        <div class="text-2xl text-slate-400 transition-transform duration-300 ${isCollapsed ? 'rotate-0' : 'rotate-180'}">
                          â–¼
                        </div>
                      </button>
                      
                      <div class="ml-14 p-6 text-slate-300 leading-relaxed overflow-hidden transition-all duration-300 ${isCollapsed ? 'max-h-0 opacity-0' : 'max-h-96 opacity-100'}">
                        ${topic.content}
                      </div>
                    </div>
                  `;
                  }).join('')}
                </div>

                ${appState.currentUser ? `
                  <div class="mt-8 bg-gradient-to-r ${currentSection.color} bg-opacity-20 border-2 border-opacity-50 rounded-xl p-6">
                    <div class="flex items-center justify-between">
                      <div>
                        <h4 class="font-bold text-lg mb-1">Ã–ÄŸrendiklerini Dene!</h4>
                        <p class="text-sm opacity-80">Kod editÃ¶rÃ¼nde bu konularÄ± uygulayabilirsin</p>
                      </div>
                      <button onclick="navigateTo('editor')" class="px-6 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg font-semibold transition-all flex items-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        <span>EditÃ¶re Git</span>
                      </button>
                    </div>
                  </div>
                ` : ''}
              </div>
            </div>
          </div>
        </div>
      `;
    }
    
    function renderComponents() {
      const components = [
        {
          id: 'breadboard',
          name: 'Breadboard',
          icon: '',
          color: 'from-gray-500 to-gray-700',
          description: 'Lehimsiz devre kurmayÄ± saÄŸlayan Ã§ok amaÃ§lÄ± devre tahtasÄ±',
          usage: 'Yanlardaki power rail (+/â€“) boyunca baÄŸlantÄ±lÄ±dÄ±r. Orta kÄ±sÄ±mda 5â€™li sÃ¼tunlar yatay olarak birbirine baÄŸlÄ±dÄ±r; bileÅŸenleri bu hat yapÄ±sÄ±na uygun yerleÅŸtirin.',
          tips: [
            'Ãœst/alt power rail (+/â€“) tÃ¼m uzunluk boyunca baÄŸlÄ±dÄ±r',
            'Orta ÅŸeritler 5 delikli gruplar halinde yatay baÄŸlÄ±dÄ±r',
            'Arduino\'dan 5V ve GND baÄŸlantÄ±larÄ±nÄ± power rail\'lere yapÄ±n'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'BreadBoardBÃ¼yÃ¼k.jpg', caption: 'Breadboard' }]
        },
        {
          id: 'led',
          name: 'LED (IÅŸÄ±k Yayan Diyot)',
          icon: '',
          color: 'from-yellow-500 to-orange-600',
          description: 'Elektrik akÄ±mÄ±yla Ä±ÅŸÄ±k yayan diyot; polarize elemandÄ±r',
          usage: 'Uzun bacak (+) anot, kÄ±sa bacak (â€“) katot. Ä°leri yÃ¶nde tipik ~2V dÃ¼ÅŸÃ¼m olur. 220â€“330Î© direnÃ§ ile kullanÄ±n.',
          tips: [
            'LED\'ler polarize elemanlardÄ±r - yÃ¶nÃ¼ Ã¶nemlidir',
            'Genellikle 220Î© veya 330Î© direnÃ§ ile kullanÄ±lÄ±r',
            'DoÄŸrudan gÃ¼Ã§ kaynaÄŸÄ±na baÄŸlamayÄ±n, yanar!'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'KÄ±rmÄ±zÄ±Led.jpg', caption: 'LED' }]
        },
        {
          id: 'resistor',
          name: 'DirenÃ§',
          icon: '',
          color: 'from-blue-500 to-cyan-600',
          description: 'AkÄ±mÄ± sÄ±nÄ±rlar; elemanlarÄ± korur; yÃ¶nsÃ¼zdÃ¼r',
          usage: 'Renk kodlarÄ± ile deÄŸeri okunur. GÃ¼Ã§ deÄŸeri (W) Ä±sÄ±nma dayanÄ±mÄ±nÄ± belirtir. LED ve sensÃ¶rleri korumak iÃ§in kullanÄ±lÄ±r.',
          tips: [
            'LED iÃ§in 220Î© (kÄ±rmÄ±zÄ±-kÄ±rmÄ±zÄ±-kahverengi) yaygÄ±n kullanÄ±lÄ±r',
            'Pull-up/down direnÃ§ler iÃ§in 10kÎ© kullanÄ±lÄ±r',
            'DirenÃ§lerin polaritesi yoktur - iki yÃ¶nde de Ã§alÄ±ÅŸÄ±r'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'DirenÃ§RenkKodlarÄ±Ä±.jpg', caption: 'DirenÃ§ Renk KodlarÄ±' }]
        },
        {
          id: 'button',
          name: 'Buton (Push Button)',
          icon: '',
          color: 'from-green-500 to-emerald-600',
          description: 'Devreyi tamamlayan/kesen mekanik anahtar; sÄ±klÄ±kla 4 bacaklÄ±',
          usage: 'Dijital giriÅŸ olarak kullanÄ±lÄ±r. KararlÄ± okuma iÃ§in pull-up/pull-down direnÃ§ ile baÄŸlayÄ±n ve yazÄ±lÄ±msal debounce uygulayÄ±n.',
          tips: [
            'Genellikle 4 bacaklÄ±dÄ±r - karÅŸÄ±lÄ±klÄ± bacaklar birbirine baÄŸlÄ±dÄ±r',
            '10kÎ© pull-down direnci ile GND\'ye baÄŸlanÄ±r',
            'digitalRead() ile butona basÄ±lÄ±p basÄ±lmadÄ±ÄŸÄ± okunur'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'Buton.jpg', caption: 'Buton' }]
        },
        {
          id: 'jumper',
          name: 'Jumper Kablo',
          icon: '',
          color: 'from-purple-500 to-pink-600',
          description: 'Devre elemanlarÄ±nÄ± birbirine baÄŸlamak iÃ§in kullanÄ±lan kablolar',
          usage: 'Erkek-erkek, erkek-diÅŸi ve diÅŸi-diÅŸi olmak Ã¼zere 3 tÃ¼rÃ¼ vardÄ±r.',
          tips: [
            'Renk kodlamasÄ±: KÄ±rmÄ±zÄ± (+5V), Siyah (GND), diÄŸerleri sinyal',
            'Breadboard iÃ§in erkek-erkek kablo kullanÄ±n',
            'Arduino pinlerine baÄŸlamak iÃ§in erkek-diÅŸi kullanÄ±n'
          ],
          images: []
        },
        {
          id: 'potentiometer',
          name: 'Potansiyometre',
          icon: '',
          color: 'from-orange-500 to-red-600',
          description: 'Direnci elle ayarlanabilen deÄŸiÅŸken direnÃ§',
          usage: 'ÃœÃ§ bacaklÄ±dÄ±r: +5V, GND ve orta â€œsÃ¼pÃ¼rÃ¼cÃ¼â€ Ã§Ä±kÄ±ÅŸÄ±. Analog giriÅŸle 0â€“1023 aralÄ±ÄŸÄ±nda deÄŸer okunur.',
          tips: [
            '3 bacaklÄ±dÄ±r: +5V, Analog Out (orta), GND',
            'analogRead() ile 0-1023 arasÄ± deÄŸer okunur',
            'map() fonksiyonu ile deÄŸer aralÄ±ÄŸÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lebilir'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'Potansiyometre.jpg', caption: 'Potansiyometre' }]
        },
        {
          id: 'servo',
          name: 'Servo Motor',
          icon: '',
          color: 'from-teal-500 to-cyan-600',
          description: '0â€“180Â° arasÄ± hassas aÃ§Ä± kontrolÃ¼ yapabilen motor',
          usage: 'KÄ±rmÄ±zÄ±: Vcc, Kahverengi: GND, Turuncu: Sinyal. PWM darbe geniÅŸliÄŸi ~1â€“2 ms aralÄ±ÄŸÄ±yla konum belirlenir.',
          tips: [
            'Harici gÃ¼Ã§ kaynaÄŸÄ± Ã¶nerilir; yÃ¼ksek akÄ±m Ã§ekebilir',
            'Sinyal pinini PWM destekli pine baÄŸlayÄ±n',
            'AÃ§Ä± kontrolÃ¼ iÃ§in uygun kÃ¼tÃ¼phane/fonksiyonlarÄ± kullanÄ±n'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'servo-motor-uclari.png', caption: 'Servo Motor BaÄŸlantÄ±larÄ±' }]
        },
        {
          id: 'hc-sr04',
          name: 'HC-SR04 Mesafe SensÃ¶rÃ¼',
          icon: '',
          color: 'from-indigo-500 to-blue-600',
          description: 'Ultrasonik dalga ile 2â€“400 cm arasÄ± mesafe Ã¶lÃ§er',
          usage: 'Trig pini kÄ±sa darbe gÃ¶nderir; Echo pini dÃ¶nÃ¼ÅŸ sÃ¼resini Ã¶lÃ§er. Mesafe sÃ¼re/343 m/s hÄ±zÄ±na gÃ¶re hesaplanÄ±r.',
          tips: [
            'Ä°stikrarlÄ± Ã¶lÃ§Ã¼m iÃ§in sabit montaj ve temiz hat Ã§ekin',
            '5V besleme kullanÄ±n; sinyal seviyelerini doÄŸrulayÄ±n',
            'Zaman Ã¶lÃ§Ã¼mÃ¼nde mikrosaniye hassasiyet gerekir'
          ],
          path: 'Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)',
          images: [{ src: 'hcsr-4.webp', caption: 'HC-SR04 SensÃ¶rÃ¼' }]
        }
      ];

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino ElemanlarÄ±</h1>
            <p class="text-slate-400">Temel elektronik bileÅŸenleri tanÄ±yalÄ±m</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            ${components.map((component, index) => {
              const componentKey = `component-${index}`;
              const isCollapsed = appState.collapsedTopics[componentKey] || false;
              return `
              <div class="bg-slate-800 rounded-2xl overflow-hidden border border-slate-700 hover:scale-105 transition-all fade-in">
                <button onclick="toggleTopic('${componentKey}')" class="w-full flex items-center justify-between p-6 text-left bg-gradient-to-r ${component.color} hover:opacity-95 transition-all">
                  <div class="flex items-center space-x-4">
                    ${component.icon ? `<div class="text-6xl">${component.icon}</div>` : ''}
                    <div>
                      <h2 class="text-2xl font-bold text-white">${component.name}</h2>
                      <p class="text-white text-opacity-90 text-sm mt-1">${component.description}</p>
                    </div>
                  </div>
                  <div class="text-2xl text-white transition-transform duration-300 ${isCollapsed ? 'rotate-0' : 'rotate-180'}">
                    â–¼
                  </div>
                </button>
                
                <div class="overflow-hidden transition-all duration-300 ${isCollapsed ? 'max-h-0 opacity-0' : 'max-h-96 opacity-100'}">
                  <div class="p-6">
                    <div class="mb-4">
                      <h3 class="font-bold text-lg mb-2 text-blue-400">KullanÄ±m</h3>
                      <p class="text-slate-300 leading-relaxed">${component.usage}</p>
                    </div>
                    
                    ${component.images && component.images.length ? `
                      <div class="mt-4">
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                          ${component.images.map(img => `
                            <div class="bg-slate-900/40 rounded-xl border border-slate-700/50 p-3 flex flex-col items-center">
                              <img
                                src="${component.path ? `${component.path}/${img.src}` : img.src}"
                                alt="${img.caption}"
                                class="h-24 w-full object-contain"
                                loading="lazy"
                              />
                              <span class="mt-2 text-xs text-slate-300">${img.caption}</span>
                            </div>
                          `).join('')}
                        </div>
                      </div>
                    ` : ''}
                    
                    <div>
                      <h3 class="font-bold text-lg mb-3 text-green-400">Ä°puÃ§larÄ±</h3>
                      <ul class="space-y-2">
                        ${component.tips.map(tip => `
                          <li class="flex items-start space-x-2">
                            <span class="text-green-400 mt-1">â€¢</span>
                            <span class="text-slate-300 text-sm leading-relaxed">${tip}</span>
                          </li>
                        `).join('')}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            `;
            }).join('')}
          </div>

          ${appState.currentUser ? `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Bu elemanlarÄ± kullanmaya hazÄ±r mÄ±sÄ±n?</h2>
              <p class="text-white text-opacity-90 mb-6">Kod editÃ¶rÃ¼nde bu bileÅŸenlerle projeler oluÅŸturabilirsin!</p>
              <button onclick="navigateTo('editor')" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                Kod EditÃ¶rÃ¼ne Git
              </button>
            </div>
          ` : `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Bu elemanlarla projeler yapmaya baÅŸla!</h2>
              <p class="text-white text-opacity-90 mb-6">Ãœcretsiz kayÄ±t ol, simÃ¼latÃ¶rde dene!</p>
              <button onclick="appState.showAuthModal = true; appState.authMode = 'register'; renderApp();" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                Ãœcretsiz BaÅŸla
              </button>
            </div>
          `}
        </div>
      `;
    }

    function renderQuiz() {
      if (appState.currentQuiz) {
        const quiz = quizzes.find(q => q.id === appState.currentQuiz);
        if (!quiz) {
          appState.currentQuiz = null;
          return renderQuiz();
        }

        if (appState.quizCompleted) {
          const percentage = (appState.quizScore / quiz.questions.length) * 100;
          const passed = percentage >= 70;

          return `
            ${renderNavbar()}
            
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
              <div class="bg-slate-800 rounded-2xl p-8 text-center">
                <h1 class="text-4xl font-bold mb-4">${passed ? 'Tebrikler!' : 'Daha Ä°yisini Yapabilirsin!'}</h1>
                <p class="text-xl text-slate-300 mb-6">${quiz.title} testini tamamladÄ±n</p>
                
                <div class="bg-slate-700 rounded-xl p-8 mb-6">
                  <div class="text-5xl font-bold mb-2 ${passed ? 'text-green-400' : 'text-orange-400'}">
                    ${appState.quizScore} / ${quiz.questions.length}
                  </div>
                  <div class="text-lg text-slate-300">%${percentage.toFixed(0)} BaÅŸarÄ±</div>
                  ${appState.currentUser && passed ? `
                    <div class="mt-4 text-yellow-400 font-bold">
                      +${Math.floor(quiz.xpReward * (percentage / 100))} XP KazandÄ±n!
                    </div>
                  ` : ''}
                </div>

                <div class="space-y-4 mb-6 text-left">
                  ${quiz.questions.map(question => {
                    const userAnswer = appState.quizAnswers[question.id];
                    const isCorrect = userAnswer === question.correct;
                    
                    return `
                      <div class="bg-slate-700 rounded-xl p-4">
                        <div class="flex items-start space-x-3 mb-3">
                          <div class="flex-shrink-0 mt-1">
                            ${isCorrect ? `
                              <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                              </svg>
                            ` : `
                              <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                              </svg>
                            `}
                          </div>
                          <div class="flex-1">
                            <p class="font-medium mb-2">${question.question.replace(/\n/g, '<br>')}</p>
                            <div class="text-sm space-y-1">
                              <div class="${isCorrect ? 'text-green-400' : 'text-red-400'}">Senin cevabÄ±n: ${question.options[userAnswer]}</div>
                              ${!isCorrect ? `<div class="text-green-400">DoÄŸru cevap: ${question.options[question.correct]}</div>` : ''}
                            </div>
                          </div>
                        </div>
                        <div class="bg-slate-600/50 border border-slate-500/20 rounded-lg p-3 text-sm text-slate-200">
                          <span class="font-bold text-blue-400">Bilgi:</span> ${question.explanation}
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>

                <div class="flex gap-4">
                  <button onclick="resetQuiz()" class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-xl font-bold transition-all">
                    Testlere DÃ¶n
                  </button>
                  <button onclick="startQuiz('${quiz.id}')" class="flex-1 bg-gradient-to-r ${quiz.color} text-white py-3 rounded-xl font-bold hover:scale-105 transition-all">
                    Tekrar Dene
                  </button>
                </div>
              </div>
            </div>
          `;
        }

        const allAnswered = quiz.questions.every(q => appState.quizAnswers[q.id] !== undefined);

        return `
          ${renderNavbar()}
          
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <button onclick="resetQuiz()" class="flex items-center space-x-2 text-slate-400 hover:text-white mb-6 transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
              <span>Testlere DÃ¶n</span>
            </button>

            <div class="bg-slate-800 rounded-2xl p-8">
              <div class="flex items-center space-x-4 mb-6">
                <div class="flex-1">
                  <h1 class="text-3xl font-bold mb-2">${quiz.title}</h1>
                  <p class="text-slate-400">${quiz.description} â€¢ ${quiz.difficulty} â€¢ ${quiz.questions.length} Soru</p>
                </div>
              </div>

              <div class="space-y-6">
                ${quiz.questions.map((question, index) => `
                  <div class="bg-slate-700 rounded-xl p-6">
                    <h3 class="font-bold text-lg mb-4">
                      <span class="text-blue-400">${index + 1}.</span> ${question.question.replace(/\n/g, '<br>')}
                    </h3>
                    <div class="space-y-3">
                      ${question.options.map((option, optIndex) => {
                        const isSelected = appState.quizAnswers[question.id] === optIndex;
                        return `
                          <button 
                            onclick="selectAnswer(${question.id}, ${optIndex})"
                            class="w-full text-left p-4 rounded-lg transition-all ${
                              isSelected 
                                ? 'bg-blue-500 text-white' 
                                : 'bg-slate-600 hover:bg-slate-500 text-slate-200'
                            }"
                          >
                            <span class="font-medium">${String.fromCharCode(65 + optIndex)})</span> ${option}
                          </button>
                        `;
                      }).join('')}
                    </div>
                  </div>
                `).join('')}
              </div>

              <button 
                onclick="submitQuiz()"
                ${!allAnswered ? 'disabled' : ''}
                class="w-full mt-6 py-4 rounded-xl font-bold transition-all ${
                  allAnswered 
                    ? 'bg-gradient-to-r ' + quiz.color + ' text-white hover:scale-105' 
                    : 'bg-slate-700 text-slate-400 cursor-not-allowed'
                }"
              >
                ${allAnswered ? 'Testi Tamamla' : `TÃ¼m SorularÄ± Cevapla (${Object.keys(appState.quizAnswers).length}/${quiz.questions.length})`}
              </button>
            </div>
          </div>
        `;
      }

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino Bilgi Testleri</h1>
            <p class="text-slate-400">Bilgini test et, XP kazan ve kendini geliÅŸtir!</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            ${quizzes.map(quiz => `
              <div class="bg-slate-800 rounded-2xl overflow-hidden hover:scale-105 transition-all fade-in border border-slate-700">
                <div class="bg-gradient-to-r ${quiz.color} p-6">
                  <div class="flex items-center justify-between mb-4">
                    <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-bold text-white uppercase tracking-wider">
                      ${quiz.difficulty}
                    </div>
                  </div>
                  <h2 class="text-2xl font-bold text-white mb-2">${quiz.title}</h2>
                  <p class="text-white text-opacity-90 text-sm">${quiz.description}</p>
                </div>
                
                <div class="p-6">
                  <div class="flex items-center justify-between mb-4 text-sm">
                    <div class="flex items-center space-x-4">
                      <span class="text-slate-400">
                        <span class="font-bold text-white">${quiz.questions.length}</span> Soru
                      </span>
                      ${appState.currentUser ? `
                        <span class="text-yellow-400">
                          <span class="font-bold">${quiz.xpReward}</span> XP
                        </span>
                      ` : ''}
                    </div>
                  </div>
                  
                  <button 
                    onclick="handleQuizStart('${quiz.id}')"
                    class="w-full bg-gradient-to-r ${quiz.color} text-white py-3 rounded-xl font-bold hover:scale-105 transition-all"
                  >
                    ${appState.currentUser ? 'Teste BaÅŸla' : 'GiriÅŸ Yap ve BaÅŸla'}
                  </button>
                </div>
              </div>
            `).join('')}
          </div>

          ${!appState.currentUser ? `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Testleri Ã§Ã¶z, XP kazan!</h2>
              <p class="text-white text-opacity-90 mb-6">Ãœcretsiz kayÄ±t ol, testlerle kendini geliÅŸtir ve XP kazanarak seviye atla!</p>
              <button onclick="appState.showAuthModal = true; appState.authMode = 'register'; renderApp();" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                Ãœcretsiz BaÅŸla
              </button>
            </div>
          ` : ''}
        </div>
      `;
    }

    function renderAbout() {
      return `
        ${renderNavbar()}
        
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="text-center mb-12 fade-in">
            <div class="inline-block bg-gradient-to-r from-red-500 to-red-700 px-6 py-2 rounded-full text-sm font-bold mb-4">
              TEKNOFEST 2026 Projesi
            </div>
            <h1 class="text-5xl font-bold mb-4">ArduMind HakkÄ±nda</h1>
            <p class="text-xl text-slate-400">Arduino'yu ezberleyerek deÄŸil, anlayarak Ã¶ÄŸrenmenin yeni yolu</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="bg-slate-800 rounded-2xl p-8 hover:scale-105 transition-all fade-in">
              <h2 class="text-2xl font-bold mb-3">Proje Vizyonu</h2>
              <p class="text-slate-300 leading-relaxed">
                ArduMind, Arduino Ã¶ÄŸrenimini kiÅŸiselleÅŸtiren, yapay zeka destekli bir eÄŸitim platformudur. 
                Ã–ÄŸrencilerin kendi hÄ±zlarÄ±nda ilerlemesini saÄŸlar ve her Ã¶ÄŸrencinin ihtiyaÃ§larÄ±na Ã¶zel Ã§Ã¶zÃ¼mler sunar.
              </p>
            </div>

            <div class="bg-slate-800 rounded-2xl p-8 hover:scale-105 transition-all fade-in">
              <h2 class="text-2xl font-bold mb-3">Neden ArduMind?</h2>
              <p class="text-slate-300 leading-relaxed">
                Geleneksel Arduino eÄŸitimleri ezber odaklÄ±dÄ±r. ArduMind, kavramsal Ã¶ÄŸrenmeyi Ã¶n plana Ã§Ä±karÄ±r, 
                hatalarÄ± anlaÅŸÄ±lÄ±r ÅŸekilde aÃ§Ä±klar ve gerÃ§ek zamanlÄ± simÃ¼lasyon ile Ã¶ÄŸrenmeyi eÄŸlenceli hale getirir.
              </p>
            </div>
          </div>

          <div class="bg-gradient-to-r from-blue-900 to-purple-900 rounded-3xl p-8 mb-12">
            <h2 class="text-3xl font-bold mb-6 text-center">Temel Ã–zellikler</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">Yapay Zeka AsistanÄ±</h3>
                <p class="text-sm text-slate-300">KodlarÄ±nÄ±zÄ± analiz eder, hatalarÄ± aÃ§Ä±klar ve anlÄ±k Ã§Ã¶zÃ¼mler sunar</p>
              </div>

              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">Ä°nteraktif SimÃ¼lasyon</h3>
                <p class="text-sm text-slate-300">Kodunuzu gerÃ§ek zamanlÄ± test edin, LED'leri yakÄ±p sÃ¶ndÃ¼rÃ¼n</p>
              </div>

              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">Gamification Sistemi</h3>
                <p class="text-sm text-slate-300">XP kazanÄ±n, seviye atlayÄ±n ve baÅŸarÄ±larÄ±nÄ±zÄ± takip edin</p>
              </div>
            </div>
          </div>

          <div class="bg-slate-800 rounded-2xl p-8 mb-12">
            <h2 class="text-3xl font-bold mb-6">Proje Hedefleri</h2>
            <div class="space-y-4">
              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">Arduino Ã–ÄŸrenimini DemokratikleÅŸtirmek</h3>
                  <p class="text-slate-300">Herkes iÃ§in eriÅŸilebilir, Ã¼cretsiz ve kaliteli Arduino eÄŸitimi sunmak</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">Kavramsal Ã–ÄŸrenmeyi TeÅŸvik Etmek</h3>
                  <p class="text-slate-300">Ezber yerine anlayarak Ã¶ÄŸrenme metodolojisini yaygÄ±nlaÅŸtÄ±rmak</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">GenÃ§leri Teknolojiye KazandÄ±rmak</h3>
                  <p class="text-slate-300">IoT, robotik ve elektronik alanlarÄ±nda yeni nesil yetiÅŸkinler yetiÅŸtirmek</p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-slate-800 to-slate-700 rounded-2xl p-8 mb-12 hover:scale-105 transition-all">
            <h2 class="text-3xl font-bold mb-6">KullanÄ±lan Teknolojiler</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">HTML/CSS/JS</p>
              </div>
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">CSS</p>
              </div>
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">SimÃ¼lasyon</p>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-3xl p-12 text-center">
            <h2 class="text-4xl font-bold mb-4 text-white">GeleceÄŸi Birlikte Ä°nÅŸa Edelim!</h2>
            <p class="text-xl text-white text-opacity-90 mb-6">
              ArduMind ile Arduino Ã¶ÄŸrenmenin geleceÄŸini ÅŸekillendiriyoruz
            </p>
            <button onclick="handleAboutCTA()" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
              ${appState.currentUser ? 'Ã–ÄŸrenmeye Devam Et' : 'Hemen BaÅŸla'}
            </button>
          </div>
        </div>
      `;
    }

    function renderProfile() {
      if (!appState.currentUser) {
        navigateTo('home');
        return '';
      }

      const levelNames = {
        'beginner': 'BaÅŸlangÄ±Ã§',
        'basic': 'Temel',
        'intermediate': 'Orta'
      };

      const goalNames = {
        'project': 'Proje Yapmak',
        'learn': 'Arduino Ã–ÄŸrenmek'
      };

      return `
        ${renderNavbar()}
        
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="bg-slate-800 rounded-2xl p-8">
            <div class="text-center mb-8">
              <div class="w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-5xl font-bold mx-auto mb-4">
                ${appState.currentUser.name.charAt(0).toUpperCase()}
              </div>
              <h1 class="text-3xl font-bold mb-2">${appState.currentUser.name}</h1>
              <p class="text-slate-400">${appState.currentUser.email}</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
              <div class="bg-slate-700 rounded-xl p-6">
                <h3 class="font-bold mb-4">Seviye Bilgileri</h3>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-slate-400">Mevcut Seviye</span>
                    <span class="font-bold">${levelNames[appState.currentUser.level]}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-slate-400">Toplam XP</span>
                    <span class="font-bold text-yellow-400">${appState.currentUser.xp || 0}</span>
                  </div>
                </div>
              </div>

              <div class="bg-slate-700 rounded-xl p-6">
                <h3 class="font-bold mb-4">Ä°lerleme</h3>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-slate-400">Tamamlanan</span>
                    <span class="font-bold">${appState.currentUser.completedModules.length} modÃ¼l</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-slate-400">Rozetler</span>
                    <span class="font-bold">${appState.currentUser.badges ? appState.currentUser.badges.length : 0}/5</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-slate-700 rounded-xl p-6 mb-6">
              <h3 class="font-bold mb-4">Ã–ÄŸrenme Hedefi</h3>
              <p class="text-lg">${goalNames[appState.currentUser.goal]}</p>
            </div>

            <button onclick="logout()" class="w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl font-bold transition-all">
              Ã‡Ä±kÄ±ÅŸ Yap
            </button>
          </div>
        </div>
      `;
    }

    function renderArduinoPage() {
      const sections = [
        {
          title: "Arduino Nedir?",
          description: "Arduino, elektronik devreler kurup programlayabileceÄŸimiz bir geliÅŸtirme kartÄ±dÄ±r. SensÃ¶rlerden bilgi alÄ±r ve motor, Ä±ÅŸÄ±k gibi Ã§Ä±ktÄ±larÄ± kontrol eder.",
          details: `
            <div class="space-y-4">
              <div>
                <h4 class="text-xl font-bold text-blue-400 mb-2">Temel Ä°ÅŸlevi</h4>
                <p class="text-slate-300">Arduino bir beyin gibi Ã§alÄ±ÅŸÄ±r. GÃ¶zlerimiz ve kulaklarÄ±mÄ±z gibi sensÃ¶rleri kullanarak Ã§evresini algÄ±lar; ellerimiz ve kollarÄ±mÄ±z gibi motorlarÄ± ve Ä±ÅŸÄ±klarÄ± kullanarak tepki verir. Robotik projeler, akÄ±llÄ± ev sistemleri, hÄ±rsÄ±z alarmlarÄ± ve otomatik sulama sistemleri gibi sayÄ±sÄ±z proje yapÄ±labilir.</p>
              </div>
              <div>
                <h4 class="text-xl font-bold text-purple-400 mb-2">Orijinal ve Klon FarkÄ±</h4>
                <ul class="list-disc ml-5 text-slate-300 space-y-1">
                  <li><strong>USB Ã‡ipi:</strong> Orijinalde ATmega16U2 (sÃ¼rÃ¼cÃ¼sÃ¼z Ã§alÄ±ÅŸÄ±r), Klon modellerde genellikle CH340 Ã§ipi bulunur ve bilgisayara tanÄ±tmak iÃ§in ek sÃ¼rÃ¼cÃ¼ (driver) yÃ¼klenmesi gerekir.</li>
                  <li><strong>Malzeme Kalitesi:</strong> Orijinal kartlar daha kaliteli bileÅŸenlerden Ã¼retilir, klonlar daha uygun fiyatlÄ± parÃ§alar kullanÄ±r.</li>
                  <li><strong>Performans:</strong> Kodlama ve Ã§alÄ±ÅŸma mantÄ±ÄŸÄ± aÃ§Ä±sÄ±ndan hiÃ§bir fark yoktur. Ä°kisi de aynÄ± iÅŸi yapar.</li>
                </ul>
              </div>
            </div>
          `,
          path: "Teknofest 2026/1.KÄ±sÄ±m(Arduino Nedir)",
          images: [
            { src: "ArduinoUno GÃ¶rsel.jpg", caption: "Arduino Uno" },
            { src: "ArduinoMega GÃ¶rsel.webp", caption: "Arduino Mega" },
            { src: "ArduinoNano GÃ¶rsel.jpg", caption: "Arduino Nano" },
            { src: "SumoRobotu.jpg", caption: "Sumo Robotu" },
            { src: "Ã‡izgiÄ°zleyen.jpg", caption: "Ã‡izgi Ä°zleyen Robot" }
          ]
        },
        {
          title: "Arduino TÃ¼rleri",
          description: "Projenin ihtiyacÄ±na gÃ¶re farklÄ± boyut ve Ã¶zelliklerde Arduino kartlarÄ± vardÄ±r.",
          details: `
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-yellow-400 mb-2">Arduino UNO</h4>
                <p class="text-sm text-slate-300">En popÃ¼ler ve baÅŸlangÄ±Ã§ iÃ§in en uygun karttÄ±r. ATmega328P mikrodenetleyicisini kullanÄ±r. 14 Dijital, 6 Analog giriÅŸi vardÄ±r. USB kablosu ile bilgisayara kolayca baÄŸlanÄ±r.</p>
              </div>
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-blue-400 mb-2">Arduino MEGA</h4>
                <p class="text-sm text-slate-300">Daha bÃ¼yÃ¼k ve karmaÅŸÄ±k projeler iÃ§indir. ATmega2560 kullanÄ±r. 54 Dijital, 16 Analog giriÅŸi vardÄ±r. 3D yazÄ±cÄ±, drone gibi Ã§ok pin gerektiren projelerde tercih edilir.</p>
              </div>
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-green-400 mb-2">Arduino NANO</h4>
                <p class="text-sm text-slate-300">UNO ile aynÄ± Ã¶zelliklere sahiptir ancak boyutu Ã§ok kÃ¼Ã§Ã¼ktÃ¼r. Breadboard Ã¼zerine direkt takÄ±labilir. Yer sÄ±kÄ±ntÄ±sÄ± olan mini robotlar ve giyilebilir teknolojiler iÃ§in idealdir.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/2.KÄ±sÄ±m(Arduino TÃ¼rleri)",
          images: [
            { src: "ArduinoUno GÃ¶rsel.jpg", caption: "Arduino Uno" },
            { src: "ArduinoMega GÃ¶rsel.webp", caption: "Arduino Mega" },
            { src: "ArduinoNano GÃ¶rsel.jpg", caption: "Arduino Nano" }
          ]
        },
        {
          title: "Arduino BacaklarÄ± (Pinler)",
          description: "Arduino Ã¼zerindeki giriÅŸ ve Ã§Ä±kÄ±ÅŸ portlarÄ±nÄ±n gÃ¶revleri.",
          details: `
            <div class="space-y-4">
              <div>
                <h4 class="text-lg font-bold text-red-400">GÃ¼Ã§ Pinleri (Power)</h4>
                <p class="text-slate-300 text-sm"><strong>5V / 3.3V:</strong> Enerji Ã§Ä±kÄ±ÅŸlarÄ±dÄ±r. <br><strong>GND:</strong> Toprak (Eksi) hattÄ±dÄ±r. <br><strong>Vin:</strong> Harici gÃ¼Ã§ giriÅŸidir.</p>
              </div>
              <div>
                <h4 class="text-lg font-bold text-green-400">Dijital Pinler (0-13)</h4>
                <p class="text-slate-300 text-sm">Sadece 1 (VAR) veya 0 (YOK) deÄŸerini alÄ±rlar. LED yakmak, buton okumak iÃ§in kullanÄ±lÄ±r. <br><strong>PWM (~) Pinleri (3,5,6,9,10,11):</strong> Motor hÄ±zÄ± veya LED parlaklÄ±ÄŸÄ± gibi analog benzeri Ã§Ä±kÄ±ÅŸlar verebilir.<br><strong>TX/RX (0-1):</strong> HaberleÅŸme pinleridir, kod yÃ¼klerken boÅŸ bÄ±rakÄ±lmalÄ±dÄ±r.</p>
              </div>
              <div>
                <h4 class="text-lg font-bold text-blue-400">Analog Pinler (A0-A5)</h4>
                <p class="text-slate-300 text-sm">SÄ±caklÄ±k, Ä±ÅŸÄ±k, nem gibi deÄŸiÅŸken deÄŸerleri okumak iÃ§in kullanÄ±lÄ±r. 0 ile 1023 arasÄ±nda hassas deÄŸer Ã¼retirler.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/3.KÄ±sÄ±m(Arduino BacaklarÄ±)",
          images: [
            { src: "ArduinoUno BacaklarÄ±.jpg", caption: "Arduino Uno Pin DiyagramÄ±" }
          ]
        },
        {
          title: "Temel Elemanlar",
          description: "Elektronik devrelerde kullanÄ±lan temel bileÅŸenler ve gÃ¶revleri.",
          details: `
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
              <div>
                <h4 class="font-bold text-white">Breadboard (Devre TahtasÄ±)</h4>
                <p class="text-xs text-slate-400 mb-2">Lehim yapmadan devre kurmayÄ± saÄŸlar. Yanlardaki gÃ¼Ã§ hatlarÄ± (+/â€“) uzunlamasÄ±na baÄŸlÄ±dÄ±r; orta kÄ±sÄ±mda 5â€™li sÃ¼tunlar birbirine baÄŸlÄ±dÄ±r.</p>
                <h4 class="font-bold text-white">LED</h4>
                <p class="text-xs text-slate-400 mb-2">IÅŸÄ±k yayan diyot. Uzun bacak (+) anot, kÄ±sa bacak (â€“) katottur. Genellikle 220â€“330Î© direnÃ§ ile kullanÄ±lÄ±r; ileri yÃ¶nde ~2V dÃ¼ÅŸÃ¼m oluÅŸturur.</p>
                <h4 class="font-bold text-white">DirenÃ§</h4>
                <p class="text-xs text-slate-400 mb-2">AkÄ±mÄ± sÄ±nÄ±rlar ve elemanlarÄ± korur. Renk kodlarÄ± ile deÄŸeri okunur; yÃ¶nsÃ¼zdÃ¼r. GÃ¼Ã§ deÄŸeri (W) Ä±sÄ±nmaya karÅŸÄ± dayanÄ±mÄ± gÃ¶sterir.</p>
                <h4 class="font-bold text-white">Potansiyometre</h4>
                <p class="text-xs text-slate-400">ÃœÃ§ bacaklÄ± ayarlanabilir direnÃ§tir. Orta uÃ§ â€œsÃ¼pÃ¼rÃ¼cÃ¼â€dÃ¼r; ses, Ä±ÅŸÄ±k ÅŸiddeti gibi deÄŸeri analog olarak ayarlamak iÃ§in kullanÄ±lÄ±r.</p>
              </div>
              <div>
                <h4 class="font-bold text-white">Servo Motor</h4>
                <p class="text-xs text-slate-400 mb-2">0â€“180Â° arasÄ± hassas aÃ§Ä± kontrolÃ¼ yapar. KÄ±rmÄ±zÄ±: Vcc, Kahverengi: GND, Turuncu: Sinyal. Tipik PWM darbe geniÅŸliÄŸi 1â€“2 ms aralÄ±ÄŸÄ±ndadÄ±r.</p>
                <h4 class="font-bold text-white">HC-SR04 Mesafe SensÃ¶rÃ¼</h4>
                <p class="text-xs text-slate-400 mb-2">Ultrasonik dalga ile 2â€“400 cm aralÄ±ÄŸÄ±nda mesafe Ã¶lÃ§er. Trig gÃ¶nderir, Echo dÃ¶nen dalganÄ±n sÃ¼resini Ã¶lÃ§er.</p>
                <h4 class="font-bold text-white">Buton</h4>
                <p class="text-xs text-slate-400">Devreyi tamamlayan/kesen anahtardÄ±r. Genelde 4 bacaklÄ±dÄ±r. KararlÄ± okuma iÃ§in pull-up/pull-down ve yazÄ±lÄ±msal debounce Ã¶nerilir.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/4.KÄ±sÄ±m(Temel Elemanlar 1.KÄ±sÄ±m)",
          images: [
            { src: "BreadBoardBÃ¼yÃ¼k.jpg", caption: "Breadboard" },
            { src: "DirenÃ§RenkKodlarÄ±Ä±.jpg", caption: "DirenÃ§ Renk KodlarÄ±" },
            { src: "KÄ±rmÄ±zÄ±Led.jpg", caption: "LED" },
            { src: "Buton.jpg", caption: "Buton" },
            { src: "Potansiyometre.jpg", caption: "Potansiyometre" },
            { src: "hcsr-4.webp", caption: "Mesafe SensÃ¶rÃ¼" },
            { src: "servo-motor-uclari.png", caption: "Servo Motor" }
          ],
          thumbnails: [
            { src: "KÄ±rmÄ±zÄ±Led.jpg", caption: "LED" },
            { src: "DirenÃ§RenkKodlarÄ±Ä±.jpg", caption: "DirenÃ§" },
            { src: "Potansiyometre.jpg", caption: "Potansiyometre" },
            { src: "Buton.jpg", caption: "Buton" }
          ]
        }
      ];

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div class="text-center mb-16">
            <h1 class="text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">
              Arduino EÄŸitim Materyalleri
            </h1>
            <p class="text-xl text-slate-400 max-w-2xl mx-auto">
              Teknofest 2026 hazÄ±rlÄ±k sÃ¼reci iÃ§in kapsamlÄ± teknik bilgiler ve devre ÅŸemalarÄ±.
            </p>
          </div>

          <div class="space-y-16">
            ${sections.map(section => `
              <div class="bg-slate-800 rounded-3xl p-8 shadow-2xl border border-slate-700">
                <div class="mb-8">
                  <h2 class="text-3xl font-bold mb-4 text-white border-b border-slate-700 pb-4">${section.title}</h2>
                  <p class="text-slate-300 text-lg mb-6 leading-relaxed">${section.description}</p>
                  ${section.details ? `
                    <div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm">
                      ${section.details}
                      ${section.thumbnails && section.thumbnails.length ? `
                        <div class="mt-6">
                          <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                            ${section.thumbnails.map(img => `
                              <div class="bg-slate-800 rounded-xl border border-slate-700/50 p-3 flex flex-col items-center">
                                <img
                                  src="${section.path}/${img.src}"
                                  alt="${img.caption}"
                                  class="h-20 w-full object-contain"
                                  loading="lazy"
                                />
                                <span class="mt-2 text-xs text-slate-300">${img.caption}</span>
                              </div>
                            `).join('')}
                          </div>
                        </div>
                      ` : ''}
                    </div>
                  ` : ''}
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
                  ${section.images.map(img => `
                    <div class="group relative bg-slate-900 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all hover:scale-[1.02] border border-slate-700/30">
                      <div class="aspect-w-16 aspect-h-12 w-full overflow-hidden bg-slate-800">
                        <img 
                          src="${section.path}/${img.src}" 
                          alt="${img.caption}" 
                          class="w-full h-64 object-cover transform group-hover:scale-110 transition-transform duration-500"
                          loading="lazy"
                        />
                      </div>
                      <div class="absolute bottom-0 inset-x-0 bg-gradient-to-t from-slate-900 via-slate-900/90 to-transparent p-4 pt-16">
                        <p class="text-white font-bold text-lg text-center shadow-black drop-shadow-md">${img.caption}</p>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    // ==================== MAIN RENDER ====================
    function renderApp() {
      let content = '';
      
      if (appState.currentModuleView && appState.currentUser) {
        content = renderModuleDetail();
      } else {
        switch(appState.currentPage) {
          case 'home':
            content = renderHomePage();
            break;
          case 'dashboard':
            content = appState.currentUser ? renderDashboard() : renderHomePage();
            break;
          case 'editor':
            content = renderEditor();
            break;
          case 'docs':
            content = renderDocumentation();
            break;
          case 'components':
            content = renderComponents();
            break;
          case 'videos':
            content = renderVideos();
            break;
          case 'path':
            content = renderLearningPath();
            break;
          case 'algo-builder':
            content = renderAlgoBuilder();
            break;
          case 'quiz':
            content = renderQuiz();
            break;
          case 'profile':
            content = renderProfile();
            break;
          case 'about':
            content = renderAbout();
            break;
          case 'arduino':
            content = renderArduinoPage();
            break;
          default:
            content = renderHomePage();
        }
      }
      
      document.getElementById('app').innerHTML = content + (appState.showAuthModal ? renderAuthModal() : '') + (appState.showIntro ? renderIntro() : '');
      
      if (appState.currentPage === 'algo-builder') {
        setTimeout(() => renderConnectionsSVG(), 0);
      }

      if (appState.currentPage === 'editor') {
        setTimeout(() => {
          initEditor();
          const arduinoBoard = document.getElementById('arduinoBoard');
          if (arduinoBoard) {
            arduinoBoard.innerHTML = renderArduinoBoard();
          }
          // Seri monitÃ¶rÃ¼ en alta kaydÄ±r
          const serialMonitor = document.getElementById('serialMonitor');
          if (serialMonitor) {
            serialMonitor.scrollTop = serialMonitor.scrollHeight;
          }
        }, 100);
      }
    }

    renderApp();
  </script>
</body>
</html>
