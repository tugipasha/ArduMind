<!doctype html>
<html lang="tr" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArduMind - Arduino'yu Anlayarak ren</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- CodeMirror for Professional Editor -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/closebrackets.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/selection/active-line.min.js"></script>

  <style>
    body {
      box-sizing: border-box;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes glow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes clickEffect {
      0% { transform: scale(1); opacity: 0.5; }
      100% { transform: scale(2.5); opacity: 0; }
    }
    
    /* Ultrasonik Dalga Animasyonu */
    @keyframes waveAnimation {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(1);
        opacity: 0;
      }
    }
    
    /* CodeMirror Custom Styles */
    .CodeMirror {
      height: 100% !important;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 14px;
      background: transparent !important;
    }
    .cm-s-dracula.CodeMirror {
      background-color: transparent !important;
    }
    .CodeMirror-gutters {
      background-color: #1e293b !important;
      border-right: 1px solid #334155 !important;
    }
    .CodeMirror-linenumber {
      color: #64748b !important;
    }
    .CodeMirror-activeline-background {
      background: rgba(51, 65, 85, 0.3) !important;
    }

    textarea.code-input {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
      font-size: 14px;
      line-height: 1.6;
      tab-size: 2;
      resize: none;
    }
    
    .doc-code-block {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
      font-size: 13px;
      line-height: 1.6;
      background: #1e293b;
      border-radius: 8px;
      padding: 16px;
      overflow-x: auto;
      border: 1px solid #334155;
    }
    
    .keyword { color: #c792ea; font-weight: 500; }
    .function { color: #82aaff; }
    .number { color: #f78c6c; }
    .string { color: #c3e88d; }
    .comment { color: #546e7a; font-style: italic; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-slate-900 text-slate-100">
  <div id="app" class="h-full w-full overflow-auto"></div>
  <script>
    // ==================== STATE MANAGEMENT ====================
    const savedUsers = JSON.parse(localStorage.getItem('ardumind_users') || '[]');
    const savedCurrentUser = JSON.parse(localStorage.getItem('ardumind_current_user') || 'null');
    const savedCode = localStorage.getItem('ardumind_editor_code');

    let appState = {
      currentUser: savedCurrentUser,
      users: savedUsers,
      showAuthModal: false,
      authMode: 'login',
      currentPage: savedCurrentUser ? 'dashboard' : 'home',
      currentVideoFilter: '',
      editorWrap: false,
      editorInstance: null,
      showIntro: false,
      currentModuleView: null,
      currentDocSection: 'basics',
      collapsedTopics: {}, // A癟覺l覺r-kapan覺r bloklar i癟in
      editorCode: savedCode || `void setup() {
  pinMode(13, OUTPUT);
}

void loop() {
  digitalWrite(13, HIGH);
  delay(1000);
  digitalWrite(13, LOW);
  delay(1000);
}`,
      simulationRunning: false,
      simulationInterval: null,
      ledStates: {},
      motorStates: {},
      displayMotorStates: {}, // G繹rselletirme i癟in yumuat覺lm覺 h覺z
      motorAngles: {},        // S羹rekli d繹n羹 i癟in a癟覺 takibi
      lastUpdate: Date.now(),
      servoStates: {},
      potValue: 512, // 0-1023
      hcsr04Distance: 100, // 0-400 cm
      buttonStates: { 2: false },
      serialInitialized: false,
      serialOutput: [],
      userSerialOutput: [], // Sadece kullan覺c覺n覺n Serial.print 癟覺kt覺lar覺
      currentQuiz: null,
      quizAnswers: {},
      quizCompleted: false,
      quizScore: 0,
      flowchartNodes: [],
      flowchartConnections: [],
      algoDraggingNode: null,
      algoConnectingFrom: null
    };

    function updateAnimations() {
      const now = Date.now();
      const dt = (now - appState.lastUpdate) / 1000; // Saniye cinsinden fark
      appState.lastUpdate = now;

      let changed = false;

      // DC Motor Yumuatma ve D繹n羹 Takibi
      Object.keys(appState.motorStates).forEach(pin => {
        const targetSpeed = appState.motorStates[pin] || 0;
        const currentSpeed = appState.displayMotorStates[pin] || 0;
        
        // H覺z yumuatma (Lerp)
        if (Math.abs(targetSpeed - currentSpeed) > 0.1) {
          appState.displayMotorStates[pin] = currentSpeed + (targetSpeed - currentSpeed) * 0.1;
          changed = true;
        } else {
          appState.displayMotorStates[pin] = targetSpeed;
        }

        // A癟覺 g羹ncelleme (D繹n羹)
        const speedFactor = appState.displayMotorStates[pin] / 255;
        if (speedFactor > 0) {
          const rotationSpeed = 720 * speedFactor; // Saniyede derece (720 = 2 tur/sn max)
          appState.motorAngles[pin] = ((appState.motorAngles[pin] || 0) + rotationSpeed * dt) % 360;
          changed = true;
        }
      });

      if (changed && appState.simulationRunning) {
        updateSimulationDisplay();
      }

      requestAnimationFrame(updateAnimations);
    }
    updateAnimations();

    function saveAppState() {
      localStorage.setItem('ardumind_users', JSON.stringify(appState.users));
      localStorage.setItem('ardumind_current_user', JSON.stringify(appState.currentUser));
      localStorage.setItem('ardumind_editor_code', appState.editorCode);
    }

    function toggleTopic(topicKey) {
      appState.collapsedTopics[topicKey] = !appState.collapsedTopics[topicKey];
      renderApp();
    }

    // ==================== DATA STRUCTURES ====================
    const documentation = {
      'algoritma-temelleri': {
        title: 'Algoritma Temelleri',
        icon: '',
        color: 'from-orange-400 to-red-500',
        topics: [
          {
            title: 'Algoritma Nedir?',
            description: 'Mant覺ksal d羹羹nme ve problem 癟繹zme',
            content: `
              <p class="mb-4">Algoritma, bir problemi 癟繹zmek veya belirli bir amaca ulamak i癟in tasarlanan yoldur. Kod yazmadan 繹nce algoritma kurmak, hatalar覺 繹nler.</p>
              <h4 class="font-bold text-lg mb-2 text-orange-400">Algoritman覺n zellikleri</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>Girdi:</b> 襤lem i癟in gerekli veriler.</li>
                <li><b>S覺ral覺l覺k:</b> Ad覺mlar belirli bir s覺rayla izlenir.</li>
                <li><b>Kesinlik:</b> Her ad覺m net ve anla覺l覺r olmal覺d覺r.</li>
                <li><b>Sonluluk:</b> Algoritma bir noktada bitmelidir.</li>
              </ul>`
          },
          {
            title: 'Ak覺 Diyagramlar覺',
            description: 'G繹rselletirme ara癟lar覺',
            content: `
              <p class="mb-4">Ak覺 diyagramlar覺, algoritman覺n g繹rsel bir temsilidir. Her ekil farkl覺 bir ilemi ifade eder:</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>Oval:</b> Bala / Bitir</li>
                <li><b>Dikd繹rtgen:</b> 襤lem / Atama</li>
                <li><b>Ekenar D繹rtgen:</b> Karar / Koul</li>
                <li><b>Paralelkenar:</b> Veri Girii / 覺k覺覺</li>
              </ul>`
          },
          {
            title: 'S繹zde Kod (Pseudo-code)',
            description: 'Yar覺 kod, yar覺 konuma dili',
            content: `
              <p class="mb-4">S繹zde kod, programlama dili kurallar覺na tak覺lmadan, algoritmay覺 insan diline yak覺n bir ekilde yazmakt覺r.</p>
              <div class="doc-code-block mb-4">
                BALA<br>
                SAYI OKU (sicaklik)<br>
                EER sicaklik > 30 襤SE<br>
                &nbsp;&nbsp;YAZ "Klima A癟"<br>
                DE襤LSE<br>
                &nbsp;&nbsp;YAZ "Klima Kapat"<br>
                B襤T襤R
              </div>`
          }
        ]
      },
      'temel-yazilim': {
        title: 'Temel Yaz覺l覺m Bilgileri',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        topics: [
          {
            title: 'Program Yap覺s覺 ve S繹zdizimi',
            description: 'Kod yaz覺m kurallar覺',
            content: `
              <p class="mb-4">Arduino programlama dili (C++ tabanl覺), belirli yaz覺m kurallar覺na sahiptir.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Temel Kurallar</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>Noktal覺 Virg羹l (;):</b> Her komut sat覺r覺 ; ile bitmelidir.</li>
                <li><b>S羹sl羹 Parantez { }:</b> Kod bloklar覺n覺 (fonksiyon, d繹ng羹, if yap覺s覺 vb.) kapsar.</li>
                <li><b>Yorum Sat覺rlar覺:</b> // (tek sat覺r) veya /* ... */ (癟ok sat覺r) kullan覺l覺r. Kodun 癟al覺mas覺n覺 etkilemez.</li>
              </ul>

              <h4 class="font-bold text-lg mb-2 text-purple-400">n 襤lemci Komutlar覺</h4>
              <p class="mb-3">Program derlenmeden 繹nce ilenen komutlard覺r.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#define</span> LED_PIN <span class="number">13</span>       <span class="comment">// Sabit tan覺mlama (Haf覺zada yer kaplamaz)</span>
<span class="directive">#include</span> &lt;<span class="string">Servo.h</span>&gt; <span class="comment">// K羹t羹phane dahil etme</span></div>`
          },
          {
            title: 'Deikenler ve Veri Tipleri',
            description: 'Programda bilgi saklama',
            content: `
              <p class="mb-4">Deikenler, program覺m覺zda say覺lar, metinler veya durumlar gibi verileri saklamak i癟in kullan覺l覺r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>int:</b> Tam say覺lar i癟in kullan覺l覺r (-32,768 ile 32,767 aras覺).</li>
                <li><b>float:</b> Ondal覺kl覺 say覺lar i癟in kullan覺l覺r (rn: 23.45).</li>
                <li><b>bool:</b> Sadece true (doru) veya false (yanl覺) deerini al覺r.</li>
                <li><b>char:</b> Tek bir karakter saklar (rn: 'A').</li>
                <li><b>String:</b> Metin dizileri i癟in kullan覺l覺r (rn: "ArduMind").</li>
              </ul>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Sabitler</h4>
              <p class="mb-3">Arduino'da tan覺ml覺 繹zel deerlerdir.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>HIGH / LOW:</b> Dijital 1 (5V) ve 0 (0V).</li>
                <li><b>INPUT / OUTPUT:</b> Pin giri/癟覺k覺 modu.</li>
              </ul>

              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">5</span>;
<span class="keyword">float</span> sicaklik = <span class="number">25.5</span>;
<span class="keyword">bool</span> islemBasarili = <span class="keyword">true</span>;</div>`
          },
          {
            title: 'Diziler (Arrays)',
            description: 'oklu veri saklama',
            content: `
              <p class="mb-4">Ayn覺 t羹rdeki birden fazla veriyi tek bir deiken ad覺 alt覺nda saklamak i癟in kullan覺l覺r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">Dizi Tan覺mlama ve Eriim</h4>
              <div class="doc-code-block mb-4">
<span class="comment">// 5 elemanl覺 bir dizi tan覺mla</span>
<span class="keyword">int</span> notlar[<span class="number">5</span>] = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>};

<span class="comment">// 襤lk elemana eri (襤ndeks 0'dan balar)</span>
<span class="keyword">int</span> ilkNot = notlar[<span class="number">0</span>]; <span class="comment">// 10</span>

<span class="comment">// Eleman deitirme</span>
notlar[<span class="number">2</span>] = <span class="number">100</span>; <span class="comment">// 30 -> 100 oldu</span></div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">String ve Karakter Dizileri</h4>
              <p class="mb-3">Metinleri saklamak i癟in iki y繹ntem vard覺r:</p>
              
              <p class="mb-2 text-slate-300"><b>1. String Nesnesi:</b> Kullan覺m覺 kolayd覺r, haf覺zay覺 dinamik kullan覺r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">String</span> isim = <span class="string">"ArduMind"</span>;
<span class="keyword">String</span> mesaj = isim + <span class="string">" ile 繹ren"</span>;</div>

              <p class="mb-2 text-slate-300"><b>2. Karakter Dizisi (char array):</b> Haf覺za dostudur, C tabanl覺d覺r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">char</span> harfler[<span class="number">6</span>] = {'H', 'e', 'l', 'l', 'o', '\\0'};
<span class="comment">// '\\0' sonland覺r覺c覺 karakterdir</span></div>`
          },
          {
            title: 'Koul Yap覺lar覺 (if-else, switch)',
            description: 'Karar verme mekanizmalar覺',
            content: `
              <p class="mb-4">Program覺n belirli durumlara g繹re farkl覺 ilemler yapmas覺n覺 salar.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">if - else if - else</h4>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (sayac > <span class="number">10</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"B羹y羹k"</span>);
} <span class="keyword">else</span> {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"K羹癟羹k"</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">switch - case Yap覺s覺</h4>
              <p class="mb-3">Bir deikenin deerine g繹re dorudan ilgili koda dallan覺r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">switch</span> (mod) {
  <span class="keyword">case</span> <span class="number">1</span>:
    <span class="comment">// Mod 1 ilemleri</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">2</span>:
    <span class="comment">// Mod 2 ilemleri</span>
    <span class="keyword">break</span>;
  <span class="keyword">default</span>:
    <span class="comment">// Varsay覺lan ilem</span>
    <span class="keyword">break</span>;
}</div>

              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>break:</b> Her case sonunda gerekir, aksi halde bir sonraki case'e d羹er.</li>
                <li><b>T羹rler:</b> int, char veya enum kullan覺labilir. String kullan覺lamaz.</li>
                <li><b>default:</b> Hi癟bir case elemezse 癟al覺覺r.</li>
              </ul>
              
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> mod = <span class="number">0</span>;<br>
<span class="keyword">void</span> <span class="function">setup</span>() { <span class="function">pinMode</span>(<span class="number">13</span>, OUTPUT); }<br>
<span class="keyword">void</span> <span class="function">loop</span>() {<br>
  <span class="keyword">switch</span> (mod) {<br>
    <span class="keyword">case</span> <span class="number">0</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="keyword">break</span>;<br>
    <span class="keyword">case</span> <span class="number">1</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="function">delay</span>(<span class="number">500</span>); <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="function">delay</span>(<span class="number">500</span>); <span class="keyword">break</span>;<br>
    <span class="keyword">case</span> <span class="number">2</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="function">delay</span>(<span class="number">200</span>); <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="function">delay</span>(<span class="number">200</span>); <span class="keyword">break</span>;<br>
    <span class="keyword">default</span>: <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW); <span class="keyword">break</span>;<br>
  }<br>
  mod = (mod + <span class="number">1</span>) % <span class="number">3</span>;<br>
  <span class="function">delay</span>(<span class="number">1000</span>);<br>
}</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">Ternary (?) Operat繹r羹</h4>
              <p class="mb-3">K覺sa if-else kullan覺m覺d覺r.</p>
              <div class="doc-code-block mb-4">
<span class="comment">// (Koul) ? Doruysa : Yanl覺sa</span>
<span class="keyword">String</span> sonuc = (puan >= <span class="number">50</span>) ? <span class="string">"Ge癟ti"</span> : <span class="string">"Kald覺"</span>;</div>`
          },
          {
            title: 'D繹ng羹ler (Loops)',
            description: 'Tekrar eden ilemler',
            content: `
              <p class="mb-4">Ayn覺 kod blounu birden fazla kez 癟al覺t覺rmak i癟in kullan覺l覺r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">for D繹ng羹s羹</h4>
              <p class="mb-3">Belirli bir say覺da tekrar yapmak i癟in ideald覺r.</p>
              <div class="doc-code-block mb-4">
<span class="comment">// 0'dan 4'e kadar sayd覺r (toplam 5 kez 癟al覺覺r)</span>
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">5</span>; i++) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(i);
  <span class="function">delay</span>(<span class="number">1000</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">while D繹ng羹s羹</h4>
              <p class="mb-3">Koul doru olduu s羹rece 癟al覺覺r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">0</span>;
<span class="keyword">while</span> (sayac < <span class="number">5</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(sayac);
  sayac++;
  <span class="function">delay</span>(<span class="number">1000</span>);
}</div>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">do-while D繹ng羹s羹</h4>
              <p class="mb-3">En az bir kez 癟al覺覺r, sonra koulu kontrol eder.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sayac = <span class="number">0</span>;
<span class="keyword">do</span> {
  <span class="keyword">Serial</span>.<span class="function">println</span>(sayac);
  sayac++;
  <span class="function">delay</span>(<span class="number">1000</span>);
} <span class="keyword">while</span> (sayac < <span class="number">5</span>);</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">D繹ng羹 Kontrol 襤fadeleri</h4>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>break:</b> D繹ng羹y羹 an覺nda sonland覺r覺r ve d繹ng羹den 癟覺kar.</li>
                <li><b>continue:</b> D繹ng羹n羹n o anki ad覺m覺n覺 atlar ve bir sonraki ad覺ma ge癟er.</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">10</span>; i++) {
  <span class="keyword">if</span> (i == <span class="number">5</span>) <span class="keyword">break</span>;      <span class="comment">// 5 olunca d繹ng羹 biter</span>
  <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// ift say覺lar覺 atla</span>
  <span class="keyword">Serial</span>.<span class="function">println</span>(i);
}</div>`
          },
          {
            title: 'Fonksiyonlar',
            description: 'Yeniden kullan覺labilir kod bloklar覺',
            content: `
              <p class="mb-4">Fonksiyonlar, belirli bir g繹revi yerine getiren ve tekrar kullan覺labilen kod bloklar覺d覺r. Kodun okunabilirliini art覺r覺r ve tekrar覺 繹nler.</p>
              
              <h4 class="font-bold text-lg mb-2 text-purple-400">1. Deer D繹nd羹rmeyen, Parametre Almayan (void)</h4>
              <p class="mb-3">Sadece i癟indeki ilemleri yapar, d覺ar覺dan bilgi almaz ve geriye sonu癟 vermez.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">selamla</span>() {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"Merhaba!"</span>);
}</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">2. Deer D繹nd羹rmeyen, Parametre Alan</h4>
              <p class="mb-3">D覺ar覺dan bilgi al覺r (parametre), ilem yapar ama geriye sonu癟 d繹nd羹rmez.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">ledYak</span>(<span class="keyword">int</span> pin, <span class="keyword">int</span> sure) {
  <span class="function">digitalWrite</span>(pin, HIGH);
  <span class="function">delay</span>(sure);
  <span class="function">digitalWrite</span>(pin, LOW);
}

<span class="comment">// Kullan覺m覺:</span>
<span class="function">ledYak</span>(<span class="number">13</span>, <span class="number">1000</span>);</div>

              <h4 class="font-bold text-lg mb-2 text-purple-400">3. Deer D繹nd羹ren, Parametre Alan</h4>
              <p class="mb-3">D覺ar覺dan bilgi al覺r, ilem yapar ve sonucu geri d繹nd羹r羹r (return).</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> <span class="function">kareAl</span>(<span class="keyword">int</span> sayi) {
  <span class="keyword">return</span> sayi * sayi;
}

<span class="comment">// Kullan覺m覺:</span>
<span class="keyword">int</span> sonuc = <span class="function">kareAl</span>(<span class="number">5</span>); <span class="comment">// sonuc 25 olur</span></div>`
          },
          {
            title: 'Mant覺ksal Operat繹rler',
            description: 'Koullar覺 birletirme',
            content: `
              <p class="mb-4">Mant覺ksal operat繹rler, birden fazla koulu birletirmek i癟in kullan覺l覺r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>&& (AND):</b> 襤ki koul da doruysa sonu癟 doru olur.</li>
                <li><b>|| (OR):</b> 襤ki kouldan en az biri doruysa sonu癟 doru olur.</li>
                <li><b>! (NOT):</b> Koulun tersini al覺r.</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (sicaklik > <span class="number">20</span> && sicaklik < <span class="number">30</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"M羹kemmel s覺cakl覺k!"</span>);
}

<span class="keyword">if</span> (havaDurumu == <span class="string">"G羹neli"</span> || havaDurumu == <span class="string">"Kapal覺"</span>) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"D覺ar覺 癟覺kabilirsin!"</span>);
}

<span class="keyword">if</span> (!isParasut) {
  <span class="keyword">Serial</span>.<span class="function">println</span>(<span class="string">"Paras羹t a癟覺lmad覺!"</span>);
}</div>`
          }
        ]
      },
      basics: {
        title: 'Arduino Temelleri',
        icon: '',
        color: 'from-blue-500 to-blue-700',
        topics: [
          {
            title: 'setup() ve loop() Fonksiyonlar覺',
            description: 'Her Arduino program覺n覺n temel yap覺 talar覺',
            content: `
              <p class="mb-4">Arduino programlar覺 iki ana fonksiyondan oluur. Bu fonksiyonlar program覺n iskeletini oluturur ve biri olmadan dieri 癟al覺amaz.</p>
              
              <h4 class="font-bold text-lg mb-2 text-blue-400">setup() Fonksiyonu</h4>
              <p class="mb-3">Bu fonksiyon, Arduino'ya g羹癟 verildiinde veya resetlendiinde <b>sadece bir kez</b> 癟al覺覺r. Genellikle pin modlar覺n覺 ayarlamak, seri haberlemeyi balatmak veya k羹t羹phaneleri ilklendirmek i癟in kullan覺l覺r.</p>
              
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">setup</span>() {
  <span class="function">pinMode</span>(<span class="number">13</span>, OUTPUT);    <span class="comment">// 13. pini 癟覺k覺 yap</span>
  <span class="keyword">Serial</span>.<span class="function">begin</span>(<span class="number">9600</span>);   <span class="comment">// Haberlemeyi balat</span>
}</div>

              <h4 class="font-bold text-lg mb-2 text-blue-400">loop() Fonksiyonu</h4>
              <p class="mb-3">setup() fonksiyonu tamamland覺ktan hemen sonra 癟al覺maya balar ve Arduino a癟覺k olduu s羹rece <b>sonsuz bir d繹ng羹</b> i癟inde tekrar eder. Ana program mant覺覺 burada yer al覺r.</p>
              
              <div class="doc-code-block mb-4">
<span class="keyword">void</span> <span class="function">loop</span>() {
  <span class="function">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">// LED'i yak</span>
  <span class="function">delay</span>(<span class="number">1000</span>);          <span class="comment">// 1 saniye bekle</span>
  <span class="function">digitalWrite</span>(<span class="number">13</span>, LOW);  <span class="comment">// LED'i s繹nd羹r</span>
  <span class="function">delay</span>(<span class="number">1000</span>);          <span class="comment">// 1 saniye bekle</span>
}</div>`
          },
          {
            title: 'Deikenler ve Veri Tipleri',
            description: 'Verileri saklama ve y繹netme',
            content: `
              <p class="mb-4">Program i癟erisinde say覺lar覺, metinleri veya durumlar覺 saklamak i癟in deikenler kullan覺l覺r.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>int:</b> Tam say覺lar i癟in kullan覺l覺r (-32,768 ile 32,767 aras覺).</li>
                <li><b>float:</b> Ondal覺kl覺 say覺lar i癟in kullan覺l覺r (rn: 23.45).</li>
                <li><b>bool:</b> Sadece true (doru) veya false (yanl覺) deerini al覺r.</li>
                <li><b>char:</b> Tek bir karakter saklar (rn: 'A').</li>
                <li><b>String:</b> Metin dizileri i癟in kullan覺l覺r (rn: "ArduMind").</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> ledPin = <span class="number">13</span>;
<span class="keyword">float</span> sicaklik = <span class="number">25.5</span>;
<span class="keyword">bool</span> butonBasili = <span class="keyword">false</span>;</div>`
          }
        ]
      },
      digital: {
        title: 'Dijital Pin Kontrol',
        icon: '',
        color: 'from-yellow-500 to-orange-600',
        topics: [
          {
            title: 'pinMode() - Yap覺land覺rma',
            description: 'Pinleri giri veya 癟覺k覺 olarak ayarlama',
            content: `
              <p class="mb-4">Her dijital pin, kullan覺m amac覺na g繹re <b>INPUT</b> (Giri) veya <b>OUTPUT</b> (覺k覺) olarak ayarlanmal覺d覺r.</p>
              
              <h4 class="font-bold text-lg mb-2 text-yellow-400">OUTPUT Modu</h4>
              <p class="mb-3">Arduino'dan d覺ar覺ya ak覺m g繹ndermek i癟in kullan覺l覺r (LED yakmak, motor 癟al覺t覺rmak vb.).</p>
              
              <h4 class="font-bold text-lg mb-2 text-yellow-400">INPUT Modu</h4>
              <p class="mb-3">D覺ar覺dan gelen voltaj覺 okumak i癟in kullan覺l覺r (Buton okumak, sens繹r verisi almak vb.).</p>

              <h4 class="font-bold text-lg mb-2 text-yellow-400">INPUT_PULLUP Modu</h4>
              <p class="mb-3">Dahili direnci aktif ederek butonu harici diren癟siz kullanman覺z覺 salar. Buton bas覺ld覺覺nda 0 (LOW) d繹ner.</p>`
          },
          {
            title: 'digitalWrite() ve digitalRead()',
            description: 'Pinlere yazma ve pinlerden okuma',
            content: `
              <h4 class="font-bold text-lg mb-2 text-yellow-400">digitalWrite(pin, deger)</h4>
              <p class="mb-3">Bir pine 5V (HIGH) veya 0V (LOW) g繹nderir.</p>
              <div class="doc-code-block mb-4">digitalWrite(13, HIGH); <span class="comment">// 5V ver</span></div>

              <h4 class="font-bold text-lg mb-2 text-yellow-400">digitalRead(pin)</h4>
              <p class="mb-3">Bir pindeki voltaj覺n HIGH (5V) m覺 yoksa LOW (0V) mu olduunu okur.</p>
              <div class="doc-code-block mb-4">int durum = digitalRead(2); <span class="comment">// Pin 2'yi oku</span></div>`
          }
        ]
      },
      analog: {
        title: 'Analog 襤lemler',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        topics: [
          {
            title: 'analogRead() ve ADC Mant覺覺',
            description: 'Deiken voltajlar覺 dijital veriye d繹n羹t羹rme',
            content: `
              <p class="mb-4">Arduino Uno'da bulunan Analog-Dijital D繹n羹t羹r羹c羹 (ADC), 0V ile 5V aras覺ndaki voltaj覺 <b>0 ile 1023</b> aras覺nda bir say覺ya d繹n羹t羹r羹r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> sensorDegeri = <span class="function">analogRead</span>(A0);</div>
              <p class="mt-4 text-slate-300">rnein: 2.5V okunursa, fonksiyon yakla覺k 512 deerini d繹nd羹r羹r.</p>`
          },
          {
            title: 'PWM (analogWrite) ve Dimming',
            description: 'Sinyal genilik mod羹lasyonu ile g羹癟 kontrol羹',
            content: `
              <p class="mb-4">Arduino tam bir analog 癟覺k覺 veremez, ancak <b>PWM (Pulse Width Modulation)</b> teknii ile bunu taklit eder. Sinyali 癟ok h覺zl覺 a癟覺p kapatarak ortalama voltaj覺 deitirir.</p>
              <ul class="list-disc ml-6 mb-4 space-y-2">
                <li><b>0:</b> Her zaman KAPALI (0V)</li>
                <li><b>127:</b> %50 AIK - %50 KAPALI (Ortalama 2.5V)</li>
                <li><b>255:</b> Her zaman AIK (5V)</li>
              </ul>
              <div class="doc-code-block mb-4">
<span class="function">analogWrite</span>(<span class="number">9</span>, <span class="number">128</span>); <span class="comment">// LED'i %50 parlakl覺kta yak</span></div>`
          },
          {
            title: 'map() Fonksiyonu',
            description: 'Deer aral覺klar覺n覺 d繹n羹t羹rme',
            content: `
              <p class="mb-4">Bir aral覺ktaki deeri baka bir aral覺a oranlamak i癟in kullan覺l覺r. En yayg覺n kullan覺m覺 0-1023 (analog giri) deerini 0-255 (PWM 癟覺k覺) aral覺覺na 癟ekmektir.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">int</span> parlaklik = <span class="function">map</span>(sensorDegeri, <span class="number">0</span>, <span class="number">1023</span>, <span class="number">0</span>, <span class="number">255</span>);</div>`
          }
        ]
      },
      serial: {
        title: 'Seri Haberleme',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        topics: [
          {
            title: 'Serial.begin ve println',
            description: 'PC ile veri al覺verii',
            content: `
              <p class="mb-4">Debug ve telemetri i癟in seri haberleme kullan覺l覺r. Arduino, USB kablosu 羹zerinden bilgisayar覺n覺za metin g繹nderebilir.</p>
              <div class="doc-code-block mb-4">Serial.begin(9600);<br>Serial.println("Hata Ay覺klama Balad覺...");</div>
              <p class="text-slate-300"><b>nemli:</b> Baud h覺z覺n覺 (9600) Seri Monit繹r ekran覺 ile ayn覺 yapmal覺s覺n覺z.</p>`
          },
          {
            title: 'Serial.available() ve Read()',
            description: 'Bilgisayardan veri alma',
            content: `
              <p class="mb-4">Bilgisayardan Arduino'ya komut g繹ndermek i癟in kullan覺l覺r.</p>
              <div class="doc-code-block mb-4">
<span class="keyword">if</span> (<span class="keyword">Serial</span>.<span class="function">available</span>() > <span class="number">0</span>) {
  <span class="keyword">char</span> gelenVeri = <span class="keyword">Serial</span>.<span class="function">read</span>();
}</div>`
          }
        ]
      },
      interrupts: {
        title: 'Kesme (Interrupt)',
        icon: '',
        color: 'from-red-500 to-orange-600',
        topics: [
          {
            title: 'attachInterrupt Temelleri',
            description: 'D覺 tetikleyiciye h覺zl覺 tepki',
            content: `
              <p class="mb-4">Interrupt'lar (Kesmeler), ana program ne yaparsa yaps覺n, 繹nemli bir olay olduunda (bir butona bas覺lmas覺 gibi) program覺 durdurup 繹zel bir fonksiyonu 癟al覺t覺r覺r.</p>
              <div class="doc-code-block mb-4">attachInterrupt(digitalPinToInterrupt(2), isr, RISING);</div>
              <p class="text-slate-300"><b>RISING:</b> Voltaj 0'dan 5V'a 癟覺kt覺覺nda tetiklenir.</p>`
          }
        ]
      },
      timing: {
        title: 'Zamanlama',
        icon: '',
        color: 'from-slate-500 to-slate-700',
        topics: [
          {
            title: 'delay vs millis',
            description: 'Engelleyici olmayan yakla覺m',
            content: `
              <p class="mb-4"><b>delay():</b> Arduino'yu tamamen durdurur (bloklar). Bu s覺rada hi癟bir sens繹r okunamaz.</p>
              <p class="mb-4"><b>millis():</b> Arduino a癟覺ld覺覺ndan beri ge癟en milisaniyeyi d繹nd羹r羹r. Zamanlay覺c覺lar oluturmak i癟in idealdir.</p>
              
              <h4 class="font-bold text-lg mb-2 text-slate-400">millis() ile LED Yak覺p S繹nd羹rme (Bloklamas覺z)</h4>
              <div class="doc-code-block mb-4">
<span class="keyword">unsigned long</span> eskiZaman = <span class="number">0</span>;
<span class="keyword">const long</span> aralik = <span class="number">1000</span>; <span class="comment">// 1 saniye</span>

<span class="keyword">void</span> <span class="function">loop</span>() {
  <span class="keyword">unsigned long</span> yeniZaman = <span class="function">millis</span>();
  
  <span class="keyword">if</span> (yeniZaman - eskiZaman >= aralik) {
    eskiZaman = yeniZaman;
    <span class="comment">// 襤lem yap (rn: LED durumunu deitir)</span>
  }
}</div>`
          }
        ]
      },
      libraries: {
        title: 'K羹t羹phaneler ve Protokoller',
        icon: '',
        color: 'from-indigo-500 to-indigo-700',
        topics: [
          {
            title: 'Servo K羹t羹phanesi',
            description: 'A癟覺 kontrol羹',
            content: `
              <p class="mb-4">Servo motorlar覺 kolayca kontrol etmek i癟in kullan覺l覺r. 0 ile 180 derece aras覺 hassas kontrol salar.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#include</span> &lt;<span class="string">Servo.h</span>&gt;
<span class="keyword">Servo</span> motor;
motor.<span class="function">attach</span>(<span class="number">9</span>);
motor.<span class="function">write</span>(<span class="number">90</span>);</div>`
          },
          {
            title: 'I2C Protokol羹 (Wire)',
            description: '襤ki kablo ile haberleme',
            content: `
              <p class="mb-4">LCD ekranlar, ivme繹l癟erler ve bir癟ok sens繹r I2C kullan覺r. Sadece <b>SDA</b> ve <b>SCL</b> pinleri 羹zerinden onlarca cihazla konuabilirsiniz.</p>
              <div class="doc-code-block mb-4">
<span class="directive">#include</span> &lt;<span class="string">Wire.h</span>&gt;
<span class="keyword">Wire</span>.<span class="function">begin</span>(); <span class="comment">// Master olarak balat</span></div>`
          },
          {
            title: 'SPI Protokol羹',
            description: 'Y羹ksek h覺zl覺 haberleme',
            content: `
              <p class="mb-4">SD kart mod羹lleri ve RFID okuyucular gibi y羹ksek h覺z gerektiren donan覺mlar i癟in kullan覺l覺r.</p>
              <ul class="list-disc ml-6 space-y-1">
                <li><b>MOSI:</b> Veri 癟覺k覺覺</li>
                <li><b>MISO:</b> Veri girii</li>
                <li><b>SCK:</b> Saat sinyali</li>
              </ul>`
          }
        ]
      },
      best: {
        title: '襤yi Uygulamalar',
        icon: '',
        color: 'from-teal-500 to-teal-700',
        topics: [
          {
            title: 'Temiz Kod Prensipleri',
            description: 'Okunabilirlik ve bak覺m',
            content: `
              <p class="mb-4">Kodunuzun bakalar覺 taraf覺ndan anla覺lmas覺 i癟in u kurallara uyun:</p>
              <ul class="list-disc ml-6 space-y-2">
                <li>Anlaml覺 deiken isimleri se癟in (rn: <code>int x</code> yerine <code>int sensorDegeri</code>).</li>
                <li>Bol bol yorum sat覺r覺 ekleyin.</li>
                <li>S覺k kullan覺lan ilemleri fonksiyonlara b繹l羹n.</li>
              </ul>`
          }
        ]
      }
    };
    
    const modules = [
      {
        id: 'algoritma-temelleri',
        title: 'Algoritma Temelleri',
        description: 'Problem 癟繹zme mant覺覺, ak覺 diyagramlar覺 ve s繹zde kod',
        icon: '',
        color: 'from-orange-400 to-red-500',
        xpReward: 100,
        lessons: [
          { id: 'algoritma-nedir', title: 'Algoritma Nedir?', duration: '5 dk' },
          { id: 'akis-diyagramlari', title: 'Ak覺 Diyagramlar覺', duration: '10 dk' },
          { id: 'sozde-kod', title: 'S繹zde Kod (Pseudo-code)', duration: '10 dk' },
          { id: 'mantik-operat繹rleri', title: 'Mant覺ksal Operat繹rler', duration: '8 dk' }
        ]
      },
      {
        id: 'temel-yazilim',
        title: 'Temel Yaz覺l覺m Bilgileri',
        description: 'Deikenler, koullar, d繹ng羹ler ve fonksiyonlar',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        xpReward: 80,
        lessons: [
          { id: 'degiskenler', title: 'Deikenler ve Veri Tipleri', duration: '10 dk' },
          { id: 'kosullar', title: 'Koul Yap覺lar覺 (if-else)', duration: '12 dk' },
          { id: 'donguler', title: 'D繹ng羹ler (for, while)', duration: '15 dk' },
          { id: 'fonksiyonlar', title: 'Fonksiyonlar ve Parametreler', duration: '15 dk' }
        ]
      },
      {
        id: 'arduino-basics',
        title: 'Arduino Temelleri',
        description: 'Digital Pin Kullan覺m覺',
        icon: '',
        color: 'from-blue-500 to-purple-600',
        xpReward: 100,
        lessons: [
          { id: 'setup-loop', title: 'setup() ve loop() Fonksiyonlar覺', duration: '10 dk' },
          { id: 'pinmode', title: 'pinMode() ile Pin Yap覺land覺rma', duration: '15 dk' },
          { id: 'digitalwrite', title: 'digitalWrite() Kullan覺m覺', duration: '12 dk' }
        ]
      },
      {
        id: 'led-projects',
        title: 'LED Kontrol Projeleri',
        description: 'Yan覺p S繹nen LED',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        xpReward: 150,
        lessons: [
          { id: 'blink', title: 'LED Yak覺p S繹nd羹rme', duration: '8 dk' },
          { id: 'multiple-leds', title: 'oklu LED Kontrol羹', duration: '15 dk' },
          { id: 'led-pwm', title: 'PWM ile LED Parlakl覺覺 Kontrol羹', duration: '12 dk' },
          { id: 'led-seviyesi', title: 'LED Seviyesi G繹sterimi', duration: '15 dk' }
        ]
      },
      {
        id: 'button-control',
        title: 'Buton ve Sens繹rler',
        description: 'Dijital Giri 襤lemleri',
        icon: '',
        color: 'from-orange-500 to-red-600',
        xpReward: 120,
        lessons: [
          { id: 'button-read', title: 'Buton Okuma Temelleri', duration: '12 dk' },
          { id: 'button-led', title: 'Buton ile LED Kontrol羹', duration: '15 dk' },
          { id: 'pull-up-down', title: 'Pull-up ve Pull-down Diren癟ler', duration: '10 dk' },
          { id: 'button-state', title: 'Buton Durum Y繹netimi', duration: '12 dk' }
        ]
      },
      {
        id: 'analog-operations',
        title: 'Analog 襤lemler',
        description: 'Analog Giri ve PWM 覺k覺',
        icon: '',
        color: 'from-teal-500 to-cyan-600',
        xpReward: 180,
        lessons: [
          { id: 'analog-read', title: 'analogRead() ve ADC Mant覺覺', duration: '15 dk' },
          { id: 'analog-write', title: 'analogWrite() ve PWM', duration: '12 dk' },
          { id: 'potentiometer', title: 'Potansiyometre Kullan覺m覺', duration: '15 dk' },
          { id: 'map-func', title: 'map() Fonksiyonu ile Deer D繹n羹t羹rme', duration: '10 dk' }
        ]
      },
      {
        id: 'serial-communication',
        title: 'Seri Haberleme',
        description: 'PC ile Veri Al覺verii',
        icon: '',
        color: 'from-indigo-500 to-purple-600',
        xpReward: 150,
        lessons: [
          { id: 'serial-begin', title: 'Serial.begin() ve Balant覺 Kurma', duration: '10 dk' },
          { id: 'serial-print', title: 'Serial.print() ile Veri G繹nderme', duration: '12 dk' },
          { id: 'serial-read', title: 'Serial.read() ile Veri Alma', duration: '15 dk' },
          { id: 'serial-monitor', title: 'Seri Monit繹r Kullan覺m覺', duration: '8 dk' }
        ]
      },
      {
        id: 'motor-control',
        title: 'Motor Kontrol',
        description: 'DC Motor ve Servo Kontrol羹',
        icon: '',
        color: 'from-amber-500 to-orange-600',
        xpReward: 200,
        lessons: [
          { id: 'dc-motor', title: 'DC Motor Temelleri', duration: '15 dk' },
          { id: 'l298n-driver', title: 'L298N Motor S羹r羹c羹 Kullan覺m覺', duration: '18 dk' },
          { id: 'servo-basics', title: 'Servo Motor Temelleri', duration: '15 dk' },
          { id: 'servo-control', title: 'Servo Motor A癟覺 Kontrol羹', duration: '12 dk' }
        ]
      },
      {
        id: 'sensors-advanced',
        title: 'Gelimi Sens繹rler',
        description: 'Mesafe, Ses ve Hareket Sens繹rleri',
        icon: '',
        color: 'from-rose-500 to-red-600',
        xpReward: 220,
        lessons: [
          { id: 'hc-sr04', title: 'HC-SR04 Ultrasonik Mesafe Sens繹r羹', duration: '18 dk' },
          { id: 'pir-sensor', title: 'PIR Hareket Sens繹r羹', duration: '15 dk' },
          { id: 'sound-sensor', title: 'Ses Sens繹r羹 Kullan覺m覺', duration: '12 dk' },
          { id: 'temperature', title: 'S覺cakl覺k Sens繹r羹 (DS18B20)', duration: '20 dk' }
        ]
      },
      {
        id: 'libraries',
        title: 'K羹t羹phaneler',
        description: 'D覺 K羹t羹phanelerin Kullan覺m覺',
        icon: '',
        color: 'from-violet-500 to-fuchsia-600',
        xpReward: 160,
        lessons: [
          { id: 'library-basics', title: 'K羹t羹phane Temelleri', duration: '10 dk' },
          { id: 'servo-library', title: 'Servo K羹t羹phanesi', duration: '12 dk' },
          { id: 'wire-library', title: 'Wire (I2C) K羹t羹phanesi', duration: '15 dk' },
          { id: 'spi-library', title: 'SPI K羹t羹phanesi', duration: '15 dk' }
        ]
      },
      {
        id: 'timing-interrupts',
        title: 'Zamanlama ve Kesmeler',
        description: 'Engelleyici Olmayan Zamanlama',
        icon: '',
        color: 'from-slate-500 to-gray-600',
        xpReward: 190,
        lessons: [
          { id: 'delay-vs-millis', title: 'delay() vs millis()', duration: '15 dk' },
          { id: 'millis-timer', title: 'millis() ile Zamanlay覺c覺', duration: '18 dk' },
          { id: 'interrupts-basics', title: 'Kesmeler (Interrupts) Temelleri', duration: '15 dk' },
          { id: 'attach-interrupt', title: 'attachInterrupt() Kullan覺m覺', duration: '12 dk' }
        ]
      }
    ];

    const videoLessons = [
      { id: 'getting-started', title: 'Arduino Balang覺癟: Kurulum ve Blink', duration: '12 dk', url: 'https://www.youtube.com/results?search_query=arduino+blink+turkce', topic: 'Temeller' },
      { id: 'digital-write', title: 'digitalWrite ile LED Kontrol', duration: '10 dk', url: 'https://www.youtube.com/results?search_query=digitalWrite+arduino+turkce', topic: 'Dijital' },
      { id: 'button', title: 'Buton Okuma ve Pull-down', duration: '14 dk', url: 'https://www.youtube.com/results?search_query=arduino+buton+pull+down+turkce', topic: 'Dijital' },
      { id: 'analog', title: 'AnalogRead ve Potansiyometre', duration: '15 dk', url: 'https://www.youtube.com/results?search_query=arduino+analogRead+potansiyometre+turkce', topic: 'Analog' },
      { id: 'servo', title: 'Servo Motor Kontrol羹', duration: '13 dk', url: 'https://www.youtube.com/results?search_query=arduino+servo+turkce', topic: 'Servo' },
      { id: 'motor', title: 'PWM ve DC Motor', duration: '16 dk', url: 'https://www.youtube.com/results?search_query=arduino+pwm+dc+motor+turkce', topic: 'PWM' }
    ];

    const learningPath = [
      { 
        id: 'step-algorithm', 
        title: 'Algoritma Eitimi', 
        description: 'Kod yazmaya balamadan 繹nce d羹羹nme bi癟imimizi gelitirelim. Algoritma, bir problemi 癟繹zmek i癟in izlenen yol haritas覺d覺r.',
        docKey: 'algoritma-temelleri', 
        videoId: 'getting-started',
        quizId: 'algoritma-temelleri',
        algoBuilder: true,
        algorithm: 'BALA -> Problemi Tan覺mla -> Ad覺mlar覺 Belirle -> Koullar覺 Kontrol Et -> 繹z羹me Ula -> B襤T襤R',
        circuit: 'Sadece ka覺t, kalem ve zihniniz yeterli!'
      },
      { 
        id: 'step-0', 
        title: 'Temel Yaz覺l覺m Bilgileri', 
        description: 'Arduino ile 癟al覺madan 繹nce temel programlama kavramlar覺n覺 繹renelim: deikenler, koullar, d繹ng羹ler ve fonksiyonlar.',
        docKey: 'temel-yazilim', 
        videoId: 'getting-started',
        quizId: 'temel-yazilim',
        algorithm: 'REN -> Deikenler -> Koullar (if-else) -> D繹ng羹ler -> Fonksiyonlar -> PRAT襤K ET',
        circuit: 'Bilgisayar ve internet balant覺s覺 yeterlidir.'
      },
      { 
        id: 'step-1', 
        title: 'Kurulum ve Blink', 
        description: 'Arduino d羹nyas覺na ilk ad覺m! Yaz覺l覺m覺 kuraca覺z ve dahili LED\'i yak覺p s繹nd羹receiz.',
        docKey: 'basics', 
        videoId: 'getting-started',
        quizId: 'basics',
        algorithm: 'BALA -> Pin 13 覺k覺 Yap -> DNG: LED Yak -> 1sn Bekle -> LED S繹nd羹r -> 1sn Bekle -> DNG BAI',
        circuit: 'Arduino Uno -> USB Kablosu -> Dahili LED (Pin 13)'
      },
      { 
        id: 'step-2', 
        title: 'Dijital 覺k覺: LED', 
        description: 'Harici bir LED balayarak diren癟 kullan覺m覺n覺 ve dijital sinyalleri 繹reneceiz.',
        docKey: 'digital', 
        videoId: 'digital-write',
        quizId: 'digital',
        algorithm: 'BALA -> Pin 9 覺k覺 Yap -> DNG: Pin 9 HIGH -> Bekle -> Pin 9 LOW -> Bekle -> DNG BAI',
        circuit: 'Arduino Pin 9 -> 220 Ohm Diren癟 -> LED (+) | LED (-) -> GND'
      },
      { 
        id: 'step-3', 
        title: 'Dijital Giri: Buton', 
        description: 'Butonlar ile d覺 d羹nyadan veri almay覺 ve karar yap覺lar覺n覺 (if-else) kefedeceiz.',
        docKey: 'digital', 
        videoId: 'button',
        quizId: 'digital',
        algorithm: 'BALA -> Pin 2 Giri, Pin 13 覺k覺 -> DNG: Pin 2 OKU -> EER Bas覺l覺ysa LED Yak DE襤LSE S繹nd羹r -> DNG BAI',
        circuit: '5V -> Buton -> Pin 2 (10k Pull-down diren癟 ile GND\'ye bal覺)'
      },
      { 
        id: 'step-switch', 
        title: 'Switch-Case ile Mod Kontrol羹', 
        description: 'Birden fazla durumu d羹zenli ve okunakl覺 ekilde y繹netmeyi 繹ren.',
        docKey: 'temel-yazilim', 
        videoId: 'getting-started',
        quizId: 'temel-yazilim',
        algorithm: 'BALA -> Mod Oku -> SWITCH(mod): 0 Kapal覺, 1 Yava, 2 H覺zl覺 -> LED Kontrol -> DNG BAI',
        circuit: 'Arduino Pin 13 -> Dahili LED veya harici LED'
      },
      { 
        id: 'step-4', 
        title: 'Analog Giri: Potansiyometre', 
        description: 'S覺f覺r ve birin 繹tesine ge癟iyoruz! Deiken voltaj deerlerini okuyaca覺z.',
        docKey: 'basics', 
        videoId: 'analog',
        quizId: 'analog',
        algorithm: 'BALA -> Pin A0 Analog Giri -> DNG: A0 OKU -> Deeri Seri Porta Yaz -> Bekle -> DNG BAI',
        circuit: 'Potansiyometre: Sol Pin (GND), Orta Pin (A0), Sa Pin (5V)'
      },
      { 
        id: 'step-5', 
        title: 'Servo ve Hareket', 
        description: 'Harekete ge癟me vakti! Servo motoru istediimiz a癟覺ya d繹nd羹receiz.',
        docKey: 'basics', 
        videoId: 'servo',
        quizId: 'servo',
        algorithm: 'BALA -> Servo K羹t羹phanesi Ekle -> Pin 9 Servo Se癟 -> DNG: 0 Dereceye Git -> Bekle -> 180 Dereceye Git -> Bekle',
        circuit: 'Servo: Kahverengi (GND), K覺rm覺z覺 (5V), Turuncu (Pin 9)'
      },
      { 
        id: 'step-6', 
        title: 'PWM ve LED Parlakl覺覺', 
        description: 'LED\'lerin parlakl覺覺n覺 kademeli olarak deitirmeyi (Dimming) 繹reneceiz.',
        docKey: 'analog', 
        videoId: 'motor',
        quizId: 'analog',
        algorithm: 'BALA -> Pin 9 (PWM) 覺k覺 -> DNG: 0\'dan 255\'e kadar PARLAKLIK ARTTIR -> Bekle -> 255\'ten 0\'a PARLAKLIK AZALT',
        circuit: 'Arduino Pin 9 (PWM) -> 220 Ohm Diren癟 -> LED (+) | LED (-) -> GND'
      },
      { 
        id: 'step-7', 
        title: 'Seri Haberleme', 
        description: 'Arduino ile bilgisayar aras覺nda veri al覺verii yaparak sens繹r deerlerini ekranda g繹receiz.',
        docKey: 'basics', 
        videoId: 'getting-started',
        quizId: 'serial',
        algorithm: 'BALA -> Seri Haberleme Balat (9600 baud) -> DNG: "Merhaba D羹nya" Yaz -> 1sn Bekle',
        circuit: 'Arduino -> USB Kablosu -> Bilgisayar (Seri Port Ekran覺)'
      },
      { 
        id: 'step-8', 
        title: 'Mesafe Sens繹r羹 (HC-SR04)', 
        description: 'Ses dalgalar覺yla engel tespiti yapmay覺 繹reneceiz.',
        docKey: 'basics', 
        videoId: 'ultrasonic',
        quizId: 'sensors',
        algorithm: 'BALA -> Trig Pin 覺k覺, Echo Pin Giri -> DNG: Sinyal G繹nder -> S羹re l癟 -> Mesafeye evir -> Seri Porta Yaz',
        circuit: 'Trig: Pin 12, Echo: Pin 11, VCC: 5V, GND: GND'
      }
    ];

    const codeExamples = {
      blink: {
        name: "Yan覺p S繹nen LED",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(13, HIGH);\n  delay(1000);\n  digitalWrite(13, LOW);\n  delay(1000);\n}`
      },
      button: {
        name: "Buton Kontrol羹",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n  pinMode(2, INPUT);\n}\n\nvoid loop() {\n  int buttonState = digitalRead(2);\n  if (buttonState == HIGH) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n}`
      },
      motor: {
        name: "Motor Kontrol羹",
        code: `void setup() {\n  pinMode(9, OUTPUT);\n  pinMode(8, OUTPUT);\n  pinMode(7, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(8, HIGH);\n  digitalWrite(7, LOW);\n  analogWrite(9, 191);\n  delay(2000);\n  analogWrite(9, 0);\n  delay(1000);\n}`
      },
      servo: {
        name: "Servo Motor",
        code: `#include <Servo.h>\nServo servo;\n\nvoid setup() {\n  servo.attach(9);\n}\n\nvoid loop() {\n  servo.write(0);\n  delay(1000);\n  servo.write(90);\n  delay(1000);\n  servo.write(180);\n  delay(1000);\n}`
      },
      potentiometer: {
        name: "Potansiyometre ve LED",
        code: `void setup() {\n  pinMode(9, OUTPUT);\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  int deger = analogRead(A0);\n  int parlaklik = map(deger, 0, 1023, 0, 255);\n  analogWrite(9, parlaklik);\n  Serial.print("Pot: ");\n  Serial.print(deger);\n  Serial.print(" -> Parlaklik: ");\n  Serial.println(parlaklik);\n  delay(50);\n}`
      },
      ultrasonic: {
        name: "HC-SR04 Mesafe Sens繹r羹",
        code: `void setup() {\n  pinMode(12, OUTPUT); // Trig\n  pinMode(11, INPUT);  // Echo\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  digitalWrite(12, LOW);\n  delayMicroseconds(2);\n  digitalWrite(12, HIGH);\n  delayMicroseconds(10);\n  digitalWrite(12, LOW);\n\n  long sure = pulseIn(11, HIGH);\n  int mesafe = (sure * 0.034) / 2;\n\n  Serial.print("Mesafe: ");\n  Serial.print(mesafe);\n  Serial.println(" cm");\n  \n  if (mesafe < 20) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n  delay(200);\n}`
      },
      switch_modes: {
        name: "Switch-Case ile Modlar",
        code: `void setup() {\n  pinMode(13, OUTPUT);\n}\n\nint mod = 0;\n\nvoid loop() {\n  switch (mod) {\n    case 0:\n      digitalWrite(13, LOW);\n      break;\n    case 1:\n      digitalWrite(13, HIGH);\n      delay(500);\n      digitalWrite(13, LOW);\n      delay(500);\n      break;\n    case 2:\n      digitalWrite(13, HIGH);\n      delay(200);\n      digitalWrite(13, LOW);\n      delay(200);\n      break;\n    default:\n      digitalWrite(13, LOW);\n      break;\n  }\n  mod = (mod + 1) % 3;\n  delay(1000);\n}`
      }
    };

    const quizzes = [
      {
        id: 'algoritma-temelleri',
        title: 'Algoritma Temelleri',
        description: 'Problem 癟繹zme, ak覺 diyagramlar覺 ve mant覺ksal d羹羹nme',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-orange-400 to-red-500',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Algoritma nedir?',
            options: [
              'Bir problemin 癟繹z羹m羹 i癟in izlenen ad覺mlar',
              'Bir bilgisayar markas覺',
              'Sadece matematik problemleridir',
              'Bir programlama dilidir'
            ],
            correct: 0,
            explanation: 'Algoritma, belirli bir ii yapmak veya bir problemi 癟繹zmek i癟in tasarlanan mant覺ksal ad覺mlar b羹t羹n羹d羹r.'
          },
          {
            id: 2,
            question: 'Ak覺 diyagram覺nda "Ekenar D繹rtgen" neyi ifade eder?',
            options: ['Balang覺癟', '襤lem', 'Karar/Koul', 'Biti'],
            correct: 2,
            explanation: 'Ak覺 diyagramlar覺nda ekenar d繹rtgen (baklava dilimi), bir koulun kontrol edildii karar mekanizmalar覺n覺 temsil eder.'
          },
          {
            id: 3,
            question: 'S繹zde kod (Pseudo-code) yazman覺n temel amac覺 nedir?',
            options: [
              'Bilgisayarda 癟al覺t覺rmak',
              'Algoritmay覺 daha iyi anlamak ve planlamak',
              'Kodun h覺z覺n覺 art覺rmak',
              'Bellek tasarrufu salamak'
            ],
            correct: 1,
            explanation: 'S繹zde kod, programlama diline ge癟meden 繹nce algoritman覺n mant覺覺n覺 netletirmek i癟in kullan覺lan bir ara ad覺md覺r.'
          }
        ]
      },
      {
        id: 'temel-yazilim',
        title: 'Temel Yaz覺l覺m Bilgileri',
        description: 'Deikenler, koullar, d繹ng羹ler ve fonksiyonlar',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-purple-500 to-pink-600',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Bir tam say覺y覺 saklamak i癟in hangi veri tipi kullan覺l覺r?',
            options: ['float', 'int', 'bool', 'char'],
            correct: 1,
            explanation: 'int (integer - tam say覺) veri tipi -32,768 ile 32,767 aras覺nda tam say覺lar saklamak i癟in kullan覺l覺r.'
          },
          {
            id: 2,
            question: 'if-else yap覺s覺 ne i癟in kullan覺l覺r?',
            options: ['Tekrar eden ilemler', 'Karar verme', 'Veriler saklama', 'Fonksiyon tan覺mlama'],
            correct: 1,
            explanation: 'if-else yap覺lar覺, program覺n farkl覺 koullara g繹re farkl覺 davranmas覺n覺 salar.'
          },
          {
            id: 3,
            question: 'Belirli say覺da tekrar yapmak i癟in en uygun d繹ng羹 tipi hangisidir?',
            options: ['while', 'do-while', 'for', 'loop'],
            correct: 2,
            explanation: 'for d繹ng羹s羹, balang覺癟, biti ve art覺 deerleri belirli olduu durumlarda en uygun olan覺d覺r.'
          },
          {
            id: 4,
            question: 'Fonksiyonlar neden kullan覺l覺r?',
            options: ['Kodun tekrar kullan覺labilirliini art覺r覺r', 'Sadece karma覺k ilemler i癟in', 'Bellek kullan覺m覺n覺 art覺r覺r', 'Program覺 yavalat覺r'],
            correct: 0,
            explanation: 'Fonksiyonlar, ayn覺 kod blounu birden fazla kez kullanmam覺z覺 salar ve kodu daha organize hale getirir.'
          },
          {
            id: 5,
            question: '&& operat繹r羹 ne anlama gelir?',
            options: ['OR (veya)', 'AND (ve)', 'NOT (deil)', 'B繹lme'],
            correct: 1,
            explanation: '&& (AND) operat繹r羹, iki koul da doru olduu durumda sonucu true yapar.'
          }
        ]
      },
      {
        id: 'basics',
        title: 'Arduino Temelleri',
        description: 'setup(), loop() ve temel kavramlar',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-blue-500 to-blue-700',
        xpReward: 50,
        questions: [
          {
            id: 1,
            question: 'Arduino program覺nda setup() fonksiyonu ka癟 kez 癟al覺覺r?',
            options: ['Her loop d繹ng羹s羹nde', 'Sadece bir kez', '襤ki kez', 'Hi癟 癟al覺maz'],
            correct: 1,
            explanation: 'setup() fonksiyonu program balad覺覺nda sadece bir kez 癟al覺覺r ve balang覺癟 ayarlar覺n覺 yapar.'
          },
          {
            id: 2,
            question: 'loop() fonksiyonu ne zaman 癟al覺覺r?',
            options: ['Sadece balang覺癟ta', 'Setup\'tan sonra s羹rekli tekrar eder', 'Manuel olarak 癟a覺r覺l覺nca', 'Hi癟 癟al覺maz'],
            correct: 1,
            explanation: 'loop() fonksiyonu setup() bittikten sonra s羹rekli olarak tekrar eder. Bu Arduino\'nun ana 癟al覺ma prensibidir.'
          },
          {
            id: 3,
            question: 'pinMode(13, OUTPUT) komutu ne ie yarar?',
            options: ['13 numaral覺 pini okur', '13 numaral覺 pini 癟覺k覺 olarak ayarlar', '13 numaral覺 pini siler', 'LED yakar'],
            correct: 1,
            explanation: 'pinMode() fonksiyonu bir pini INPUT (giri) veya OUTPUT (癟覺k覺) olarak yap覺land覺r覺r.'
          }
        ]
      },
      {
        id: 'digital',
        title: 'Dijital Pin Kontrol羹',
        description: 'digitalWrite, digitalRead kullan覺m覺',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-yellow-500 to-orange-600',
        xpReward: 75,
        questions: [
          {
            id: 1,
            question: 'digitalWrite(13, HIGH) komutu ne yapar?',
            options: ['13 numaral覺 pini kapat覺r', '13 numaral覺 pini a癟ar (5V)', 'Pin 13\'羹 okur', 'Hi癟bir ey yapmaz'],
            correct: 1,
            explanation: 'digitalWrite(pin, HIGH) komutu belirtilen pine 5V voltaj uygular, LED gibi cihazlar覺 a癟mak i癟in kullan覺l覺r.'
          },
          {
            id: 2,
            question: 'LED yakmak i癟in hangi komut kullan覺l覺r?',
            options: ['analogWrite()', 'digitalRead()', 'digitalWrite()', 'pinMode()'],
            correct: 2,
            explanation: 'digitalWrite() komutu dijital pinleri HIGH veya LOW yapmak i癟in kullan覺l覺r. LED yakmak i癟in HIGH deeri kullan覺l覺r.'
          },
          {
            id: 3,
            question: 'delay(1000) komutu ne ie yarar?',
            options: ['1 saniye bekler', '1 milisaniye bekler', '1000 saniye bekler', 'Program覺 durdurur'],
            correct: 0,
            explanation: 'delay() fonksiyonu milisaniye cinsinden bekleme yapar. delay(1000) = 1 saniye bekler.'
          },
          {
            id: 4,
            question: 'Buton durumunu okumak i癟in hangi komut kullan覺l覺r?',
            options: ['digitalWrite()', 'pinMode()', 'digitalRead()', 'analogRead()'],
            correct: 2,
            explanation: 'digitalRead() fonksiyonu dijital pinlerin durumunu (HIGH veya LOW) okumak i癟in kullan覺l覺r.'
          }
        ]
      },
      {
        id: 'analog',
        title: 'Analog D羹nyas覺',
        description: 'analogRead, analogWrite ve Sens繹rler',
        difficulty: 'Orta',
        icon: '',
        color: 'from-green-500 to-emerald-600',
        xpReward: 100,
        questions: [
          {
            id: 1,
            question: 'analogRead() fonksiyonu hangi deer aral覺覺nda sonu癟 d繹nd羹r羹r?',
            options: ['0 - 1', '0 - 255', '0 - 1023', '0 - 5000'],
            correct: 2,
            explanation: 'Arduino\'nun 10-bit ADC\'si sayesinde analogRead() 0 ile 1023 aras覺nda bir deer d繹nd羹r羹r.'
          },
          {
            id: 2,
            question: 'PWM sinyali oluturmak i癟in hangi fonksiyon kullan覺l覺r?',
            options: ['analogRead()', 'digitalWrite()', 'analogWrite()', 'pwmWrite()'],
            correct: 2,
            explanation: 'analogWrite() fonksiyonu PWM destekleyen pinlerde analog benzeri bir 癟覺k覺 (0-255) oluturmak i癟in kullan覺l覺r.'
          },
          {
            id: 3,
            question: 'Potansiyometre Arduino\'nun hangi pinlerine balanmal覺d覺r?',
            options: ['Dijital Pinler', 'Analog Pinler (A0-A5)', 'Sadece GND ve 5V', 'Seri Port Pinleri'],
            correct: 1,
            explanation: 'Potansiyometre gibi deiken voltaj 羹reten elemanlar analog giri (A0-A5) pinlerine balan覺r.'
          }
        ]
      },
      {
        id: 'servo',
        title: 'Hareket ve Servolar',
        description: 'Servo k羹t羹phanesi ve a癟覺 kontrol羹',
        difficulty: 'Orta',
        icon: '',
        color: 'from-purple-500 to-indigo-600',
        xpReward: 120,
        questions: [
          {
            id: 1,
            question: 'Servo motoru kontrol etmek i癟in hangi k羹t羹phane eklenmelidir?',
            options: ['#include <Motor.h>', '#include <Servo.h>', '#include <Wire.h>', '#include <SPI.h>'],
            correct: 1,
            explanation: 'Arduino\'da standart servo motorlar覺 kontrol etmek i癟in Servo.h k羹t羹phanesi kullan覺l覺r.'
          },
          {
            id: 2,
            question: 'servo.write(90) komutu ne yapar?',
            options: ['Motoru 90 h覺z覺nda d繹nd羹r羹r', 'Motoru 90 derece a癟覺s覺na getirir', 'Motoru 90 saniye 癟al覺t覺r覺r', '90 numaral覺 pini a癟ar'],
            correct: 1,
            explanation: 'write() fonksiyonu servo motoru belirtilen dereceye (0-180 aras覺) konumland覺r覺r.'
          },
          {
            id: 3,
            question: 'Servo motorun turuncu kablosu genellikle nereye balan覺r?',
            options: ['GND', '5V', 'Sinyal (PWM) Pini', 'Vin'],
            correct: 2,
            explanation: 'Servolarda genellikle Kahverengi/Siyah: GND, K覺rm覺z覺: 5V, Turuncu/Sar覺: Sinyal pinidir.'
          }
        ]
      },
      {
        id: 'serial',
        title: 'Seri Haberleme',
        description: 'Bilgisayar ile veri al覺verii',
        difficulty: 'Kolay',
        icon: '',
        color: 'from-orange-500 to-red-600',
        xpReward: 80,
        questions: [
          {
            id: 1,
            question: 'Seri haberlemeyi balatmak i癟in setup() i癟inde hangi komut kullan覺l覺r?',
            options: ['Serial.begin(9600)', 'Serial.start()', 'Serial.open()', 'Serial.init()'],
            correct: 0,
            explanation: 'Serial.begin(baudrate) komutu seri haberlemeyi belirtilen h覺zda balat覺r.'
          },
          {
            id: 2,
            question: 'Ekrana bir sat覺r yaz覺 yaz覺p alt sat覺ra ge癟mek i癟in hangi komut kullan覺l覺r?',
            options: ['Serial.print()', 'Serial.write()', 'Serial.println()', 'Serial.send()'],
            correct: 2,
            explanation: 'println() komutu veriyi yazar ve ard覺ndan yeni bir sat覺ra ge癟er.'
          }
        ]
      },
      {
        id: 'sensors',
        title: 'Sens繹r Teknolojileri',
        description: 'Mesafe, s覺cakl覺k ve 覺覺k sens繹rleri',
        difficulty: 'Zor',
        icon: '',
        color: 'from-pink-500 to-rose-600',
        xpReward: 150,
        questions: [
          {
            id: 1,
            question: 'HC-SR04 mesafe sens繹r羹 hangi prensiple 癟al覺覺r?',
            options: ['Lazer', 'K覺z覺l繹tesi', 'Ultrasonik (Ses)', 'Radyo Dalgalar覺'],
            correct: 2,
            explanation: 'HC-SR04 ses dalgalar覺 g繹nderip yank覺s覺n覺 alarak mesafe 繹l癟er (Ultrasonik).'
          },
          {
            id: 2,
            question: 'LDR (I覺a Ba覺ml覺 Diren癟) karanl覺kta nas覺l bir diren癟 g繹sterir?',
            options: ['D羹羹k Diren癟', 'Y羹ksek Diren癟', 'Diren癟 G繹stermez', 'Sabit Diren癟'],
            correct: 1,
            explanation: 'LDR\'nin direnci 羹zerindeki 覺覺k miktar覺 azald覺k癟a (karanl覺kta) artar.'
          }
        ]
      }
    ];

    // ==================== HELPER FUNCTIONS ====================
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      const colors = {
        success: '#10B981',
        error: '#EF4444',
        info: '#3B82F6'
      };
      
      toast.innerHTML = message;
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: ${colors[type]};
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        z-index: 10000;
        font-weight: 500;
        animation: slideIn 0.3s ease-out;
      `;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease-out';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    function handleStart() {
      if (appState.currentUser) {
        navigateTo('dashboard');
      } else {
        appState.showAuthModal = true;
        appState.authMode = 'register';
        renderApp();
      }
    }

    function handleModuleClick(moduleId, isCompleted) {
      if (!isCompleted) {
        appState.currentModuleView = moduleId;
        renderApp();
      }
    }

    function handleAuthSubmit(event, form) {
      event.preventDefault();
      if (appState.authMode === 'login') {
        handleLogin(form.email.value, form.password.value);
      } else {
        handleRegister(
          form.name.value, 
          form.email.value, 
          form.password.value, 
          form.level.value, 
          form.goal.value
        );
      }
    }

    function handleQuizStart(quizId) {
      if (appState.currentUser) {
        startQuiz(quizId);
      } else {
        appState.showAuthModal = true;
        appState.authMode = 'register';
        renderApp();
      }
    }

    function handleAboutCTA() {
      navigateTo(appState.currentUser ? 'dashboard' : 'home');
    }

    function navigateTo(page) {
      const change = () => {
        appState.currentPage = page;
        if (page !== 'editor' && appState.simulationRunning) {
          stopSimulation();
        }
        renderApp();
      };
      if (document.startViewTransition) {
        document.startViewTransition(change);
      } else {
        change();
      }
    }

    function addActivity(text, icon, color) {
      if (!appState.currentUser) return;
      
      appState.currentUser.activities.unshift({
        text,
        icon,
        color,
        timestamp: new Date().toISOString()
      });
      
      if (appState.currentUser.activities.length > 20) {
        appState.currentUser.activities = appState.currentUser.activities.slice(0, 20);
      }
      saveAppState();
    }

    function addXP(amount, reason) {
      if (!appState.currentUser) return;
      
      appState.currentUser.xp += amount;
      
      const today = new Date().toISOString().split('T')[0];
      if (!appState.currentUser.dailyXP) appState.currentUser.dailyXP = {};
      appState.currentUser.dailyXP[today] = (appState.currentUser.dailyXP[today] || 0) + amount;
      
      addActivity(`${amount} XP kazand覺n! ${reason}`, '', 'blue');
      showToast(`+${amount} XP kazand覺n!`, 'success');
      saveAppState();
    }

    function getWeeklyProgress() {
      if (!appState.currentUser || !appState.currentUser.dailyXP) return [0, 0, 0, 0, 0, 0, 0];
      
      const today = new Date();
      const progress = [];
      
      for (let i = 6; i >= 0; i--) {
        const date = new Date(today);
        date.setDate(date.getDate() - i);
        const dateStr = date.toISOString().split('T')[0];
        const xp = appState.currentUser.dailyXP[dateStr] || 0;
        progress.push(xp);
      }
      
      return progress;
    }

    function getModuleProgress(moduleId) {
      if (!appState.currentUser) return 0;
      const completed = appState.currentUser.completedModules.find(m => m.moduleId === moduleId);
      return completed ? 100 : 0;
    }

    // ==================== AUTH FUNCTIONS ====================
    function handleLogin(email, password) {
      const user = appState.users.find(u => u.email === email && u.password === password);
      
      if (user) {
        appState.currentUser = user;
        appState.showAuthModal = false;
        appState.currentPage = 'dashboard';
        saveAppState();
        renderApp();
        showToast('Baar覺yla giri yapt覺n覺z!', 'success');
      } else {
        showToast('E-posta veya ifre hatal覺!', 'error');
      }
    }

    function handleRegister(name, email, password, level, goal) {
      if (appState.users.find(u => u.email === email)) {
        showToast('Bu e-posta adresi zaten kay覺tl覺!', 'error');
        return;
      }

      const newUser = {
        id: Date.now().toString(),
        name,
        email,
        password,
        level,
        goal,
        xp: 0,
        completedModules: [],
        activities: [],
        badges: [],
        dailyXP: {},
        createdAt: new Date().toISOString()
      };

      appState.users.push(newUser);
      appState.currentUser = newUser;
      appState.showAuthModal = false;
      appState.currentPage = 'dashboard';
      saveAppState();
      renderApp();
      showToast('Ho geldin! Arduino ser羹venine balayal覺m', 'success');
    }

    function logout() {
      appState.currentUser = null;
      appState.currentPage = 'home';
      saveAppState();
      renderApp();
    }

    // ==================== QUIZ FUNCTIONS ====================
    function startQuiz(quizId) {
      appState.currentQuiz = quizId;
      appState.quizAnswers = {};
      appState.quizCompleted = false;
      appState.quizScore = 0;
      renderApp();
    }

    function selectAnswer(questionId, answerIndex) {
      appState.quizAnswers[questionId] = answerIndex;
      renderApp();
    }

    function submitQuiz() {
      const quiz = quizzes.find(q => q.id === appState.currentQuiz);
      if (!quiz) return;
      
      let correctCount = 0;
      quiz.questions.forEach(question => {
        if (appState.quizAnswers[question.id] === question.correct) {
          correctCount++;
        }
      });
      
      appState.quizScore = correctCount;
      appState.quizCompleted = true;
      
      if (appState.currentUser) {
        const percentage = (correctCount / quiz.questions.length) * 100;
        if (percentage >= 70) {
          const xpEarned = Math.floor(quiz.xpReward * (percentage / 100));
          addXP(xpEarned, `"${quiz.title}" testi tamamland覺`);
          addActivity(`"${quiz.title}" testini tamamlad覺n! %${percentage.toFixed(0)} baar覺`, '', 'green');
        }
      }
      
      renderApp();
    }

    function resetQuiz() {
      appState.currentQuiz = null;
      appState.quizAnswers = {};
      appState.quizCompleted = false;
      appState.quizScore = 0;
      renderApp();
    }

    // ==================== MODULE FUNCTIONS ====================
    function completeModule(moduleId) {
      if (!appState.currentUser) return;
      
      const module = modules.find(m => m.id === moduleId);
      if (!module) return;
      
      const alreadyCompleted = appState.currentUser.completedModules.some(m => m.moduleId === moduleId);
      if (alreadyCompleted) {
        showToast('Bu mod羹l羹 zaten tamamlad覺n!', 'info');
        return;
      }
      
      appState.currentUser.completedModules.push({
        moduleId,
        completedAt: new Date().toISOString(),
        xpEarned: module.xpReward
      });
      
      addXP(module.xpReward, `"${module.title}" tamamland覺`);
      addActivity(`"${module.title}" mod羹l羹n羹 tamamlad覺n!`, '', 'green');
      
      appState.currentModuleView = null;
      renderApp();
    }

    // ==================== EDITOR FUNCTIONS ====================
    function loadExample(exampleKey) {
      if (codeExamples[exampleKey]) {
        appState.editorCode = codeExamples[exampleKey].code;
        if (appState.editorInstance) {
          appState.editorInstance.setValue(appState.editorCode);
        }
        stopSimulation();
        renderApp();
      }
    }
    
    function saveEditorCode() {
      try {
        saveAppState();
        showToast('Kodunuz basariyla kaydedildi!', 'success');
      } catch (e) {
        showToast('Gecerli kodu kaydetme islemi gerceklestirilemedi. Sorun ', 'error');
      }
    }
    
    function loadSavedEditorCode() {
      const saved = localStorage.getItem('ardumind_editor_code');
      if (saved !== null) {
        appState.editorCode = saved;
        if (appState.editorInstance) {
          appState.editorInstance.setValue(appState.editorCode);
        }
        stopSimulation();
        renderApp();
        showToast('Kay覺tl覺 kod y羹klendi', 'info');
      } else {
        showToast('Kay覺tl覺 kod bulunamad覺', 'error');
      }
    }
    
    function copyEditorCode() {
      if (navigator.clipboard && window.isSecureContext !== false) {
        navigator.clipboard.writeText(appState.editorCode)
          .then(() => showToast('Kod panoya kopyaland覺', 'success'))
          .catch(() => showToast('Kopyalama baar覺s覺z!', 'error'));
      } else {
        showToast('Kopyalama desteklenmiyor', 'error');
      }
    }
    
    function toggleEditorWrap() {
      appState.editorWrap = !appState.editorWrap;
      if (appState.editorInstance) {
        appState.editorInstance.setOption('lineWrapping', appState.editorWrap);
      }
      renderApp();
    }
    
    function handleEditorKeydown(e) {
      // Art覺k CodeMirror kullan覺yoruz, bu fonksiyona gerek kalmayabilir
    }

    function initEditor() {
      const container = document.getElementById('editorContainer');
      if (!container) return;

      if (appState.editorInstance) {
        // Eer edit繹r hala DOM i癟indeyse sadece yenile ve 癟覺k
        if (document.body.contains(appState.editorInstance.getWrapperElement())) {
          appState.editorInstance.refresh();
          return;
        }
        // Eer DOM'dan kopmusa (re-render), instance'覺 temizle
        appState.editorInstance = null;
      }

      appState.editorInstance = CodeMirror(container, {
        value: appState.editorCode,
        mode: 'text/x-c++src',
        theme: 'dracula',
        lineNumbers: true,
        autoCloseBrackets: true,
        styleActiveLine: true,
        tabSize: 2,
        indentUnit: 2,
        lineWrapping: appState.editorWrap
      });

      appState.editorInstance.on('change', (cm) => {
        appState.editorCode = cm.getValue();
        saveAppState();
      });

      // Font boyutunu ve tipini CSS ile ayarlad覺k ama burada da zorlayabiliriz
      appState.editorInstance.refresh();
    }

    function parseArduinoCode(code) {
      const lines = code.split('\n');
      const commands = [];
      
      for (let line of lines) {
        line = line.trim();
        
        const pinModeMatch = line.match(/pinMode\s*\(\s*(\d+)\s*,\s*(OUTPUT|INPUT)\s*\)/);
        if (pinModeMatch) {
          commands.push({ type: 'pinMode', pin: parseInt(pinModeMatch[1]), mode: pinModeMatch[2] });
        }
        
        const digitalWriteMatch = line.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
        if (digitalWriteMatch) {
          commands.push({ type: 'digitalWrite', pin: parseInt(digitalWriteMatch[1]), value: digitalWriteMatch[2] });
        }
        
        const analogWriteMatch = line.match(/analogWrite\s*\(\s*(\d+)\s*,\s*(\d+|\w+)\s*\)/);
        if (analogWriteMatch) {
          commands.push({ type: 'analogWrite', pin: parseInt(analogWriteMatch[1]), value: analogWriteMatch[2] });
        }

        const analogReadMatch = line.match(/(?:int\s+)?(\w+)\s*=\s*analogRead\s*\(\s*(A\d|\d+)\s*\)/);
        if (analogReadMatch) {
          commands.push({ type: 'analogRead', varName: analogReadMatch[1], pin: analogReadMatch[2] });
        }

        const pulseInMatch = line.match(/(?:long\s+)?(\w+)\s*=\s*pulseIn\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
        if (pulseInMatch) {
          commands.push({ type: 'pulseIn', varName: pulseInMatch[1], pin: parseInt(pulseInMatch[2]) });
        }

        const serialPrintlnMatch = line.match(/Serial\.println\s*\(\s*(.*)\s*\)/);
        if (serialPrintlnMatch) {
          commands.push({ type: 'serialPrintln', value: serialPrintlnMatch[1].trim() });
        }

        const serialPrintMatch = line.match(/Serial\.print\s*\(\s*(.*)\s*\)/);
        if (serialPrintMatch && !line.includes('println')) {
          commands.push({ type: 'serialPrintln', value: serialPrintMatch[1].trim() });
        }

        const serialBeginMatch = line.match(/Serial\.begin\s*\(\s*(\d+)\s*\)/);
        if (serialBeginMatch) {
          commands.push({ type: 'serialBegin', baud: parseInt(serialBeginMatch[1]) });
        }
        
        const servoWriteMatch = line.match(/servo\.write\s*\(\s*(\d+)\s*\)/);
        if (servoWriteMatch) {
          commands.push({ type: 'servoWrite', angle: parseInt(servoWriteMatch[1]) });
        }
        
        const delayMatch = line.match(/delay\s*\(\s*(\d+)\s*\)/);
        if (delayMatch) {
          commands.push({ type: 'delay', ms: parseInt(delayMatch[1]) });
        }

        const delayUsMatch = line.match(/delayMicroseconds\s*\(\s*(\d+)\s*\)/);
        if (delayUsMatch) {
          commands.push({ type: 'delay', ms: 1 }); // Sim羹lasyonda mikro saniyeyi 1ms yapal覺m
        }

        const mapMatch = line.match(/(?:int\s+)?(\w+)\s*=\s*map\s*\(\s*([^,]+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);
        if (mapMatch) {
          commands.push({ 
            type: 'map', 
            varName: mapMatch[1], 
            value: mapMatch[2].trim(),
            inMin: mapMatch[3], 
            inMax: mapMatch[4], 
            outMin: mapMatch[5], 
            outMax: mapMatch[6] 
          });
        }

        // Genel matematiksel atamalar: int x = y * 0.034 / 2;
        const mathMatch = line.match(/^(?:int|long|float|double)\s+(\w+)\s*=\s*([^;]+);/);
        if (mathMatch && !line.includes('analogRead') && !line.includes('digitalRead') && !line.includes('pulseIn') && !line.includes('map') && !line.includes('millis')) {
          commands.push({
            type: 'math',
            varName: mathMatch[1],
            expression: mathMatch[2].trim()
          });
        }
      }
      
      return commands;
    }
    
    function parseConditionalWrites(lines) {
      const commands = [];
      const varPinMap = {};
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        const assignMatch = line.match(/^(?:int|long|float)\s+(\w+)\s*=\s*(?:digitalRead|analogRead|pulseIn|map)\s*\(/) || line.match(/^(?:int|long|float)\s+(\w+)\s*=\s*.*;/);
        if (assignMatch) {
          // Deiken tan覺mlamalar覺n覺 takip etmiyoruz, sadece if i癟indeki deiken ad覺n覺 kullanaca覺z
          continue;
        }
        
        // Say覺sal kar覺lat覺rmalar (if (mesafe < 20)) veya Buton (if (buttonState == HIGH))
        const ifMatch = line.match(/^if\s*\(\s*(\w+)\s*(<|>|==|<=|>=|!=)\s*(\d+|HIGH|LOW)\s*\)\s*\{/);
        
        if (ifMatch) {
          const varName = ifMatch[1];
          const operator = ifMatch[2];
          const thresholdVal = ifMatch[3];
          
          let threshold = 0;
          if (thresholdVal === 'HIGH') threshold = 1;
          else if (thresholdVal === 'LOW') threshold = 0;
          else threshold = parseInt(thresholdVal);

          let j = i + 1;
          let braceDepth = 1;
          let pinIf = null, valIf = null;
          for (; j < lines.length; j++) {
            const l = lines[j].trim();
            if (l.includes('{')) braceDepth++;
            if (l.includes('}')) {
              braceDepth--;
              if (braceDepth === 0) { j++; break; }
            } else {
              const dw = l.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
              if (dw && pinIf === null) { pinIf = parseInt(dw[1]); valIf = dw[2]; }
            }
          }
          
          let pinElse = null, valElse = null;
          if (j < lines.length && lines[j] && lines[j].trim().startsWith('else')) {
            let k = j + 1;
            braceDepth = 0;
            if (lines[k] && lines[k].includes('{')) { braceDepth = 1; k++; }
            for (; k < lines.length; k++) {
              const l = lines[k].trim();
              if (l.includes('{')) braceDepth++;
              if (l.includes('}')) {
                braceDepth--;
                if (braceDepth === 0) { break; }
              } else {
                const dw = l.match(/digitalWrite\s*\(\s*(\d+)\s*,\s*(HIGH|LOW)\s*\)/);
                if (dw && pinElse === null) { pinElse = parseInt(dw[1]); valElse = dw[2]; }
              }
            }
          }
          
          const targetPin = pinIf ?? pinElse;
          if (targetPin != null) {
            // Eer deiken bir pin ile ilikiliyse (digitalRead), conditionPin kullan
            // Deilse (mesafe gibi), varName ve threshold kullan
            commands.push({ 
              type: 'conditionalWrite', 
              varName: varName,
              operator: operator,
              threshold: threshold,
              targetPin, 
              trueValue: valIf || 'LOW', 
              falseValue: valElse || 'LOW' 
            });
          }
        }
      }
      return commands;
    }

    function updateSimulationDisplay() {
      const arduinoBoard = document.getElementById('arduinoBoard');
      const serialMonitor = document.getElementById('serialMonitor');
      
      if (arduinoBoard) {
        arduinoBoard.innerHTML = renderArduinoBoard();
      }
      
      if (serialMonitor) {
        const scrollAtBottom = serialMonitor.scrollHeight - serialMonitor.scrollTop <= serialMonitor.clientHeight + 50;
        
        // Sadece kullan覺c覺 癟覺kt覺lar覺n覺 g繹sterelim (Serial.print)
        const displayLogs = appState.userSerialOutput.length > 0 ? appState.userSerialOutput : appState.serialOutput;
        
        serialMonitor.innerHTML = displayLogs.length === 0 
          ? `<div class="text-slate-500 text-center py-8">Kodu 癟al覺t覺r覺n...</div>` 
          : displayLogs.map(output => `
              <div class="mb-1 flex space-x-2">
                <span class="text-slate-600 text-[10px] mt-1">${output.timestamp || ''}</span>
                <span class="${output.type === 'error' ? 'text-red-400' : output.type === 'info' ? 'text-blue-400' : 'text-green-400'}">${output.text}</span>
              </div>
            `).join('');
        
        if (scrollAtBottom) {
          serialMonitor.scrollTop = serialMonitor.scrollHeight;
        }
      }
    }

    function renderArduinoBoard() {
      const hasServo = Object.keys(appState.servoStates).length > 0;
      const hasMotor = Object.keys(appState.motorStates).length > 0;
      
      return `
        <div class="grid grid-cols-4 sm:grid-cols-7 gap-3 mb-8">
          ${[13, 11, 10, 9, 6, 5, 3].map(pin => {
            const state = appState.ledStates[pin];
            const isOn = state === 'HIGH' || (typeof state === 'number' && state > 0);
            let intensity = 0;
            if (typeof state === 'number') {
              intensity = Math.min(Math.max(state / 255, 0), 1);
            } else if (state === 'HIGH') {
              intensity = 1;
            }
            
            // Parlakl覺k etkisini daha belirgin hale getirelim
            const glowSize = 5 + (intensity * 35);
            const glowOpacity = 0.2 + (intensity * 0.8);
            const ledOpacity = 0.3 + (intensity * 0.7);
            
            return `
              <div class="text-center group">
                <div 
                  class="w-10 h-10 rounded-full mx-auto mb-2 transition-all duration-150 relative border-2 ${isOn ? 'bg-yellow-400 border-yellow-300' : 'bg-slate-700 border-slate-600'}"
                  style="${isOn ? `box-shadow: 0 0 ${glowSize}px rgba(250,204,21,${glowOpacity}); opacity: ${ledOpacity}; transform: scale(${0.9 + intensity * 0.2});` : 'opacity: 0.4;'}"
                >
                  ${isOn ? `<div class="absolute inset-0 rounded-full animate-pulse bg-yellow-200 opacity-20"></div>` : ''}
                </div>
                <span class="text-[10px] font-bold ${isOn ? 'text-yellow-400' : 'text-slate-500'}">D${pin}${ [11, 10, 9, 6, 5, 3].includes(pin) ? '~' : '' }</span>
              </div>
            `;
          }).join('')}
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-6">
            <!-- Potansiyometre -->
            <div class="bg-gradient-to-br from-slate-800/40 to-slate-900/40 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm hover:border-blue-500/30 transition-all duration-300 shadow-[0_0_30px_rgba(0,0,0,0.3)]">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-3">
                  <div class="w-3 h-3 rounded-full bg-blue-500 shadow-[0_0_12px_rgba(59,130,246,0.8)] animate-pulse"></div>
                  <span class="text-sm font-semibold text-slate-200">Potansiyometre (A0)</span>
                </div>
                <div class="bg-blue-500/15 px-3 py-1.5 rounded-full border border-blue-500/40 backdrop-blur-sm">
                  <span class="text-[11px] font-mono font-bold text-blue-300">${appState.potValue}</span>
                  <span class="text-[10px] text-blue-500/70 ml-1">/ 1023</span>
                </div>
              </div>
              
              <!-- Ger癟ek癟i Potansiyometre G繹rseli -->
              <div class="flex flex-col items-center space-y-6">
                <!-- Potansiyometre D繹nme B繹l羹m羹 -->
                <div class="relative w-48 h-28 flex items-center justify-center">
                  <!-- Taban -->
                  <div class="absolute inset-0 bg-gradient-to-br from-slate-700 to-slate-900 rounded-2xl border-2 border-slate-600 shadow-lg shadow-inner">
                    <!-- Elektronik Alt Katman -->
                    <div class="absolute inset-3 bg-slate-800 rounded-lg border border-slate-700"></div>
                  </div>
                  
                  <!-- Balant覺 Pimleri -->
                  <div class="absolute bottom-0 left-0 right-0 flex justify-around pb-4">
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                    <div class="w-3 h-8 bg-slate-600 border-2 border-slate-500 rounded-t-sm shadow-lg"></div>
                  </div>
                  
                  <!-- Rotor (D繹nen K覺s覺m) -->
                  <div class="relative w-32 h-32">
                    <!-- D繹nen Disk -->
                    <div 
                      class="absolute inset-0 flex items-center justify-center" 
                      style="transform: rotate(${(appState.potValue/1023)*270}deg); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    >
                      <!-- D繹nen Kutu -->
                      <div class="w-24 h-8 bg-gradient-to-r from-slate-500 to-slate-700 rounded-xl border-2 border-slate-400 shadow-inner shadow-[inset_0_0_10px_rgba(0,0,0,0.5)]"></div>
                      <!-- D繹nme Kolu -->
                      <div class="absolute w-1.5 h-14 bg-gradient-to-b from-blue-400 to-blue-600 shadow-[0_0_15px_rgba(59,130,246,0.9)] rounded-full -top-14 z-10"></div>
                    </div>
                    <!-- Merkez Nokta -->
                    <div class="absolute inset-0 flex items-center justify-center">
                      <div class="w-8 h-8 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full border-2 border-slate-300 shadow-lg z-20">
                        <div class="absolute inset-1.5 bg-slate-800 rounded-full border border-slate-500"></div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Deer Bar覺 -->
                <div class="w-full space-y-2">
                  <div class="relative h-5 bg-slate-800/60 rounded-full overflow-hidden border-2 border-slate-700 shadow-inner">
                    <div 
                      class="h-full bg-gradient-to-r from-blue-300 via-blue-500 to-blue-700 shadow-[0_0_12px_rgba(59,130,246,0.7)] transition-all duration-200"
                      style="width: ${(appState.potValue/1023)*100}%"
                    ></div>
                    <!-- Y羹zey Ayd覺nl覺覺 -->
                    <div class="absolute top-0 left-0 w-full h-1.5 bg-white/30"></div>
                    <!-- Deer 襤ndikat繹r羹 -->
                    <div 
                      class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]" 
                      style="left: ${(appState.potValue/1023)*100 - 0.375}%; transition: left 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    ></div>
                  </div>
                  <div class="flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-wider">
                    <span>0V</span>
                    <span class="text-blue-400 font-bold">${((appState.potValue/1023)*5).toFixed(1)}V</span>
                    <span>5V</span>
                  </div>
                </div>
                
                <!-- Ak覺 Kontrol -->
                <input 
                  type="range" min="0" max="1023" value="${appState.potValue}" 
                  class="w-full h-2 bg-transparent appearance-none cursor-pointer accent-blue-500"
                  oninput="appState.potValue = parseInt(this.value); updateSimulationDisplay();"
                  style="
                    background: linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(appState.potValue/1023)*100}%, #475569 ${(appState.potValue/1023)*100}%, #475569 100%);
                    border-radius: 9999px;
                    border: 1px solid #334155;
                  "
                >
              </div>
            </div>

            <!-- HC-SR04 Sens繹r -->
            <div class="bg-gradient-to-br from-slate-800/40 to-slate-900/40 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm hover:border-emerald-500/30 transition-all duration-300 shadow-[0_0_30px_rgba(0,0,0,0.3)]">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-3">
                  <div class="w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.8)] animate-pulse"></div>
                  <span class="text-sm font-semibold text-slate-200">HC-SR04 Mesafe Sens繹r羹</span>
                </div>
                <div class="bg-emerald-500/15 px-3 py-1.5 rounded-full border border-emerald-500/40 backdrop-blur-sm">
                  <span class="text-[11px] font-mono font-bold text-emerald-300">${appState.hcsr04Distance} cm</span>
                </div>
              </div>
              
              <!-- HC-SR04 G繹rseli -->
              <div class="flex flex-col items-center space-y-6">
                <!-- Sens繹r G繹sterimi -->
                <div class="relative w-72 h-40">
                  <!-- HC-SR04 Cihaz覺 -->
                  <div class="absolute left-1/2 -translate-x-1/2 w-56 h-20 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl border-2 border-slate-600 shadow-xl shadow-inner">
                    <!-- Sens繹r Y羹z羹 -->
                    <div class="absolute inset-2 bg-slate-800 rounded-lg flex items-center justify-around">
                      <!-- Ultrasonik Transd羹serler -->
                      <div class="w-12 h-12 bg-gradient-to-br from-slate-900 to-slate-800 rounded-full border-2 border-slate-600 flex items-center justify-center shadow-inner">
                        <div class="w-7 h-7 bg-slate-700 rounded-full border border-slate-600 shadow-[inset_0_0_6px_rgba(0,0,0,0.8)]"></div>
                        <!-- Transd羹ser Ayd覺nl覺覺 -->
                        <div class="absolute inset-0 rounded-full bg-emerald-500/10 animate-pulse"></div>
                      </div>
                      <div class="w-12 h-12 bg-gradient-to-br from-slate-900 to-slate-800 rounded-full border-2 border-slate-600 flex items-center justify-center shadow-inner">
                        <div class="w-7 h-7 bg-slate-700 rounded-full border border-slate-600 shadow-[inset_0_0_6px_rgba(0,0,0,0.8)]"></div>
                        <!-- Transd羹ser Ayd覺nl覺覺 -->
                        <div class="absolute inset-0 rounded-full bg-emerald-500/10 animate-pulse"></div>
                      </div>
                      <!-- Sens繹r Etiketi -->
                      <div class="absolute bottom-3 left-1/2 -translate-x-1/2 text-[9px] font-bold text-slate-500">HC-SR04</div>
                    </div>
                    
                    <!-- Balant覺 Pimleri -->
                    <div class="absolute right-0 top-1/2 -translate-y-1/2 flex flex-col space-y-2 mr-3">
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                      <div class="w-2 h-4 bg-slate-600 border border-slate-500 rounded-sm"></div>
                    </div>
                  </div>
                  
                  <!-- Ultrasonik Dalga Animasyonu -->
                  <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none">
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-40" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-30" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.2s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-20" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.4s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                    <div 
                      class="absolute border-2 border-emerald-400 rounded-full opacity-10" 
                      style="animation: waveAnimation ${appState.hcsr04Distance/40}s infinite 0.6s; width: ${appState.hcsr04Distance/1.5}px; height: ${appState.hcsr04Distance/1.5}px; margin-left: -${appState.hcsr04Distance/3}px; margin-top: -${appState.hcsr04Distance/3}px;"
                    ></div>
                  </div>
                  
                  <!-- Hedef Nokta -->
                  <div class="absolute right-8 top-1/2 -translate-y-1/2 w-8 h-8 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full shadow-[0_0_15px_rgba(16,185,129,0.9)] flex items-center justify-center border-2 border-emerald-300">
                    <div class="w-3 h-3 bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.9)]"></div>
                    <!-- Hedef Etiketi -->
                    <div class="absolute bottom-[-16px] left-1/2 -translate-x-1/2 text-[9px] font-bold text-emerald-300">Hedef</div>
                  </div>
                </div>
                
                <!-- Mesafe Bar覺 -->
                <div class="w-full space-y-2">
                  <div class="relative h-5 bg-slate-800/60 rounded-full overflow-hidden border-2 border-slate-700 shadow-inner">
                    <div 
                      class="h-full bg-gradient-to-r from-emerald-300 via-emerald-500 to-emerald-700 shadow-[0_0_12px_rgba(16,185,129,0.7)] transition-all duration-200"
                      style="width: ${(appState.hcsr04Distance/400)*100}%"
                    ></div>
                    <!-- Y羹zey Ayd覺nl覺覺 -->
                    <div class="absolute top-0 left-0 w-full h-1.5 bg-white/30"></div>
                    <!-- Hedef 襤areti -->
                    <div 
                      class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]" 
                      style="left: ${(appState.hcsr04Distance/400)*100 - 0.375}%; transition: left 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);"
                    ></div>
                  </div>
                  <div class="flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-wider">
                    <span>2 cm</span>
                    <span class="text-emerald-400 font-bold">${appState.hcsr04Distance} cm</span>
                    <span>400 cm</span>
                  </div>
                </div>
                
                <!-- Ak覺 Kontrol -->
                <input 
                  type="range" min="2" max="400" value="${appState.hcsr04Distance}" 
                  class="w-full h-2 bg-transparent appearance-none cursor-pointer accent-emerald-500"
                  oninput="appState.hcsr04Distance = parseInt(this.value); updateSimulationDisplay();"
                  style="
                    background: linear-gradient(to right, #10b981 0%, #10b981 ${(appState.hcsr04Distance/400)*100}%, #475569 ${(appState.hcsr04Distance/400)*100}%, #475569 100%);
                    border-radius: 9999px;
                    border: 1px solid #334155;
                  "
                >
              </div>
            </div>

            <!-- Butonlar -->
            <div class="flex gap-4">
              <button 
                onclick="toggleButton(2)"
                class="flex-1 group relative overflow-hidden py-3 px-4 rounded-2xl border transition-all duration-300 ${appState.buttonStates[2] ? 'bg-indigo-500/20 border-indigo-500/50 text-indigo-300 shadow-[0_0_20px_rgba(99,102,241,0.15)]' : 'bg-slate-800/40 border-slate-700/50 text-slate-400 hover:bg-slate-700/60'}"
              >
                <div class="relative z-10 flex items-center justify-center space-x-3">
                  <div class="w-2 h-2 rounded-full transition-all duration-300 ${appState.buttonStates[2] ? 'bg-indigo-400 shadow-[0_0_8px_rgba(129,140,248,0.8)]' : 'bg-slate-600'}"></div>
                  <span class="text-sm font-bold uppercase tracking-wide">Buton (Pin 2)</span>
                </div>
                ${appState.buttonStates[2] ? '<div class="absolute inset-0 bg-indigo-500/10 animate-pulse"></div>' : ''}
              </button>
            </div>
          </div>

          <div class="space-y-6">
            ${hasMotor ? `
              <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700/50 backdrop-blur-sm shadow-xl">
                <div class="flex items-center justify-between mb-6">
                  <div class="flex items-center space-x-3">
                    <div class="w-2.5 h-2.5 rounded-full bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.6)] animate-pulse"></div>
                    <span class="text-sm font-bold text-slate-200 tracking-wide uppercase">DC Motor Kontrol羹</span>
                  </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  ${Object.entries(appState.motorStates).map(([pin, _]) => {
                    const speed = Math.min((appState.displayMotorStates[pin] || 0) / 255, 1);
                    const rpm = Math.round(speed * 12000);
                    const angle = appState.motorAngles[pin] || 0;
                    const isRunning = speed > 0.01;
                    
                    return `
                      <div class="bg-slate-900/60 p-5 rounded-2xl border border-slate-700/40 text-center transition-all duration-300 hover:border-amber-500/30 group">
                        <div class="relative w-20 h-20 mx-auto mb-4">
                          <!-- Motor D覺 Kasa -->
                          <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-slate-700 to-slate-800 border-2 border-slate-600 shadow-lg"></div>
                          <!-- Motor n Kapak -->
                          <div class="absolute inset-2 rounded-full bg-slate-800 border border-slate-700 shadow-inner flex items-center justify-center">
                            <!-- Mil -->
                            <div class="w-4 h-4 rounded-full bg-slate-600 border-2 border-slate-500 z-20"></div>
                            
                            <!-- Pervane (Minimal) -->
                            <div 
                              class="absolute inset-0 flex items-center justify-center" 
                              style="transform: rotate(${angle}deg); filter: ${speed > 0.7 ? 'blur(1px)' : 'none'};"
                            >
                              <div class="w-[85%] h-1.5 bg-gradient-to-r from-transparent via-slate-400 to-transparent rounded-full opacity-90"></div>
                              <div class="w-1.5 h-[85%] bg-gradient-to-b from-transparent via-slate-400 to-transparent rounded-full absolute opacity-90"></div>
                            </div>
                          </div>
                        </div>
                        
                        <div class="space-y-1">
                          <div class="text-[10px] font-black text-slate-500 tracking-[0.2em] uppercase">P襤N ${pin}</div>
                          <div class="flex items-center justify-center space-x-2">
                            <div class="text-xl font-mono font-black ${isRunning ? 'text-amber-400' : 'text-slate-600'} transition-colors duration-300">
                              ${rpm} <span class="text-[10px] text-slate-500">RPM</span>
                            </div>
                          </div>
                          <!-- H覺z Bar覺 -->
                          <div class="w-full h-1 bg-slate-800 rounded-full mt-2 overflow-hidden">
                            <div class="h-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]" style="width: ${speed * 100}%; transition: width 0.1s linear;"></div>
                          </div>
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            ` : ''}

            ${hasServo ? `
              <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700/50 backdrop-blur-sm shadow-xl">
                <div class="flex items-center justify-between mb-6">
                  <div class="flex items-center space-x-3">
                    <div class="w-2.5 h-2.5 rounded-full bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.6)] animate-pulse"></div>
                    <span class="text-sm font-bold text-slate-200 tracking-wide uppercase">Servo Kontrol羹</span>
                  </div>
                </div>
                <div class="space-y-6">
                  ${Object.entries(appState.servoStates).map(([pin, angle]) => `
                    <div class="bg-slate-900/60 p-6 rounded-2xl border border-slate-700/40 flex items-center space-x-8 transition-all duration-300 hover:border-rose-500/30">
                      <div class="relative w-24 h-24 flex-shrink-0 group">
                        <!-- Servo Alt G繹vde -->
                        <div class="absolute inset-x-2 bottom-0 h-16 bg-slate-800 rounded-lg border-2 border-slate-700 shadow-lg"></div>
                        <!-- Servo st Kapak -->
                        <div class="absolute top-4 left-1/2 -translate-x-1/2 w-16 h-16 bg-slate-700 rounded-full border-2 border-slate-600 shadow-md flex items-center justify-center">
                          <div class="w-12 h-12 bg-slate-800 rounded-full border border-slate-700 shadow-inner"></div>
                        </div>
                        
                        <!-- Horn (Minimal & Modern) -->
                        <div 
                          class="absolute top-1/2 left-1/2 w-1.5 h-20 bg-gradient-to-b from-slate-200 to-slate-400 origin-center transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) z-10 rounded-full shadow-md"
                          style="transform: translate(-50%, -50%) rotate(${angle}deg);"
                        >
                          <div class="absolute top-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rounded-full border-2 border-slate-300 shadow-sm"></div>
                          <div class="absolute bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rounded-full border-2 border-slate-300 shadow-sm"></div>
                        </div>
                        
                        <!-- Merkez Vidas覺 -->
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-slate-600 rounded-full border-2 border-slate-500 z-20 shadow-lg flex items-center justify-center">
                          <div class="w-1 h-3 bg-slate-400 rounded-full rotate-45"></div>
                          <div class="w-1 h-3 bg-slate-400 rounded-full -rotate-45 absolute"></div>
                        </div>
                      </div>
                      
                      <div class="flex-1 space-y-3">
                        <div class="flex items-end justify-between">
                          <div>
                            <div class="text-[10px] font-black text-slate-500 tracking-[0.2em] uppercase mb-1">P襤N ${pin} POZ襤SYON</div>
                            <div class="text-4xl font-black text-rose-500 font-mono tracking-tighter leading-none">${angle}<span class="text-xl ml-1 text-rose-500/50">簞</span></div>
                          </div>
                          <div class="text-[10px] font-bold text-slate-400 bg-slate-800 px-3 py-1 rounded-full border border-slate-700">
                            ${angle < 60 ? 'SOL' : angle > 120 ? 'SA' : 'MERKEZ'}
                          </div>
                        </div>
                        
                        <!-- A癟覺 G繹stergesi -->
                        <div class="relative pt-4">
                          <div class="w-full h-2 bg-slate-800 rounded-full overflow-hidden border border-slate-700/50">
                            <div class="h-full bg-gradient-to-r from-rose-600 to-rose-400 transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) shadow-[0_0_12px_rgba(244,63,94,0.4)]" style="width: ${(angle/180)*100}%"></div>
                          </div>
                          <div class="flex justify-between mt-2 text-[9px] font-black text-slate-600 tracking-widest">
                            <span>0簞</span>
                            <span>90簞</span>
                            <span>180簞</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            ` : ''}
          </div>
        </div>
      `;
    }

    function logToSerial(text, type = 'info', isUser = false) {
      const log = { type, text, timestamp: new Date().toLocaleTimeString().split(' ')[0] };
      appState.serialOutput.push(log);
      if (isUser) {
        appState.userSerialOutput.push(log);
      }
      updateSimulationDisplay();
    }

    function validateCode(code) {
      if (!code || code.trim() === '') {
        return { valid: false, message: 'Kod bo olamaz!' };
      }
      
      if (!code.includes('void setup()')) {
        return { valid: false, message: 'setup() fonksiyonu eksik!' };
      }
      
      if (!code.includes('void loop()')) {
        return { valid: false, message: 'loop() fonksiyonu eksik!' };
      }
      
      // Temel parantez kontrol羹
      const openBraces = (code.match(/\{/g) || []).length;
      const closeBraces = (code.match(/\}/g) || []).length;
      if (openBraces !== closeBraces) {
        return { valid: false, message: 'Eksik veya fazla s羹sl羹 parantez { } hatas覺!' };
      }
      
      return { valid: true };
    }

    function runSimulation() {
      if (appState.simulationRunning) {
        stopSimulation();
        return;
      }
      
      const validation = validateCode(appState.editorCode);
      if (!validation.valid) {
        showToast(validation.message, 'error');
        appState.serialOutput = [{ type: 'error', text: validation.message }];
        updateSimulationDisplay();
        return;
      }

      appState.simulationRunning = true;
      appState.ledStates = {};
      appState.motorStates = {};
      appState.displayMotorStates = {};
      appState.motorAngles = {};
      appState.servoStates = {};
      appState.serialInitialized = false;
      appState.serialOutput = [];
      appState.userSerialOutput = [];
      
      try {
        const commands = parseArduinoCode(appState.editorCode);
        
        if (commands.length === 0) {
          logToSerial('al覺t覺r覺labilir komut bulunamad覺!', 'error');
          appState.simulationRunning = false;
          return;
        }
        
        logToSerial('Sim羹lasyon balat覺ld覺...', 'info');
        
        const variables = {
          'HIGH': 1,
          'LOW': 0
        };

        commands.filter(c => c.type === 'pinMode').forEach(cmd => {
          if (cmd.mode === 'OUTPUT') {
            appState.ledStates[cmd.pin] = 'LOW';
          }
        });

        // setup() i癟indeki Serial.begin ve dier komutlar覺 癟al覺t覺r
        let setupCommands = [];
        let inSetup = false;
        appState.editorCode.split('\n').forEach(line => {
          if (line.includes('void setup()')) inSetup = true;
          else if (inSetup && line.includes('}')) inSetup = false;
          else if (inSetup) setupCommands.push(line);
        });

        const setupParsed = parseArduinoCode(setupCommands.join('\n'));
        setupParsed.forEach(cmd => {
          if (cmd.type === 'serialBegin') {
            appState.serialInitialized = true;
            logToSerial(`Seri haberleme ${cmd.baud} baud h覺z覺nda balat覺ld覺.`, 'info');
          } else if (cmd.type === 'digitalWrite') {
            appState.ledStates[cmd.pin] = cmd.value;
          } else if (cmd.type === 'analogWrite') {
            appState.ledStates[cmd.pin] = parseInt(cmd.value) || 0;
          }
        });
        
        let loopCommands = [];
        let inLoop = false;
        
        appState.editorCode.split('\n').forEach(line => {
          if (line.includes('void loop()')) inLoop = true;
          else if (inLoop && line.includes('}')) inLoop = false;
          else if (inLoop) loopCommands.push(line);
        });
        
        let commandIndex = 0;
        const loopText = loopCommands.join('\n');
        let loopParsed = parseArduinoCode(loopText);
        const condWrites = parseConditionalWrites(loopCommands);
        if (condWrites.length > 0) {
          loopParsed = loopParsed.filter(c => c.type !== 'digitalWrite');
          loopParsed = condWrites.concat(loopParsed);
        }
        
        function executeNextCommand() {
          if (!appState.simulationRunning) return;
          
          if (commandIndex >= loopParsed.length) {
            commandIndex = 0;
          }
          
          const cmd = loopParsed[commandIndex];
        if (!cmd) {
          commandIndex = 0;
          appState.simulationInterval = setTimeout(executeNextCommand, 20);
          return;
        }

        if (cmd.type === 'map') {
          let val = cmd.value;
          if (variables[val] !== undefined) val = variables[val];
          else val = parseInt(val) || 0;

          const inMin = parseInt(cmd.inMin);
          const inMax = parseInt(cmd.inMax);
          const outMin = parseInt(cmd.outMin);
          const outMax = parseInt(cmd.outMax);

          const result = Math.round((val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin);
          variables[cmd.varName] = result;
          logToSerial(`Map: ${val} -> ${result}`, 'info');
        } else if (cmd.type === 'math') {
          let expression = cmd.expression || `${cmd.left} ${cmd.op} ${cmd.right}`;
          
          // Deikenleri ger癟ek deerlerle deitir
          for (const [varName, varValue] of Object.entries(variables)) {
            const regex = new RegExp(`\\b${varName}\\b`, 'g');
            expression = expression.replace(regex, varValue);
          }
          
          try {
            // Basit hesaplamalar i癟in g羹venli deerlendirme
            // Sadece say覺lar, operat繹rler ve basit matematiksel fonksiyonlar
            const safeExpr = expression.replace(/[^0-9+\-*/(). ]/g, '');
            const result = Math.round(eval(safeExpr));
            variables[cmd.varName] = result;
            logToSerial(`Math: ${expression} -> ${result}`, 'info');
          } catch (error) {
            logToSerial(`Math Hatas覺: ${expression}`, 'error');
          }
        } else if (cmd.type === 'digitalWrite') {
            appState.ledStates[cmd.pin] = cmd.value;
            logToSerial(`Pin ${cmd.pin}: ${cmd.value}`, 'info');
          } else if (cmd.type === 'analogWrite') {
            let val = cmd.value;
            if (variables[val] !== undefined) val = variables[val];
            else val = parseInt(val) || 0;
            
            appState.ledStates[cmd.pin] = val; // LED parlakl覺覺 i癟in kullanaca覺z
            appState.motorStates[cmd.pin] = val;
            logToSerial(`Analog Write Pin ${cmd.pin}: ${val}`, 'info');
          } else if (cmd.type === 'analogRead') {
            const val = appState.potValue;
            variables[cmd.varName] = val;
            logToSerial(`Analog Read Pin ${cmd.pin}: ${val}`, 'info');
          } else if (cmd.type === 'pulseIn') {
            // HC-SR04 Mesafe hesaplama: mesafe = (s羹re * 0.034) / 2
            // Tersine: s羹re = (mesafe * 2) / 0.034
            const duration = Math.round((appState.hcsr04Distance * 2) / 0.034);
            variables[cmd.varName] = duration;
            logToSerial(`PulseIn Pin ${cmd.pin}: ${duration} us`, 'info');
          } else if (cmd.type === 'serialBegin') {
            appState.serialInitialized = true;
            logToSerial(`Seri haberleme ${cmd.baud} baud h覺z覺nda balat覺ld覺.`, 'info');
          } else if (cmd.type === 'serialPrintln') {
            // Serial.begin olmadan da 癟覺kt覺 verelim, ger癟ek Arduino'da b繹yle olmayacak ama kullan覺c覺 deneyimi i癟in daha iyi
            let val = cmd.value;
            // Deiken mi yoksa string mi kontrol et
            if (val.startsWith('"') && val.endsWith('"')) {
              val = val.substring(1, val.length - 1);
            } else {
              // Deikenleri deerlerle deitir
              for (const [varName, varValue] of Object.entries(variables)) {
                const regex = new RegExp(`\\b${varName}\\b`, 'g');
                val = val.replace(regex, varValue);
              }
              // Eer hala deiken varsa deerini al
              if (variables[val] !== undefined) {
                val = variables[val];
              }
            }
            logToSerial(val, 'success', true);
          } else if (cmd.type === 'servoWrite') {
            appState.servoStates[9] = cmd.angle;
            logToSerial(`Servo A癟覺: ${cmd.angle}簞`, 'info');
          } else if (cmd.type === 'digitalReadAssign') {
            const val = appState.buttonStates[cmd.pin] ? 1 : 0;
            variables[cmd.varName] = val;
            logToSerial(`Read Pin ${cmd.pin}: ${val ? 'HIGH' : 'LOW'}`, 'info');
          } else if (cmd.type === 'conditionalWrite') {
            let conditionMet = false;
            if (cmd.conditionPin) {
              // Buton koulu
              const pressed = !!appState.buttonStates[cmd.conditionPin];
              conditionMet = pressed;
            } else if (cmd.varName && variables[cmd.varName] !== undefined) {
              // Mesafe veya dier deiken koulu
              const varValue = variables[cmd.varName];
              const threshold = cmd.threshold || 0;
              const operator = cmd.operator || '==';
              
              switch (operator) {
                case '<': conditionMet = varValue < threshold; break;
                case '>': conditionMet = varValue > threshold; break;
                case '==': conditionMet = varValue == threshold; break;
                case '<=': conditionMet = varValue <= threshold; break;
                case '>=': conditionMet = varValue >= threshold; break;
                case '!=': conditionMet = varValue != threshold; break;
              }
            }
            
            const value = conditionMet ? cmd.trueValue : cmd.falseValue;
            appState.ledStates[cmd.targetPin] = value;
            logToSerial(`${cmd.varName || 'Buton'} ${cmd.operator || '=='} ${cmd.threshold || (cmd.conditionPin ? 'HIGH' : 'LOW')}: ${conditionMet} - Pin ${cmd.targetPin}: ${value}`, 'info');
          }
          
          commandIndex++;
          
          const nextCmd = loopParsed[commandIndex];
          const delay = (nextCmd && nextCmd.type === 'delay') ? nextCmd.ms : 20;
          
          if (nextCmd && nextCmd.type === 'delay') {
            commandIndex++;
          }
          
          appState.simulationInterval = setTimeout(executeNextCommand, delay);
        }
        
        executeNextCommand();
        
      } catch (error) {
        logToSerial('Hata: ' + error.message, 'error');
        appState.simulationRunning = false;
      }
      
      updateSimulationDisplay();
      const runBtn = document.querySelector('button[onclick="runSimulation()"]');
      if (runBtn) {
        runBtn.className = `px-4 py-1 rounded-lg font-medium bg-red-500 hover:bg-red-600 text-white transition-all text-sm`;
        runBtn.textContent = 'Durdur';
      }
    }

    function clearSerial() {
      appState.serialOutput = [];
      updateSimulationDisplay();
    }

    function resetSimulation() {
      stopSimulation();
      appState.ledStates = {};
      appState.motorStates = {};
      appState.servoStates = {};
      appState.serialOutput = [];
      updateSimulationDisplay();
      showToast('Sim羹lasyon s覺f覺rland覺', 'info');
    }

    function stopSimulation() {
      appState.simulationRunning = false;
      if (appState.simulationInterval) {
        clearTimeout(appState.simulationInterval);
        appState.simulationInterval = null;
      }
      appState.ledStates = {};
      appState.motorStates = {};
      appState.displayMotorStates = {};
      appState.motorAngles = {};
      appState.servoStates = {};
      appState.serialOutput.push({ type: 'info', text: 'Sim羹lasyon durduruldu.' });
      
      renderApp();
    }

    function toggleButton(pin) {
      appState.buttonStates[pin] = !appState.buttonStates[pin];
      updateSimulationDisplay();
    }

    // ==================== ALGORITMA TASARIMCISI ====================
    function addAlgoNode(type) {
      const nodeTypes = {
        start: { label: 'BALA', color: 'from-green-500 to-green-600', shape: 'rounded-full' },
        process: { label: '襤LEM', color: 'from-blue-500 to-blue-600', shape: 'rounded-lg' },
        decision: { label: 'KARAR', color: 'from-orange-500 to-orange-600', shape: 'rounded-2xl rotate-45' },
        switch: { label: 'SWITCH', color: 'from-yellow-500 to-yellow-600', shape: 'rounded-lg border-2 border-dashed' },
        input: { label: 'G襤R襤', color: 'from-purple-500 to-purple-600', shape: 'rounded-lg skew-x-12' },
        output: { label: 'IKI', color: 'from-indigo-500 to-indigo-600', shape: 'rounded-lg skew-x-12' },
        end: { label: 'B襤T襤R', color: 'from-red-500 to-red-600', shape: 'rounded-full' }
      };

      const newNode = {
        id: Date.now(),
        type: type,
        text: nodeTypes[type].label,
        x: 100,
        y: 100 + (appState.flowchartNodes.length * 80),
        ...nodeTypes[type]
      };
      
      appState.flowchartNodes.push(newNode);
      renderApp();
    }

    function removeAlgoNode(id) {
      appState.flowchartNodes = appState.flowchartNodes.filter(n => n.id !== id);
      appState.flowchartConnections = appState.flowchartConnections.filter(c => c.from !== id && c.to !== id);
      renderApp();
    }

    function startAlgoConnection(id) {
      appState.algoConnectingFrom = id;
      renderApp();
    }

    function endAlgoConnection(id) {
      if (appState.algoConnectingFrom && appState.algoConnectingFrom !== id) {
        // Ayn覺 balant覺dan varsa ekleme
        const exists = appState.flowchartConnections.find(c => c.from === appState.algoConnectingFrom && c.to === id);
        if (!exists) {
          appState.flowchartConnections.push({
            id: Date.now(),
            from: appState.algoConnectingFrom,
            to: id
          });
        }
      }
      appState.algoConnectingFrom = null;
      renderApp();
    }

    function removeAlgoConnection(id) {
      appState.flowchartConnections = appState.flowchartConnections.filter(c => c.id !== id);
      renderApp();
    }

    function updateAlgoNodeText(id, text) {
      const node = appState.flowchartNodes.find(n => n.id === id);
      if (node) node.text = text;
      // renderApp 癟a覺rm覺yoruz ki input oda覺n覺 kaybetmesin
    }

    function renderAlgoBuilder() {
      return `
        ${renderNavbar()}
        <div class="h-[calc(100vh-4rem)] flex overflow-hidden">
          <!-- Sol Panel: ekiller -->
          <div class="w-64 bg-slate-800 border-r border-slate-700 p-6 space-y-6 overflow-y-auto">
            <h2 class="text-xl font-bold text-white mb-4">ekiller</h2>
            <div class="space-y-4">
              <button onclick="addAlgoNode('start')" class="w-full p-4 bg-gradient-to-r from-green-500 to-green-600 rounded-full text-xs font-bold hover:scale-105 transition-all shadow-lg">BALAT</button>
              <button onclick="addAlgoNode('process')" class="w-full p-4 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-xs font-bold hover:scale-105 transition-all shadow-lg">襤LEM / ATAMA</button>
              <button onclick="addAlgoNode('decision')" class="w-full p-4 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl text-xs font-bold hover:scale-105 transition-all shadow-lg">KARAR (IF)</button>
              <button onclick="addAlgoNode('switch')" class="w-full p-4 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg border-2 border-dashed text-xs font-bold hover:scale-105 transition-all shadow-lg">SWITCH - CASE</button>
              <button onclick="addAlgoNode('input')" class="w-full p-4 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg skew-x-12 text-xs font-bold hover:scale-105 transition-all shadow-lg">VER襤 G襤R襤襤</button>
              <button onclick="addAlgoNode('output')" class="w-full p-4 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg skew-x-12 text-xs font-bold hover:scale-105 transition-all shadow-lg">VER襤 IKII</button>
              <button onclick="addAlgoNode('end')" class="w-full p-4 bg-gradient-to-r from-red-500 to-red-600 rounded-full text-xs font-bold hover:scale-105 transition-all shadow-lg">DURDUR / B襤T襤R</button>
            </div>
            
            <div class="pt-8 border-t border-slate-700">
              <h3 class="text-sm font-bold text-slate-400 mb-4 uppercase tracking-wider">Balant覺lar</h3>
              <div class="space-y-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar">
                ${appState.flowchartConnections.length === 0 ? '<p class="text-xs text-slate-500 italic">Hen羹z balant覺 yok</p>' : ''}
                ${appState.flowchartConnections.map(conn => {
                  const from = appState.flowchartNodes.find(n => n.id === conn.from);
                  const to = appState.flowchartNodes.find(n => n.id === conn.to);
                  return `
                    <div class="flex items-center justify-between bg-slate-700/50 p-2 rounded text-[10px] text-slate-300 group">
                      <span class="truncate w-32">${from?.text || '...'}  ${to?.text || '...'}</span>
                      <button onclick="removeAlgoConnection(${conn.id})" class="text-red-400 opacity-0 group-hover:opacity-100 transition-opacity"></button>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>

            <div class="pt-8 border-t border-slate-700">
              <h3 class="text-sm font-bold text-slate-400 mb-4 uppercase tracking-wider">Yard覺m</h3>
              <ul class="text-xs text-slate-500 space-y-2">
                <li> ekilleri s羹r羹kleyerek yerlerini deitirebilirsiniz.</li>
                <li> zerlerine t覺klayarak metni g羹ncelleyebilirsiniz.</li>
                <li> Sa 羹stteki 'X' ile silebilirsiniz.</li>
              </ul>
            </div>
          </div>

          <!-- Ana Panel: al覺ma Alan覺 -->
          <div class="flex-1 bg-slate-900 relative overflow-hidden" id="algoCanvas" 
               onmousemove="if(appState.algoDraggingNode) { 
                 const node = appState.flowchartNodes.find(n => n.id === appState.algoDraggingNode);
                 if(node) {
                   node.x = event.clientX - 320; 
                   node.y = event.clientY - 100;
                   const el = document.getElementById('node-' + node.id);
                   if(el) { el.style.left = node.x + 'px'; el.style.top = node.y + 'px'; }
                   // Balant覺lar覺 g羹ncelle
                   renderConnectionsSVG();
                 }
               }"
               onmouseup="appState.algoDraggingNode = null;">
            
            <!-- Izgara Arkaplan覺 -->
            <div class="absolute inset-0 opacity-10 pointer-events-none" 
                 style="background-image: radial-gradient(#64748b 1px, transparent 1px); background-size: 30px 30px;"></div>
            
            <!-- SVG Balant覺 Katman覺 -->
            <svg id="algoSVG" class="absolute inset-0 w-full h-full pointer-events-none" style="z-index: 10;">
              <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                  <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
                </marker>
              </defs>
              <g id="connectionsGroup"></g>
            </svg>

            <div class="absolute top-6 left-6 z-10">
              <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">Algoritma Tasar覺mc覺s覺</h1>
              <p class="text-slate-500 text-sm">Mant覺ksal ad覺mlar覺n覺z覺 g繹rselletirin</p>
            </div>

            <div class="absolute top-6 right-6 z-10 flex space-x-3">
              <button onclick="appState.flowchartNodes = []; appState.flowchartConnections = []; renderApp();" class="px-4 py-2 bg-slate-800 text-slate-300 rounded-lg text-sm border border-slate-700 hover:bg-slate-700 transition-all">Temizle</button>
              <button onclick="window.print()" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all">Kaydet / Yazd覺r</button>
            </div>

            <!-- D羹羹mler -->
            ${appState.flowchartNodes.map(node => {
              const isConnecting = appState.algoConnectingFrom === node.id;
              return `
              <div 
                id="node-${node.id}"
                class="absolute cursor-move group transition-shadow hover:shadow-2xl"
                style="left: ${node.x}px; top: ${node.y}px; z-index: 20;"
                onmousedown="appState.algoDraggingNode = ${node.id}; event.stopPropagation();"
              >
                <!-- Balant覺 Noktalar覺 -->
                <!-- st Nokta: Buraya Bala (Hedef) -->
                <div 
                  onclick="event.stopPropagation(); endAlgoConnection(${node.id})"
                  class="absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-700 border-2 border-slate-600 rounded-full cursor-crosshair hover:bg-green-500 hover:border-green-400 transition-all z-30 flex items-center justify-center"
                  title="Buraya Bala"
                >
                  <div class="w-1 h-1 bg-white rounded-full"></div>
                </div>

                <!-- Alt Nokta: Balant覺 Balat (Kaynak) -->
                <div 
                  onclick="event.stopPropagation(); startAlgoConnection(${node.id})"
                  class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-700 border-2 border-slate-600 rounded-full cursor-crosshair hover:bg-blue-500 hover:border-blue-400 transition-all z-30 flex items-center justify-center ${isConnecting ? 'bg-blue-500 border-blue-400 animate-pulse' : ''}"
                  title="Balant覺 Balat"
                >
                  <div class="w-1 h-1 bg-white rounded-full"></div>
                </div>

                <div class="relative w-40 h-16 flex items-center justify-center">
                  <div class="absolute inset-0 bg-gradient-to-br ${node.color} ${node.shape} shadow-xl border border-white/20"></div>
                  
                  <!-- Metin Alan覺 -->
                  <input 
                    type="text" 
                    value="${node.text}" 
                    oninput="updateAlgoNodeText(${node.id}, this.value)"
                    class="relative z-10 w-32 bg-transparent text-center text-white font-bold text-xs focus:outline-none placeholder-white/50"
                    placeholder="Ad覺m yaz..."
                    onmousedown="event.stopPropagation();"
                  />

                  <!-- Silme Butonu -->
                  <button 
                    onclick="removeAlgoNode(${node.id})"
                    class="absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20"
                  ></button>
                </div>
              </div>
            `}).join('')}
          </div>
        </div>
      `;
    }

    function renderConnectionsSVG() {
      const g = document.getElementById('connectionsGroup');
      if (!g) return;
      
      let html = '';
      appState.flowchartConnections.forEach(conn => {
        const fromNode = appState.flowchartNodes.find(n => n.id === conn.from);
        const toNode = appState.flowchartNodes.find(n => n.id === conn.to);
        
        if (fromNode && toNode) {
          const x1 = fromNode.x + 80; // 160/2
          const y1 = fromNode.y + 64; // Alt nokta
          const x2 = toNode.x + 80;
          const y2 = toNode.y;       // st nokta
          
          // Yumuak kavisli 癟izgi (B矇zier)
          const midY = (y1 + y2) / 2;
          const path = `M ${x1} ${y1} C ${x1} ${midY}, ${x2} ${midY}, ${x2} ${y2}`;
          
          html += `
            <g class="connection-group" onclick="event.stopPropagation();">
              <path d="${path}" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)" class="hover:stroke-red-500 transition-colors cursor-pointer" onclick="removeAlgoConnection(${conn.id})" />
            </g>
          `;
        }
      });
      g.innerHTML = html;
    }

    // ==================== RENDER FUNCTIONS ====================
    function renderNavbar() {
      return `
        <nav class="sticky top-0 z-50 backdrop-blur-sm bg-slate-800 bg-opacity-90 border-b border-slate-700">
          <div class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
              <!-- Sol: Logo ve 襤sim -->
              <div class="flex items-center space-x-2 cursor-pointer flex-shrink-0" onclick="navigateTo('home')">
                <img src="images/logo.png" alt="ArduMind" class="w-9 h-9 rounded-xl object-contain shadow-md" />
                <span class="text-xl font-bold tracking-tight">ArduMind</span>
              </div>

              <!-- Orta: Navigasyon Sekmeleri -->
              <div class="hidden xl:flex flex-1 justify-center items-center px-4">
                <div class="flex items-center space-x-5 text-sm font-medium">
                  <a href="#" onclick="navigateTo('home')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'home' ? 'text-blue-400' : ''}">Kefet</a>
                  <a href="#" onclick="navigateTo('components')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'components' ? 'text-blue-400' : ''}">Elemanlar</a>
                  <a href="#" onclick="navigateTo('docs')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'docs' ? 'text-blue-400' : ''}">Dok羹mantasyon</a>
                  <a href="#" onclick="navigateTo('videos')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'videos' ? 'text-blue-400' : ''}">Videolar</a>
                  <a href="#" onclick="navigateTo('algo-builder')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'algo-builder' ? 'text-blue-400' : ''}">Algoritma</a>
                  <a href="#" onclick="navigateTo('path')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'path' ? 'text-blue-400' : ''}">renme Yolu</a>
                  <a href="#" onclick="navigateTo('arduino')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'arduino' ? 'text-blue-400' : ''}">Arduino</a>
                  <a href="#" onclick="navigateTo('quiz')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'quiz' ? 'text-blue-400' : ''}">Testler</a>
                  <a href="#" onclick="navigateTo('about')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'about' ? 'text-blue-400' : ''}">Hakk覺nda</a>
                  ${appState.currentUser ? `
                    <a href="#" onclick="navigateTo('dashboard')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'dashboard' ? 'text-blue-400' : ''}">Eitimim</a>
                    <a href="#" onclick="navigateTo('editor')" class="text-slate-300 hover:text-white transition-colors ${appState.currentPage === 'editor' ? 'text-blue-400' : ''}">Edit繹r</a>
                  ` : ''}
                </div>
              </div>

              <!-- Sa: Profil ve 覺k覺 -->
              <div class="flex items-center space-x-4 flex-shrink-0">
                ${appState.currentUser ? `
                  <button onclick="navigateTo('profile')" class="flex items-center space-x-2 text-slate-200 hover:text-white transition-colors">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-bold shadow-lg">
                      ${appState.currentUser.name.charAt(0).toUpperCase()}
                    </div>
                    <span class="text-sm font-semibold hidden sm:inline">${appState.currentUser.name.split(' ')[0]}</span>
                  </button>
                  <button onclick="logout()" class="px-4 py-1.5 rounded-lg font-bold bg-slate-700/50 border border-slate-600/50 text-slate-300 hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/50 transition-all text-xs">
                    覺k覺
                  </button>
                ` : `
                  <button onclick="appState.showAuthModal = true; appState.authMode = 'login'; renderApp();" class="px-5 py-2 rounded-full font-bold bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 hover:shadow-xl transition-all text-sm">
                    Giri Yap
                  </button>
                `}
              </div>
            </div>
          </div>
        </nav>
      `;
    }

    function renderIntro() {
      return `
        <div class="fixed inset-0 z-[60] flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-950 to-blue-900 overflow-hidden">
          <div class="absolute inset-0 opacity-40 bg-[radial-gradient(circle_at_top,_#22d3ee_0,_transparent_55%),radial-gradient(circle_at_bottom,_#3b82f6_0,_transparent_55%)] animate-[introBackground_1.2s_ease-out_forwards]"></div>
          <div class="relative z-10 text-center px-6 max-w-xl animate-[introZoom_0.9s_ease-out_forwards]">
            <div class="inline-flex items-center justify-center mb-6">
              <div class="w-16 h-16 rounded-2xl bg-slate-900 bg-opacity-70 flex items-center justify-center border border-blue-500 border-opacity-40 shadow-xl mr-3">
                <img src="images/logo.png" alt="ArduMind" class="w-12 h-12 object-contain" />
              </div>
              <div class="text-left">
                <div class="text-sm uppercase tracking-[0.35em] text-slate-400">Arduino Studio</div>
                <div class="text-3xl font-extrabold tracking-tight">ArduMind</div>
              </div>
            </div>
            <p class="text-slate-300 text-lg mb-6">Arduino kodunu sadece yazmak deil, hissetmek i癟in sinematik bir 繹renme deneyimi.</p>
            <button onclick="appState.showIntro = false; renderApp();" class="px-10 py-3 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold tracking-wide shadow-2xl shadow-blue-500/40 transition transform hover:scale-105">Bala</button>
          </div>
        </div>
      `;
    }

    function renderVideos() {
      const topics = Array.from(new Set(videoLessons.map(v => v.topic)));
      const list = appState.currentVideoFilter ? videoLessons.filter(v => v.topic === appState.currentVideoFilter) : videoLessons;
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Videolu Eitim</h1>
            <p class="text-slate-400">Konulara g繹re se癟ilmi video dersler</p>
          </div>
          
          <div class="flex flex-wrap gap-2 mb-6">
            <button onclick="appState.currentVideoFilter=''; renderApp();" class="px-4 py-2 rounded-full text-sm ${appState.currentVideoFilter === '' ? 'bg-blue-600 text-white' : 'bg-slate-700 text-slate-200'}">T羹m羹</button>
            ${topics.map(t => `
              <button onclick="appState.currentVideoFilter='${t}'; renderApp();" class="px-4 py-2 rounded-full text-sm ${appState.currentVideoFilter === t ? 'bg-blue-600 text-white' : 'bg-slate-700 text-slate-200'}">${t}</button>
            `).join('')}
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            ${list.map(v => `
              <div class="bg-slate-800 rounded-2xl overflow-hidden hover:scale-105 transition-all">
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 h-32 flex items-center justify-center">
                  <svg class="w-12 h-12 text-white" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
                <div class="p-6">
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="font-bold">${v.title}</h3>
                    <span class="text-xs bg-slate-700 px-2 py-1 rounded">${v.duration}</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-slate-400 text-sm">${v.topic}</span>
                    <a href="${v.url}" target="_blank" rel="noopener" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700">襤zle</a>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderLearningPath() {
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div class="text-center mb-16">
            <h1 class="text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">
              renme Yolculuu
            </h1>
            <p class="text-xl text-slate-400 max-w-2xl mx-auto">
              S覺f覺rdan balayarak uzmanl覺a giden yolda ad覺m ad覺m ilerle. Her ad覺mda teori, uygulama ve g繹rsel destek seni bekliyor.
            </p>
          </div>
          
          <div class="relative">
            <!-- Central Line -->
            <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-blue-500 via-purple-500 to-blue-500 rounded-full opacity-20 hidden md:block"></div>
            
            <div class="space-y-12 md:space-y-24">
              ${learningPath.map((step, index) => {
                const isEven = index % 2 === 0;
                const v = videoLessons.find(v => v.id === step.videoId);
                
                return `
                  <div class="relative flex flex-col md:flex-row items-center ${isEven ? 'md:flex-row-reverse' : ''}">
                    <!-- Step Indicator -->
                    <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-slate-900 border-4 border-blue-500 flex items-center justify-center font-bold text-xl z-10 shadow-[0_0_20px_rgba(59,130,246,0.5)] hidden md:flex">
                      ${index + 1}
                    </div>
                    
                    <!-- Content Card -->
                    <div class="w-full md:w-5/12 group">
                      <div class="bg-slate-800 rounded-3xl p-8 shadow-2xl border border-slate-700 hover:border-blue-500/50 transition-all duration-500 hover:scale-[1.02]">
                        <div class="flex items-center space-x-4 mb-4">
                          <div class="md:hidden w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center font-bold text-lg">
                            ${index + 1}
                          </div>
                          <h3 class="text-2xl font-bold text-white group-hover:text-blue-400 transition-colors">${step.title}</h3>
                        </div>
                        
                        <p class="text-slate-400 mb-6 leading-relaxed">
                          ${step.description}
                        </p>
                        
                        <div class="grid grid-cols-1 gap-4 mb-8">
                          <!-- Algorithm Box -->
                          <div class="bg-slate-900/50 rounded-2xl p-4 border border-slate-700/50">
                            <div class="flex items-center space-x-2 mb-2 text-blue-400">
                              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                              </svg>
                              <span class="text-xs font-bold uppercase tracking-wider">Algoritma Mant覺覺</span>
                            </div>
                            <div class="text-sm text-slate-300 font-mono bg-slate-950 p-3 rounded-xl border border-slate-800">
                              ${step.algorithm}
                            </div>
                          </div>
                          
                          <!-- Circuit Box -->
                          <div class="bg-slate-900/50 rounded-2xl p-4 border border-slate-700/50">
                            <div class="flex items-center space-x-2 mb-2 text-purple-400">
                              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                              </svg>
                              <span class="text-xs font-bold uppercase tracking-wider">Devre emas覺 (Proteus)</span>
                            </div>
                            <div class="text-sm text-slate-300 italic">
                              ${step.circuit}
                            </div>
                          </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-3">
                          <button onclick="appState.currentDocSection='${step.docKey}'; navigateTo('docs');" 
                            class="flex-1 px-4 py-2.5 bg-slate-700 hover:bg-slate-600 rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2">
                            <span>Ders Notlar覺</span>
                          </button>
                          ${v ? `
                            <a href="${v.url}" target="_blank" rel="noopener" 
                              class="flex-1 px-4 py-2.5 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 border border-blue-500/30 rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2">
                              <span>Video 襤zle</span>
                            </a>
                          ` : ''}
                          ${step.quizId ? `
                            <button onclick="appState.currentQuizId='${step.quizId}'; navigateTo('quiz');" 
                              class="w-full px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center space-x-2 shadow-lg shadow-emerald-900/20">
                              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                              </svg>
                              <span>Bilgi Testini 繹z</span>
                            </button>
                          ` : ''}
                        </div>
                      </div>
                    </div>
                    
                    <!-- Spacer for Desktop -->
                    <div class="hidden md:block md:w-2/12"></div>
                    <div class="hidden md:block md:w-5/12"></div>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
          
          <!-- Final Step -->
          <div class="mt-24 text-center">
            <div class="inline-block p-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 mb-6">
              <div class="px-8 py-3 rounded-full bg-slate-900 text-xl font-bold">
                Tebrikler!
              </div>
            </div>
            <h2 class="text-3xl font-bold mb-4">Temel Seviyeyi Tamamlad覺n</h2>
            <p class="text-slate-400 mb-8">Art覺k kendi projelerini 羹retmeye haz覺rs覺n. Edit繹re gidip hayallerini kodla!</p>
            <button onclick="navigateTo('editor')" class="px-10 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-bold shadow-xl shadow-blue-500/20 transition-all hover:scale-105">
              Kod Edit繹r羹ne Git
            </button>
          </div>
        </div>
      `;
    }

    function renderHomePage() {
      return `
        ${renderNavbar()}
        
        <section class="relative overflow-hidden py-20">
          <div class="absolute inset-0 opacity-10">
            <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
              <defs>
                <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#1E3A8A;stop-opacity:1" />
                </linearGradient>
              </defs>
              <circle cx="10" cy="10" r="30" fill="url(#grad)"/>
              <circle cx="90" cy="90" r="40" fill="url(#grad)"/>
            </svg>
          </div>
          
          <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-8">
              <svg class="w-20 h-20 mx-auto text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
              </svg>
            </div>
            
            <h1 class="text-5xl font-bold mb-6 leading-tight">Arduino'yu ezberleyerek deil, anlayarak 繹ren.</h1>
            <p class="text-xl mb-8 max-w-3xl mx-auto text-slate-300">Yapay zeka destekli, kiiye 繹zel 繹renme ve hata analizi sistemi</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
              <button onclick="handleStart()" class="px-8 py-4 rounded-full font-semibold bg-blue-500 text-white hover:bg-blue-600 hover:scale-105 hover:shadow-xl transition-all w-full sm:w-auto">
                ${appState.currentUser ? 'renmeye Devam Et' : 'cretsiz Bala'}
              </button>
              <button onclick="navigateTo('docs')" class="px-8 py-4 rounded-full font-semibold bg-slate-800 text-slate-100 border-2 border-blue-500 hover:scale-105 transition-all w-full sm:w-auto">
                Dok羹mantasyon
              </button>
            </div>
          </div>
        </section>

        <section class="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">Kiiye zel renme</h3>
              <p class="text-slate-300 leading-relaxed">Yapay zeka senin 繹renme h覺z覺na g繹re yol haritas覺 oluturur</p>
            </div>
            
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">Ak覺ll覺 Hata Analizi</h3>
              <p class="text-slate-300 leading-relaxed">Hatalar覺n覺 analiz eder ve anla覺l覺r dille a癟覺klar</p>
            </div>
            
            <div class="bg-slate-800 rounded-3xl p-8 hover:scale-105 hover:shadow-2xl transition-all">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-900 flex items-center justify-center mb-6">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4">Proje Tabanl覺 Eitim</h3>
              <p class="text-slate-300 leading-relaxed">Ger癟ek projeler yaparak Arduino'yu 繹ren</p>
            </div>
          </div>
        </section>
        
        <section class="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="bg-gradient-to-r from-blue-500 to-blue-900 rounded-3xl p-12 text-center">
            <h2 class="text-4xl font-bold mb-4 text-white">Arduino ser羹venine balamaya haz覺r m覺s覺n?</h2>
            <p class="text-xl mb-8 text-white opacity-90">Binlerce 繹renci gibi sen de bug羹n bala, yapay zeka rehberliinde 繹ren.</p>
            <button onclick="handleStart()" class="px-8 py-4 rounded-full font-semibold bg-white text-blue-600 hover:scale-105 hover:shadow-xl transition-all">
              Hemen cretsiz Bala
            </button>
          </div>
        </section>
      `;
    }

    function renderDashboard() {
      if (!appState.currentUser) {
        navigateTo('home');
        return '';
      }

      const weeklyProgress = getWeeklyProgress();
      const days = ['Pzt', 'Sal', 'ar', 'Per', 'Cum', 'Cmt', 'Paz'];
      const maxXP = Math.max(...weeklyProgress, 1);

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 fade-in">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Ho geldin, ${appState.currentUser.name.split(' ')[0]}!</h1>
            <p class="text-slate-400">Arduino yolculuuna devam etmeye haz覺r m覺s覺n?</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl p-6">
              <div class="text-3xl font-bold text-white">${appState.currentUser.xp || 0}</div>
              <div class="text-blue-100 text-xs mt-1">Toplam XP</div>
            </div>
            <div class="bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl p-6">
              <div class="text-3xl font-bold text-white">${appState.currentUser.completedModules.length}</div>
              <div class="text-purple-100 text-xs mt-1">${modules.length} mod羹lden</div>
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-6">
              <div class="bg-slate-800 rounded-2xl p-6">
                <h2 class="text-2xl font-bold mb-4">renmeye Devam Et</h2>
                <div class="space-y-4">
                  ${modules.map(module => {
                    const progress = getModuleProgress(module.id);
                    const isCompleted = progress === 100;
                    return `
                      <div onclick="handleModuleClick('${module.id}', ${isCompleted})" class="bg-slate-700 rounded-xl p-4 hover:bg-slate-600 transition-all ${isCompleted ? 'opacity-60' : 'cursor-pointer'}">
                        <div class="flex items-center justify-between mb-3">
                          <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-lg bg-gradient-to-br ${module.color} flex items-center justify-center text-2xl">
                              ${module.icon}
                            </div>
                            <div>
                              <h3 class="font-semibold">${module.title}</h3>
                              <p class="text-sm text-slate-400">${module.description}</p>
                            </div>
                          </div>
                          ${isCompleted ? '<span class="px-3 py-1 bg-green-500 text-white text-xs rounded-full font-medium">Tamamland覺</span>' : `<span class="text-blue-400 text-sm font-medium">%${progress}</span>`}
                        </div>
                        <div class="w-full bg-slate-600 rounded-full h-2">
                          <div class="bg-gradient-to-r ${module.color} h-2 rounded-full transition-all" style="width: 0%; /* dynamic width */"></div>
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>
                <button onclick="navigateTo('editor')" class="w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-4 rounded-xl font-semibold transition-all">Kod Edit繹r羹'n羹 A癟</button>
              </div>

              <div class="bg-slate-800 rounded-2xl p-6">
                <h2 class="text-2xl font-bold mb-4">Haftal覺k 襤lerleme</h2>
                <div class="flex items-end justify-between h-48 space-x-2">
                  ${weeklyProgress.map((xp, index) => {
                    const height = (xp / maxXP) * 100;
                    return `
                      <div class="flex-1 flex flex-col items-center space-y-2">
                        <div class="w-full bg-slate-700 rounded-t-lg relative flex items-end justify-center" style="height: 0%; /* dynamic height */ min-height: 0%; /* dynamic min-height */">
                          <div class="absolute inset-0 bg-gradient-to-t from-blue-500 to-purple-500 rounded-t-lg"></div>
                          ${xp > 0 ? `<span class="relative text-xs font-bold text-white mb-1">${xp}</span>` : ''}
                        </div>
                        <span class="text-xs text-slate-400">${days[index]}</span>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            </div>

            <div class="space-y-6">
              <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-6">
                <div class="text-center mb-4">
                  <div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-3xl font-bold mx-auto mb-3">
                    ${appState.currentUser.name.charAt(0).toUpperCase()}
                  </div>
                  <h3 class="font-bold text-lg">${appState.currentUser.name}</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderModuleDetail() {
      const module = modules.find(m => m.id === appState.currentModuleView);
      if (!module) {
        appState.currentModuleView = null;
        return renderDashboard();
      }

      const isCompleted = appState.currentUser.completedModules.some(m => m.moduleId === module.id);

      return `
        ${renderNavbar()}
        
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <button onclick="appState.currentModuleView = null; renderApp();" class="flex items-center space-x-2 text-slate-400 hover:text-white mb-6 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>Geri D繹n</span>
          </button>

          <div class="bg-slate-800 rounded-2xl p-8">
            <div class="flex items-center space-x-4 mb-6">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br ${module.color} flex items-center justify-center text-3xl">
                ${module.icon}
              </div>
              <div class="flex-1">
                <h1 class="text-3xl font-bold mb-2">${module.title}</h1>
                <p class="text-slate-400">${module.description}</p>
              </div>
            </div>

            <div class="space-y-4 mb-8">
              <h2 class="text-xl font-bold mb-4">Dersler</h2>
              ${module.lessons.map((lesson, index) => `
                <div class="bg-slate-700 rounded-xl p-4 flex items-center space-x-4">
                  <div class="w-10 h-10 rounded-lg bg-gradient-to-br ${module.color} flex items-center justify-center font-bold flex-shrink-0">
                    ${index + 1}
                  </div>
                  <div class="flex-1">
                    <h3 class="font-semibold">${lesson.title}</h3>
                    <p class="text-sm text-slate-400">${lesson.duration}</p>
                  </div>
                </div>
              `).join('')}
            </div>

            ${!isCompleted ? `
              <button onclick="completeModule('${module.id}')" class="w-full bg-gradient-to-r ${module.color} text-white py-4 rounded-xl font-bold hover:scale-105 transition-all">
                Mod羹l羹 Tamamla ve ${module.xpReward} XP Kazan
              </button>
            ` : `
              <div class="bg-green-500 bg-opacity-20 border-2 border-green-500 rounded-xl p-6 text-center">
                <h3 class="text-xl font-bold mb-2">Tebrikler!</h3>
                <p class="text-slate-300">Bu mod羹l羹 tamamlad覺n!</p>
              </div>
            `}
          </div>
        </div>
      `;
    }

    function renderEditor() {
      return `
        ${renderNavbar()}
        
        <div class="h-[calc(100vh-4rem)] flex">
          <div class="w-1/2 border-r border-slate-700 flex flex-col">
            <div class="bg-slate-800 border-b border-slate-700 px-4 py-3 flex items-center justify-between">
              <h2 class="font-bold">Kod Edit繹r羹</h2>
              <div class="flex items-center space-x-2">
                <select onchange="loadExample(this.value); this.value='';" class="bg-slate-700 text-sm px-3 py-1 rounded-lg border border-slate-600">
                  <option value="">rnek Y羹kle</option>
                  ${Object.entries(codeExamples).map(([key, ex]) => `<option value="${key}">${ex.name}</option>`).join('')}
                </select>
                <button onclick="runSimulation()" class="px-4 py-1 rounded-lg font-medium ${appState.simulationRunning ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'} text-white transition-all text-sm">
                  ${appState.simulationRunning ? 'Durdur' : 'al覺t覺r'}
                </button>
                <button onclick="saveEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">Kaydet</button>
                <button onclick="loadSavedEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">Y羹kle</button>
                <button onclick="copyEditorCode()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">Kopyala</button>
                <button onclick="toggleEditorWrap()" class="px-3 py-1 rounded-lg font-medium bg-slate-700 border border-slate-600 text-slate-200 hover:bg-slate-600 transition-all text-sm">${appState.editorWrap ? 'Sat覺r K覺rmay覺 Kapat' : 'Sat覺r K覺rmay覺 A癟'}</button>
              </div>
            </div>
            <div class="flex-1 overflow-hidden bg-slate-900">
              <div id="editorContainer" class="w-full h-full"></div>
            </div>
          </div>

          <div class="w-1/2 flex flex-col">
            <div class="h-[60%] bg-slate-800 p-6 overflow-auto">
              <div class="flex items-center justify-between mb-4">
                <h3 class="font-bold">Arduino Sim羹lasyonu</h3>
                <button onclick="resetSimulation()" class="px-3 py-1 rounded-lg bg-slate-700 hover:bg-slate-600 text-xs transition-all border border-slate-600">S覺f覺rla</button>
              </div>
              
              <div class="bg-gradient-to-br from-blue-900 to-blue-700 rounded-xl p-6 mb-6">
                <div class="text-center mb-4">
                  <div class="inline-block bg-slate-800 px-4 py-2 rounded-lg">
                    <span class="font-bold text-blue-400">Arduino UNO</span>
                  </div>
                </div>

                <div id="arduinoBoard"></div>
              </div>
            </div>

            <div class="h-[40%] border-t border-slate-700 bg-slate-900 flex flex-col">
              <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 flex items-center justify-between">
                <span class="font-bold text-sm text-slate-400 uppercase tracking-wider">Seri Monit繹r</span>
                <button onclick="clearSerial()" class="text-xs text-blue-400 hover:text-blue-300">Temizle</button>
              </div>
              <div id="serialMonitor" class="flex-1 overflow-auto p-4 font-mono text-sm">
                ${appState.serialOutput.length === 0 ? `<div class="text-slate-500 text-center py-8">Kodu 癟al覺t覺r覺n...</div>` : appState.serialOutput.map(output => `<div class="mb-1 ${output.type === 'error' ? 'text-red-400' : output.type === 'info' ? 'text-blue-400' : 'text-green-400'}">${output.text}</div>`).join('')}
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderAuthModal() {
      return `
        <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" onclick="if(event.target === this) { appState.showAuthModal = false; renderApp(); }">
          <div class="bg-slate-800 rounded-2xl p-8 max-w-md w-full" onclick="event.stopPropagation()">
            <div class="text-center mb-6">
              <h2 class="text-2xl font-bold mb-2">${appState.authMode === 'login' ? 'Giri Yap' : 'Kay覺t Ol'}</h2>
              <p class="text-slate-400">${appState.authMode === 'login' ? 'Arduino ser羹venine devam et' : 'Yeni bir ser羹vene bala'}</p>
            </div>

            <form onsubmit="handleAuthSubmit(event, this)" class="space-y-4">
              ${appState.authMode === 'register' ? `
                <div>
                  <label class="block text-sm font-medium mb-2">襤sim Soyisim</label>
                  <input type="text" name="name" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              ` : ''}

              <div>
                <label class="block text-sm font-medium mb-2">E-posta</label>
                <input type="email" name="email" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>

              <div>
                <label class="block text-sm font-medium mb-2">ifre</label>
                <input type="password" name="password" required minlength="6" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>

              ${appState.authMode === 'register' ? `
                <div>
                  <label class="block text-sm font-medium mb-2">Seviyem</label>
                  <select name="level" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="beginner">Balang覺癟 - Hi癟 bilgim yok</option>
                    <option value="basic">Temel - Biraz bilgim var</option>
                    <option value="intermediate">Orta - Proje yapabilirim</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Hedefim</label>
                  <select name="goal" required class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="learn">Arduino 繹renmek</option>
                    <option value="project">Proje yapmak</option>
                  </select>
                </div>
              ` : ''}

              <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-bold transition-all">
                ${appState.authMode === 'login' ? 'Giri Yap' : 'Kay覺t Ol'}
              </button>
            </form>

            <div class="mt-6 text-center">
              <button onclick="appState.authMode = appState.authMode === 'login' ? 'register' : 'login'; renderApp();" class="text-blue-400 hover:text-blue-300 text-sm">
                ${appState.authMode === 'login' ? 'Hesab覺n yok mu? Kay覺t ol' : 'Zaten hesab覺n var m覺? Giri yap'}
              </button>
            </div>
          </div>
        </div>
      `;
    }

    function renderDocumentation() {
      const sections = Object.entries(documentation);
      const currentSection = documentation[appState.currentDocSection];
      
      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino Dok羹mantasyon</h1>
            <p class="text-slate-400">Arduino yaz覺l覺m dilini 繹rneklerle 繹renin</p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1">
              <div class="bg-slate-800 rounded-2xl p-4 sticky top-24">
                <h3 class="text-sm font-bold text-slate-400 uppercase mb-3">Kategoriler</h3>
                <div class="space-y-2">
                  ${sections.map(([key, section]) => `
                    <button 
                      onclick="appState.currentDocSection = '${key}'; renderApp();"
                      class="w-full text-left px-4 py-3 rounded-xl transition-all ${
                        appState.currentDocSection === key 
                          ? `bg-gradient-to-r ${section.color} text-white shadow-lg` 
                          : 'bg-slate-700 hover:bg-slate-600 text-slate-300'
                      }"
                    >
                      <div class="flex items-center space-x-3">
                        <span class="text-2xl">${section.icon}</span>
                        <span class="font-medium text-sm">${section.title}</span>
                      </div>
                    </button>
                  `).join('')}
                </div>
              </div>
            </div>

            <div class="lg:col-span-3">
              <div class="bg-slate-800 rounded-2xl p-8">
                <div class="flex items-center space-x-4 mb-6">
                  <div class="w-16 h-16 rounded-2xl bg-gradient-to-br ${currentSection.color} flex items-center justify-center text-3xl">
                    ${currentSection.icon}
                  </div>
                  <div>
                    <h2 class="text-3xl font-bold">${currentSection.title}</h2>
                    <p class="text-slate-400">${currentSection.topics.length} konu</p>
                  </div>
                </div>

                <div class="space-y-4">
                  ${currentSection.topics.map((topic, index) => {
                    const topicKey = `${appState.currentDocSection}-${index}`;
                    const isCollapsed = appState.collapsedTopics[topicKey] || false;
                    return `
                    <div class="border border-slate-700 rounded-xl overflow-hidden transition-all">
                      <button onclick="toggleTopic('${topicKey}')" class="w-full flex items-center justify-between p-6 text-left bg-slate-800 hover:bg-slate-750 transition-all">
                        <div class="flex items-center space-x-4">
                          <div class="w-10 h-10 rounded-lg bg-gradient-to-br ${currentSection.color} flex items-center justify-center text-white font-bold flex-shrink-0">
                            ${index + 1}
                          </div>
                          <div class="flex-1">
                            <h3 class="text-2xl font-bold">${topic.title}</h3>
                            <p class="text-slate-400 mt-1">${topic.description}</p>
                          </div>
                        </div>
                        <div class="text-2xl text-slate-400 transition-transform duration-300 ${isCollapsed ? 'rotate-0' : 'rotate-180'}">
                          
                        </div>
                      </button>
                      
                      <div class="ml-14 p-6 text-slate-300 leading-relaxed overflow-hidden transition-all duration-300 ${isCollapsed ? 'max-h-0 opacity-0' : 'max-h-96 opacity-100'}">
                        ${topic.content}
                      </div>
                    </div>
                  `;
                  }).join('')}
                </div>

                ${appState.currentUser ? `
                  <div class="mt-8 bg-gradient-to-r ${currentSection.color} bg-opacity-20 border-2 border-opacity-50 rounded-xl p-6">
                    <div class="flex items-center justify-between">
                      <div>
                        <h4 class="font-bold text-lg mb-1">rendiklerini Dene!</h4>
                        <p class="text-sm opacity-80">Kod edit繹r羹nde bu konular覺 uygulayabilirsin</p>
                      </div>
                      <button onclick="navigateTo('editor')" class="px-6 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg font-semibold transition-all flex items-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        <span>Edit繹re Git</span>
                      </button>
                    </div>
                  </div>
                ` : ''}
              </div>
            </div>
          </div>
        </div>
      `;
    }
    
    function renderComponents() {
      const components = [
        {
          id: 'breadboard',
          name: 'Breadboard',
          icon: '',
          color: 'from-gray-500 to-gray-700',
          description: 'Devre elemanlar覺n覺 lehimsiz balamak i癟in kullan覺lan devre tahtas覺',
          usage: 'Breadboard 羹zerindeki delikler i癟ten iletken eritlerle bal覺d覺r. Ayn覺 sat覺rdaki delikler birbirine bal覺d覺r.',
          tips: [
            'st ve alt power rail\'ler (+/-) t羹m breadboard boyunca bal覺d覺r',
            'Orta k覺s覺mdaki sat覺rlar yatay olarak bal覺d覺r',
            'Arduino\'dan 5V ve GND balant覺lar覺n覺 power rail\'lere yap覺n'
          ]
        },
        {
          id: 'led',
          name: 'LED (I覺k Yayan Diyot)',
          icon: '',
          color: 'from-yellow-500 to-orange-600',
          description: 'Elektrik ak覺m覺 ge癟tiinde 覺覺k yayan elektronik devre eleman覺',
          usage: 'LED\'in uzun baca覺 (+) anot, k覺sa baca覺 (-) katottur. Mutlaka diren癟 ile kullan覺lmal覺d覺r.',
          tips: [
            'LED\'ler polarize elemanlard覺r - y繹n羹 繹nemlidir',
            'Genellikle 220峏 veya 330峏 diren癟 ile kullan覺l覺r',
            'Dorudan g羹癟 kayna覺na balamay覺n, yanar!'
          ]
        },
        {
          id: 'resistor',
          name: 'Diren癟',
          icon: '',
          color: 'from-blue-500 to-cyan-600',
          description: 'Devredeki ak覺m miktar覺n覺 s覺n覺rlamak i癟in kullan覺lan eleman',
          usage: 'Renk kodlar覺 ile deeri belirlenir. LED ve sens繹r gibi elemanlar覺 korumak i癟in kullan覺l覺r.',
          tips: [
            'LED i癟in 220峏 (k覺rm覺z覺-k覺rm覺z覺-kahverengi) yayg覺n kullan覺l覺r',
            'Pull-up/down diren癟ler i癟in 10k峏 kullan覺l覺r',
            'Diren癟lerin polaritesi yoktur - iki y繹nde de 癟al覺覺r'
          ]
        },
        {
          id: 'button',
          name: 'Buton (Push Button)',
          icon: '',
          color: 'from-green-500 to-emerald-600',
          description: 'Bas覺ld覺覺nda devreyi kapatan, b覺rak覺ld覺覺nda a癟an anahtar',
          usage: 'Dijital giri olarak kullan覺l覺r. Pull-down veya pull-up diren癟 ile birlikte kullan覺lmal覺d覺r.',
          tips: [
            'Genellikle 4 bacakl覺d覺r - kar覺l覺kl覺 bacaklar birbirine bal覺d覺r',
            '10k峏 pull-down direnci ile GND\'ye balan覺r',
            'digitalRead() ile butona bas覺l覺p bas覺lmad覺覺 okunur'
          ]
        },
        {
          id: 'jumper',
          name: 'Jumper Kablo',
          icon: '',
          color: 'from-purple-500 to-pink-600',
          description: 'Devre elemanlar覺n覺 birbirine balamak i癟in kullan覺lan kablolar',
          usage: 'Erkek-erkek, erkek-dii ve dii-dii olmak 羹zere 3 t羹r羹 vard覺r.',
          tips: [
            'Renk kodlamas覺: K覺rm覺z覺 (+5V), Siyah (GND), dierleri sinyal',
            'Breadboard i癟in erkek-erkek kablo kullan覺n',
            'Arduino pinlerine balamak i癟in erkek-dii kullan覺n'
          ]
        },
        {
          id: 'potentiometer',
          name: 'Potansiyometre',
          icon: '',
          color: 'from-orange-500 to-red-600',
          description: 'Direnci elle ayarlanabilen deiken diren癟',
          usage: 'Analog giri olarak kullan覺l覺r. Ses seviyesi, parlakl覺k gibi ayarlar i癟in idealdir.',
          tips: [
            '3 bacakl覺d覺r: +5V, Analog Out (orta), GND',
            'analogRead() ile 0-1023 aras覺 deer okunur',
            'map() fonksiyonu ile deper aral覺覺 deitirilebilir'
          ]
        }
      ];

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino Elemanlar覺</h1>
            <p class="text-slate-400">Temel elektronik bileenleri tan覺yal覺m</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            ${components.map((component, index) => {
              const componentKey = `component-${index}`;
              const isCollapsed = appState.collapsedTopics[componentKey] || false;
              return `
              <div class="bg-slate-800 rounded-2xl overflow-hidden border border-slate-700 hover:scale-105 transition-all fade-in">
                <button onclick="toggleTopic('${componentKey}')" class="w-full flex items-center justify-between p-6 text-left bg-gradient-to-r ${component.color} hover:opacity-95 transition-all">
                  <div class="flex items-center space-x-4">
                    ${component.icon ? `<div class="text-6xl">${component.icon}</div>` : ''}
                    <div>
                      <h2 class="text-2xl font-bold text-white">${component.name}</h2>
                      <p class="text-white text-opacity-90 text-sm mt-1">${component.description}</p>
                    </div>
                  </div>
                  <div class="text-2xl text-white transition-transform duration-300 ${isCollapsed ? 'rotate-0' : 'rotate-180'}">
                    
                  </div>
                </button>
                
                <div class="overflow-hidden transition-all duration-300 ${isCollapsed ? 'max-h-0 opacity-0' : 'max-h-96 opacity-100'}">
                  <div class="p-6">
                    <div class="mb-4">
                      <h3 class="font-bold text-lg mb-2 text-blue-400">Kullan覺m</h3>
                      <p class="text-slate-300 leading-relaxed">${component.usage}</p>
                    </div>
                    
                    <div>
                      <h3 class="font-bold text-lg mb-3 text-green-400">襤pu癟lar覺</h3>
                      <ul class="space-y-2">
                        ${component.tips.map(tip => `
                          <li class="flex items-start space-x-2">
                            <span class="text-green-400 mt-1"></span>
                            <span class="text-slate-300 text-sm leading-relaxed">${tip}</span>
                          </li>
                        `).join('')}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            `;
            }).join('')}
          </div>

          ${appState.currentUser ? `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Bu elemanlar覺 kullanmaya haz覺r m覺s覺n?</h2>
              <p class="text-white text-opacity-90 mb-6">Kod edit繹r羹nde bu bileenlerle projeler oluturabilirsin!</p>
              <button onclick="navigateTo('editor')" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                Kod Edit繹r羹ne Git
              </button>
            </div>
          ` : `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Bu elemanlarla projeler yapmaya bala!</h2>
              <p class="text-white text-opacity-90 mb-6">cretsiz kay覺t ol, sim羹lat繹rde dene!</p>
              <button onclick="appState.showAuthModal = true; appState.authMode = 'register'; renderApp();" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                cretsiz Bala
              </button>
            </div>
          `}
        </div>
      `;
    }

    function renderQuiz() {
      if (appState.currentQuiz) {
        const quiz = quizzes.find(q => q.id === appState.currentQuiz);
        if (!quiz) {
          appState.currentQuiz = null;
          return renderQuiz();
        }

        if (appState.quizCompleted) {
          const percentage = (appState.quizScore / quiz.questions.length) * 100;
          const passed = percentage >= 70;

          return `
            ${renderNavbar()}
            
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
              <div class="bg-slate-800 rounded-2xl p-8 text-center">
                <h1 class="text-4xl font-bold mb-4">${passed ? 'Tebrikler!' : 'Daha 襤yisini Yapabilirsin!'}</h1>
                <p class="text-xl text-slate-300 mb-6">${quiz.title} testini tamamlad覺n</p>
                
                <div class="bg-slate-700 rounded-xl p-8 mb-6">
                  <div class="text-5xl font-bold mb-2 ${passed ? 'text-green-400' : 'text-orange-400'}">
                    ${appState.quizScore} / ${quiz.questions.length}
                  </div>
                  <div class="text-lg text-slate-300">%${percentage.toFixed(0)} Baar覺</div>
                  ${appState.currentUser && passed ? `
                    <div class="mt-4 text-yellow-400 font-bold">
                      +${Math.floor(quiz.xpReward * (percentage / 100))} XP Kazand覺n!
                    </div>
                  ` : ''}
                </div>

                <div class="space-y-4 mb-6 text-left">
                  ${quiz.questions.map(question => {
                    const userAnswer = appState.quizAnswers[question.id];
                    const isCorrect = userAnswer === question.correct;
                    
                    return `
                      <div class="bg-slate-700 rounded-xl p-4">
                        <div class="flex items-start space-x-3 mb-3">
                          <div class="flex-shrink-0 mt-1">
                            ${isCorrect ? `
                              <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                              </svg>
                            ` : `
                              <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                              </svg>
                            `}
                          </div>
                          <div class="flex-1">
                            <p class="font-medium mb-2">${question.question.replace(/\n/g, '<br>')}</p>
                            <div class="text-sm space-y-1">
                              <div class="${isCorrect ? 'text-green-400' : 'text-red-400'}">Senin cevab覺n: ${question.options[userAnswer]}</div>
                              ${!isCorrect ? `<div class="text-green-400">Doru cevap: ${question.options[question.correct]}</div>` : ''}
                            </div>
                          </div>
                        </div>
                        <div class="bg-slate-600/50 border border-slate-500/20 rounded-lg p-3 text-sm text-slate-200">
                          <span class="font-bold text-blue-400">Bilgi:</span> ${question.explanation}
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>

                <div class="flex gap-4">
                  <button onclick="resetQuiz()" class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-xl font-bold transition-all">
                    Testlere D繹n
                  </button>
                  <button onclick="startQuiz('${quiz.id}')" class="flex-1 bg-gradient-to-r ${quiz.color} text-white py-3 rounded-xl font-bold hover:scale-105 transition-all">
                    Tekrar Dene
                  </button>
                </div>
              </div>
            </div>
          `;
        }

        const allAnswered = quiz.questions.every(q => appState.quizAnswers[q.id] !== undefined);

        return `
          ${renderNavbar()}
          
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <button onclick="resetQuiz()" class="flex items-center space-x-2 text-slate-400 hover:text-white mb-6 transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
              <span>Testlere D繹n</span>
            </button>

            <div class="bg-slate-800 rounded-2xl p-8">
              <div class="flex items-center space-x-4 mb-6">
                <div class="flex-1">
                  <h1 class="text-3xl font-bold mb-2">${quiz.title}</h1>
                  <p class="text-slate-400">${quiz.description}  ${quiz.difficulty}  ${quiz.questions.length} Soru</p>
                </div>
              </div>

              <div class="space-y-6">
                ${quiz.questions.map((question, index) => `
                  <div class="bg-slate-700 rounded-xl p-6">
                    <h3 class="font-bold text-lg mb-4">
                      <span class="text-blue-400">${index + 1}.</span> ${question.question.replace(/\n/g, '<br>')}
                    </h3>
                    <div class="space-y-3">
                      ${question.options.map((option, optIndex) => {
                        const isSelected = appState.quizAnswers[question.id] === optIndex;
                        return `
                          <button 
                            onclick="selectAnswer(${question.id}, ${optIndex})"
                            class="w-full text-left p-4 rounded-lg transition-all ${
                              isSelected 
                                ? 'bg-blue-500 text-white' 
                                : 'bg-slate-600 hover:bg-slate-500 text-slate-200'
                            }"
                          >
                            <span class="font-medium">${String.fromCharCode(65 + optIndex)})</span> ${option}
                          </button>
                        `;
                      }).join('')}
                    </div>
                  </div>
                `).join('')}
              </div>

              <button 
                onclick="submitQuiz()"
                ${!allAnswered ? 'disabled' : ''}
                class="w-full mt-6 py-4 rounded-xl font-bold transition-all ${
                  allAnswered 
                    ? 'bg-gradient-to-r ' + quiz.color + ' text-white hover:scale-105' 
                    : 'bg-slate-700 text-slate-400 cursor-not-allowed'
                }"
              >
                ${allAnswered ? 'Testi Tamamla' : `T羹m Sorular覺 Cevapla (${Object.keys(appState.quizAnswers).length}/${quiz.questions.length})`}
              </button>
            </div>
          </div>
        `;
      }

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">Arduino Bilgi Testleri</h1>
            <p class="text-slate-400">Bilgini test et, XP kazan ve kendini gelitir!</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            ${quizzes.map(quiz => `
              <div class="bg-slate-800 rounded-2xl overflow-hidden hover:scale-105 transition-all fade-in border border-slate-700">
                <div class="bg-gradient-to-r ${quiz.color} p-6">
                  <div class="flex items-center justify-between mb-4">
                    <div class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-bold text-white uppercase tracking-wider">
                      ${quiz.difficulty}
                    </div>
                  </div>
                  <h2 class="text-2xl font-bold text-white mb-2">${quiz.title}</h2>
                  <p class="text-white text-opacity-90 text-sm">${quiz.description}</p>
                </div>
                
                <div class="p-6">
                  <div class="flex items-center justify-between mb-4 text-sm">
                    <div class="flex items-center space-x-4">
                      <span class="text-slate-400">
                        <span class="font-bold text-white">${quiz.questions.length}</span> Soru
                      </span>
                      ${appState.currentUser ? `
                        <span class="text-yellow-400">
                          <span class="font-bold">${quiz.xpReward}</span> XP
                        </span>
                      ` : ''}
                    </div>
                  </div>
                  
                  <button 
                    onclick="handleQuizStart('${quiz.id}')"
                    class="w-full bg-gradient-to-r ${quiz.color} text-white py-3 rounded-xl font-bold hover:scale-105 transition-all"
                  >
                    ${appState.currentUser ? 'Teste Bala' : 'Giri Yap ve Bala'}
                  </button>
                </div>
              </div>
            `).join('')}
          </div>

          ${!appState.currentUser ? `
            <div class="mt-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center">
              <h2 class="text-3xl font-bold mb-3 text-white">Testleri 癟繹z, XP kazan!</h2>
              <p class="text-white text-opacity-90 mb-6">cretsiz kay覺t ol, testlerle kendini gelitir ve XP kazanarak seviye atla!</p>
              <button onclick="appState.showAuthModal = true; appState.authMode = 'register'; renderApp();" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
                cretsiz Bala
              </button>
            </div>
          ` : ''}
        </div>
      `;
    }

    function renderAbout() {
      return `
        ${renderNavbar()}
        
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="text-center mb-12 fade-in">
            <div class="inline-block bg-gradient-to-r from-red-500 to-red-700 px-6 py-2 rounded-full text-sm font-bold mb-4">
              TEKNOFEST 2026 Projesi
            </div>
            <h1 class="text-5xl font-bold mb-4">ArduMind Hakk覺nda</h1>
            <p class="text-xl text-slate-400">Arduino'yu ezberleyerek deil, anlayarak 繹renmenin yeni yolu</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="bg-slate-800 rounded-2xl p-8 hover:scale-105 transition-all fade-in">
              <h2 class="text-2xl font-bold mb-3">Proje Vizyonu</h2>
              <p class="text-slate-300 leading-relaxed">
                ArduMind, Arduino 繹renimini kiiselletiren, yapay zeka destekli bir eitim platformudur. 
                rencilerin kendi h覺zlar覺nda ilerlemesini salar ve her 繹rencinin ihtiya癟lar覺na 繹zel 癟繹z羹mler sunar.
              </p>
            </div>

            <div class="bg-slate-800 rounded-2xl p-8 hover:scale-105 transition-all fade-in">
              <h2 class="text-2xl font-bold mb-3">Neden ArduMind?</h2>
              <p class="text-slate-300 leading-relaxed">
                Geleneksel Arduino eitimleri ezber odakl覺d覺r. ArduMind, kavramsal 繹renmeyi 繹n plana 癟覺kar覺r, 
                hatalar覺 anla覺l覺r ekilde a癟覺klar ve ger癟ek zamanl覺 sim羹lasyon ile 繹renmeyi elenceli hale getirir.
              </p>
            </div>
          </div>

          <div class="bg-gradient-to-r from-blue-900 to-purple-900 rounded-3xl p-8 mb-12">
            <h2 class="text-3xl font-bold mb-6 text-center">Temel zellikler</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">Yapay Zeka Asistan覺</h3>
                <p class="text-sm text-slate-300">Kodlar覺n覺z覺 analiz eder, hatalar覺 a癟覺klar ve anl覺k 癟繹z羹mler sunar</p>
              </div>

              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">襤nteraktif Sim羹lasyon</h3>
                <p class="text-sm text-slate-300">Kodunuzu ger癟ek zamanl覺 test edin, LED'leri yak覺p s繹nd羹r羹n</p>
              </div>

              <div class="bg-slate-800 bg-opacity-50 rounded-xl p-6">
                <h3 class="font-bold text-lg mb-2">Gamification Sistemi</h3>
                <p class="text-sm text-slate-300">XP kazan覺n, seviye atlay覺n ve baar覺lar覺n覺z覺 takip edin</p>
              </div>
            </div>
          </div>

          <div class="bg-slate-800 rounded-2xl p-8 mb-12">
            <h2 class="text-3xl font-bold mb-6">Proje Hedefleri</h2>
            <div class="space-y-4">
              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">Arduino renimini Demokratikletirmek</h3>
                  <p class="text-slate-300">Herkes i癟in eriilebilir, 羹cretsiz ve kaliteli Arduino eitimi sunmak</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">Kavramsal renmeyi Tevik Etmek</h3>
                  <p class="text-slate-300">Ezber yerine anlayarak 繹renme metodolojisini yayg覺nlat覺rmak</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <div>
                  <h3 class="font-bold text-lg mb-1">Gen癟leri Teknolojiye Kazand覺rmak</h3>
                  <p class="text-slate-300">IoT, robotik ve elektronik alanlar覺nda yeni nesil yetikinler yetitirmek</p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-slate-800 to-slate-700 rounded-2xl p-8 mb-12 hover:scale-105 transition-all">
            <h2 class="text-3xl font-bold mb-6">Kullan覺lan Teknolojiler</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">HTML/CSS/JS</p>
              </div>
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">CSS</p>
              </div>
              <div class="bg-slate-900 rounded-xl p-4 text-center">
                <p class="font-medium">Sim羹lasyon</p>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-3xl p-12 text-center">
            <h2 class="text-4xl font-bold mb-4 text-white">Gelecei Birlikte 襤na Edelim!</h2>
            <p class="text-xl text-white text-opacity-90 mb-6">
              ArduMind ile Arduino 繹renmenin geleceini ekillendiriyoruz
            </p>
            <button onclick="handleAboutCTA()" class="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold hover:scale-105 transition-all">
              ${appState.currentUser ? 'renmeye Devam Et' : 'Hemen Bala'}
            </button>
          </div>
        </div>
      `;
    }

    function renderProfile() {
      if (!appState.currentUser) {
        navigateTo('home');
        return '';
      }

      const levelNames = {
        'beginner': 'Balang覺癟',
        'basic': 'Temel',
        'intermediate': 'Orta'
      };

      const goalNames = {
        'project': 'Proje Yapmak',
        'learn': 'Arduino renmek'
      };

      return `
        ${renderNavbar()}
        
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="bg-slate-800 rounded-2xl p-8">
            <div class="text-center mb-8">
              <div class="w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-5xl font-bold mx-auto mb-4">
                ${appState.currentUser.name.charAt(0).toUpperCase()}
              </div>
              <h1 class="text-3xl font-bold mb-2">${appState.currentUser.name}</h1>
              <p class="text-slate-400">${appState.currentUser.email}</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
              <div class="bg-slate-700 rounded-xl p-6">
                <h3 class="font-bold mb-4">Seviye Bilgileri</h3>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-slate-400">Mevcut Seviye</span>
                    <span class="font-bold">${levelNames[appState.currentUser.level]}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-slate-400">Toplam XP</span>
                    <span class="font-bold text-yellow-400">${appState.currentUser.xp || 0}</span>
                  </div>
                </div>
              </div>

              <div class="bg-slate-700 rounded-xl p-6">
                <h3 class="font-bold mb-4">襤lerleme</h3>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-slate-400">Tamamlanan</span>
                    <span class="font-bold">${appState.currentUser.completedModules.length} mod羹l</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-slate-400">Rozetler</span>
                    <span class="font-bold">${appState.currentUser.badges ? appState.currentUser.badges.length : 0}/5</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-slate-700 rounded-xl p-6 mb-6">
              <h3 class="font-bold mb-4">renme Hedefi</h3>
              <p class="text-lg">${goalNames[appState.currentUser.goal]}</p>
            </div>

            <button onclick="logout()" class="w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl font-bold transition-all">
              覺k覺 Yap
            </button>
          </div>
        </div>
      `;
    }

    function renderArduinoPage() {
      const sections = [
        {
          title: "Arduino Nedir?",
          description: "Arduino, elektronik devreler kurup programlayabileceimiz bir gelitirme kart覺d覺r. Sens繹rlerden bilgi al覺r ve motor, 覺覺k gibi 癟覺kt覺lar覺 kontrol eder.",
          details: `
            <div class="space-y-4">
              <div>
                <h4 class="text-xl font-bold text-blue-400 mb-2">Temel 襤levi</h4>
                <p class="text-slate-300">Arduino bir beyin gibi 癟al覺覺r. G繹zlerimiz ve kulaklar覺m覺z gibi sens繹rleri kullanarak 癟evresini alg覺lar; ellerimiz ve kollar覺m覺z gibi motorlar覺 ve 覺覺klar覺 kullanarak tepki verir. Robotik projeler, ak覺ll覺 ev sistemleri, h覺rs覺z alarmlar覺 ve otomatik sulama sistemleri gibi say覺s覺z proje yap覺labilir.</p>
              </div>
              <div>
                <h4 class="text-xl font-bold text-purple-400 mb-2">Orijinal ve Klon Fark覺</h4>
                <ul class="list-disc ml-5 text-slate-300 space-y-1">
                  <li><strong>USB ipi:</strong> Orijinalde ATmega16U2 (s羹r羹c羹s羹z 癟al覺覺r), Klon modellerde genellikle CH340 癟ipi bulunur ve bilgisayara tan覺tmak i癟in ek s羹r羹c羹 (driver) y羹klenmesi gerekir.</li>
                  <li><strong>Malzeme Kalitesi:</strong> Orijinal kartlar daha kaliteli bileenlerden 羹retilir, klonlar daha uygun fiyatl覺 par癟alar kullan覺r.</li>
                  <li><strong>Performans:</strong> Kodlama ve 癟al覺ma mant覺覺 a癟覺s覺ndan hi癟bir fark yoktur. 襤kisi de ayn覺 ii yapar.</li>
                </ul>
              </div>
            </div>
          `,
          path: "Teknofest 2026/1.K覺s覺m(Arduino Nedir)",
          images: [
            { src: "ArduinoUno G繹rsel.jpg", caption: "Arduino Uno" },
            { src: "ArduinoMega G繹rsel.webp", caption: "Arduino Mega" },
            { src: "ArduinoNano G繹rsel.jpg", caption: "Arduino Nano" },
            { src: "SumoRobotu.jpg", caption: "Sumo Robotu" },
            { src: "izgi襤zleyen.jpg", caption: "izgi 襤zleyen Robot" }
          ]
        },
        {
          title: "Arduino T羹rleri",
          description: "Projenin ihtiyac覺na g繹re farkl覺 boyut ve 繹zelliklerde Arduino kartlar覺 vard覺r.",
          details: `
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-yellow-400 mb-2">Arduino UNO</h4>
                <p class="text-sm text-slate-300">En pop羹ler ve balang覺癟 i癟in en uygun kartt覺r. ATmega328P mikrodenetleyicisini kullan覺r. 14 Dijital, 6 Analog girii vard覺r. USB kablosu ile bilgisayara kolayca balan覺r.</p>
              </div>
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-blue-400 mb-2">Arduino MEGA</h4>
                <p class="text-sm text-slate-300">Daha b羹y羹k ve karma覺k projeler i癟indir. ATmega2560 kullan覺r. 54 Dijital, 16 Analog girii vard覺r. 3D yaz覺c覺, drone gibi 癟ok pin gerektiren projelerde tercih edilir.</p>
              </div>
              <div class="bg-slate-700/50 p-4 rounded-xl">
                <h4 class="text-lg font-bold text-green-400 mb-2">Arduino NANO</h4>
                <p class="text-sm text-slate-300">UNO ile ayn覺 繹zelliklere sahiptir ancak boyutu 癟ok k羹癟羹kt羹r. Breadboard 羹zerine direkt tak覺labilir. Yer s覺k覺nt覺s覺 olan mini robotlar ve giyilebilir teknolojiler i癟in idealdir.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/2.K覺s覺m(Arduino T羹rleri)",
          images: [
            { src: "ArduinoUno G繹rsel.jpg", caption: "Arduino Uno" },
            { src: "ArduinoMega G繹rsel.webp", caption: "Arduino Mega" },
            { src: "ArduinoNano G繹rsel.jpg", caption: "Arduino Nano" }
          ]
        },
        {
          title: "Arduino Bacaklar覺 (Pinler)",
          description: "Arduino 羹zerindeki giri ve 癟覺k覺 portlar覺n覺n g繹revleri.",
          details: `
            <div class="space-y-4">
              <div>
                <h4 class="text-lg font-bold text-red-400">G羹癟 Pinleri (Power)</h4>
                <p class="text-slate-300 text-sm"><strong>5V / 3.3V:</strong> Enerji 癟覺k覺lar覺d覺r. <br><strong>GND:</strong> Toprak (Eksi) hatt覺d覺r. <br><strong>Vin:</strong> Harici g羹癟 giriidir.</p>
              </div>
              <div>
                <h4 class="text-lg font-bold text-green-400">Dijital Pinler (0-13)</h4>
                <p class="text-slate-300 text-sm">Sadece 1 (VAR) veya 0 (YOK) deerini al覺rlar. LED yakmak, buton okumak i癟in kullan覺l覺r. <br><strong>PWM (~) Pinleri (3,5,6,9,10,11):</strong> Motor h覺z覺 veya LED parlakl覺覺 gibi analog benzeri 癟覺k覺lar verebilir.<br><strong>TX/RX (0-1):</strong> Haberleme pinleridir, kod y羹klerken bo b覺rak覺lmal覺d覺r.</p>
              </div>
              <div>
                <h4 class="text-lg font-bold text-blue-400">Analog Pinler (A0-A5)</h4>
                <p class="text-slate-300 text-sm">S覺cakl覺k, 覺覺k, nem gibi deiken deerleri okumak i癟in kullan覺l覺r. 0 ile 1023 aras覺nda hassas deer 羹retirler.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/3.K覺s覺m(Arduino Bacaklar覺)",
          images: [
            { src: "ArduinoUno Bacaklar覺.jpg", caption: "Arduino Uno Pin Diyagram覺" }
          ]
        },
        {
          title: "Temel Elemanlar",
          description: "Elektronik devrelerde kullan覺lan temel bileenler ve g繹revleri.",
          details: `
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
              <div>
                <h4 class="font-bold text-white">Breadboard (Devre Tahtas覺)</h4>
                <p class="text-xs text-slate-400 mb-2">Lehim yapmadan devre kurmay覺 salar. Dikey ve yatay hatlar覺 birbirine bal覺d覺r.</p>
                <h4 class="font-bold text-white">LED</h4>
                <p class="text-xs text-slate-400 mb-2">I覺k yayan diyot. Uzun bacak (+), k覺sa bacak (-). Mutlaka diren癟 ile kullan覺lmal覺d覺r.</p>
                <h4 class="font-bold text-white">Diren癟</h4>
                <p class="text-xs text-slate-400 mb-2">Ak覺m覺 s覺n覺rlar, par癟alar覺 yanmaktan korur. Renk kodlar覺 ile deeri okunur. Y繹ns羹zd羹r.</p>
                <h4 class="font-bold text-white">Potansiyometre</h4>
                <p class="text-xs text-slate-400">Ayarlanabilir diren癟tir. Ses veya 覺覺k iddetini ayarlamak i癟in kullan覺l覺r.</p>
              </div>
              <div>
                <h4 class="font-bold text-white">Servo Motor</h4>
                <p class="text-xs text-slate-400 mb-2">0-180 derece aras覺 hassas a癟覺 yapabilen motordur. Robot kollarda kullan覺l覺r. (K覺rm覺z覺: G羹癟, Kahve: GND, Turuncu: Sinyal).</p>
                <h4 class="font-bold text-white">HC-SR04 Mesafe Sens繹r羹</h4>
                <p class="text-xs text-slate-400 mb-2">Ultrasonik ses dalgalar覺 ile mesafe 繹l癟er (Yarasa mant覺覺). Trig (g繹nder) ve Echo (al) pinleri vard覺r.</p>
                <h4 class="font-bold text-white">Buton</h4>
                <p class="text-xs text-slate-400">Devreyi tamamlayan veya kesen anahtard覺r. Genellikle 4 bacakl覺d覺r.</p>
              </div>
            </div>
          `,
          path: "Teknofest 2026/4.K覺s覺m(Temel Elemanlar 1.K覺s覺m)",
          images: [
            { src: "BreadBoardB羹y羹k.jpg", caption: "Breadboard" },
            { src: "Diren癟RenkKodlar覺覺.jpg", caption: "Diren癟 Renk Kodlar覺" },
            { src: "K覺rm覺z覺Led.jpg", caption: "LED" },
            { src: "Buton.jpg", caption: "Buton" },
            { src: "Potansiyometre.jpg", caption: "Potansiyometre" },
            { src: "hcsr-4.webp", caption: "Mesafe Sens繹r羹" },
            { src: "servo-motor-uclari.png", caption: "Servo Motor" }
          ]
        }
      ];

      return `
        ${renderNavbar()}
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div class="text-center mb-16">
            <h1 class="text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">
              Arduino Eitim Materyalleri
            </h1>
            <p class="text-xl text-slate-400 max-w-2xl mx-auto">
              Teknofest 2026 haz覺rl覺k s羹reci i癟in kapsaml覺 teknik bilgiler ve devre emalar覺.
            </p>
          </div>

          <div class="space-y-16">
            ${sections.map(section => `
              <div class="bg-slate-800 rounded-3xl p-8 shadow-2xl border border-slate-700">
                <div class="mb-8">
                  <h2 class="text-3xl font-bold mb-4 text-white border-b border-slate-700 pb-4">${section.title}</h2>
                  <p class="text-slate-300 text-lg mb-6 leading-relaxed">${section.description}</p>
                  ${section.details ? `
                    <div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50 backdrop-blur-sm">
                      ${section.details}
                    </div>
                  ` : ''}
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
                  ${section.images.map(img => `
                    <div class="group relative bg-slate-900 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all hover:scale-[1.02] border border-slate-700/30">
                      <div class="aspect-w-16 aspect-h-12 w-full overflow-hidden bg-slate-800">
                        <img 
                          src="${section.path}/${img.src}" 
                          alt="${img.caption}" 
                          class="w-full h-64 object-cover transform group-hover:scale-110 transition-transform duration-500"
                          loading="lazy"
                        />
                      </div>
                      <div class="absolute bottom-0 inset-x-0 bg-gradient-to-t from-slate-900 via-slate-900/90 to-transparent p-4 pt-16">
                        <p class="text-white font-bold text-lg text-center shadow-black drop-shadow-md">${img.caption}</p>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    // ==================== MAIN RENDER ====================
    function renderApp() {
      let content = '';
      
      if (appState.currentModuleView && appState.currentUser) {
        content = renderModuleDetail();
      } else {
        switch(appState.currentPage) {
          case 'home':
            content = renderHomePage();
            break;
          case 'dashboard':
            content = appState.currentUser ? renderDashboard() : renderHomePage();
            break;
          case 'editor':
            content = renderEditor();
            break;
          case 'docs':
            content = renderDocumentation();
            break;
          case 'components':
            content = renderComponents();
            break;
          case 'videos':
            content = renderVideos();
            break;
          case 'path':
            content = renderLearningPath();
            break;
          case 'algo-builder':
            content = renderAlgoBuilder();
            break;
          case 'quiz':
            content = renderQuiz();
            break;
          case 'profile':
            content = renderProfile();
            break;
          case 'about':
            content = renderAbout();
            break;
          case 'arduino':
            content = renderArduinoPage();
            break;
          default:
            content = renderHomePage();
        }
      }
      
      document.getElementById('app').innerHTML = content + (appState.showAuthModal ? renderAuthModal() : '') + (appState.showIntro ? renderIntro() : '');
      
      if (appState.currentPage === 'algo-builder') {
        setTimeout(() => renderConnectionsSVG(), 0);
      }

      if (appState.currentPage === 'editor') {
        setTimeout(() => {
          initEditor();
          const arduinoBoard = document.getElementById('arduinoBoard');
          if (arduinoBoard) {
            arduinoBoard.innerHTML = renderArduinoBoard();
          }
          // Seri monit繹r羹 en alta kayd覺r
          const serialMonitor = document.getElementById('serialMonitor');
          if (serialMonitor) {
            serialMonitor.scrollTop = serialMonitor.scrollHeight;
          }
        }, 100);
      }
    }

    renderApp();
  </script>
</body>
</html>
